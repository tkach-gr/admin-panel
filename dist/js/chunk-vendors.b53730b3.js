(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors"],{"00ee":function(e,t,n){var r=n("b622"),i=r("toStringTag"),o={};o[i]="z",e.exports="[object z]"===String(o)},"0366":function(e,t,n){var r=n("1c0b");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},"06cf":function(e,t,n){var r=n("83ab"),i=n("d1e7"),o=n("5c6c"),s=n("fc6a"),a=n("c04e"),c=n("5135"),u=n("0cfb"),l=Object.getOwnPropertyDescriptor;t.f=r?l:function(e,t){if(e=s(e),t=a(t,!0),u)try{return l(e,t)}catch(n){}if(c(e,t))return o(!i.f.call(e,t),e[t])}},"0cfb":function(e,t,n){var r=n("83ab"),i=n("d039"),o=n("cc12");e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},1276:function(e,t,n){"use strict";var r=n("d784"),i=n("44e7"),o=n("825a"),s=n("1d80"),a=n("4840"),c=n("8aa5"),u=n("50c4"),l=n("14c3"),h=n("9263"),p=n("d039"),f=[].push,d=Math.min,v=4294967295,y=!p((function(){return!RegExp(v,"y")}));r("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(s(this)),o=void 0===n?v:n>>>0;if(0===o)return[];if(void 0===e)return[r];if(!i(e))return t.call(r,e,o);var a,c,u,l=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,y=new RegExp(e.source,p+"g");while(a=h.call(y,r)){if(c=y.lastIndex,c>d&&(l.push(r.slice(d,a.index)),a.length>1&&a.index<r.length&&f.apply(l,a.slice(1)),u=a[0].length,d=c,l.length>=o))break;y.lastIndex===a.index&&y.lastIndex++}return d===r.length?!u&&y.test("")||l.push(""):l.push(r.slice(d)),l.length>o?l.slice(0,o):l}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=s(this),o=void 0==t?void 0:t[e];return void 0!==o?o.call(t,i,n):r.call(String(i),t,n)},function(e,i){var s=n(r,e,this,i,r!==t);if(s.done)return s.value;var h=o(e),p=String(this),f=a(h,RegExp),_=h.unicode,g=(h.ignoreCase?"i":"")+(h.multiline?"m":"")+(h.unicode?"u":"")+(y?"y":"g"),m=new f(y?h:"^(?:"+h.source+")",g),b=void 0===i?v:i>>>0;if(0===b)return[];if(0===p.length)return null===l(m,p)?[p]:[];var w=0,O=0,C=[];while(O<p.length){m.lastIndex=y?O:0;var E,S=l(m,y?p:p.slice(O));if(null===S||(E=d(u(m.lastIndex+(y?0:O)),p.length))===w)O=c(p,O,_);else{if(C.push(p.slice(w,O)),C.length===b)return C;for(var T=1;T<=S.length-1;T++)if(C.push(S[T]),C.length===b)return C;O=w=E}}return C.push(p.slice(w)),C}]}),!y)},"14c3":function(e,t,n){var r=n("c6b6"),i=n("9263");e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var o=n.call(e,t);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},"19aa":function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},"1be4":function(e,t,n){var r=n("d066");e.exports=r("document","documentElement")},"1c0b":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},"1c7e":function(e,t,n){var r=n("b622"),i=r("iterator"),o=!1;try{var s=0,a={next:function(){return{done:!!s++}},return:function(){o=!0}};a[i]=function(){return this},Array.from(a,(function(){throw 2}))}catch(c){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(c){}return n}},"1cdc":function(e,t,n){var r=n("342f");e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},"1d80":function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},"1da1":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("d3b7");function r(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(u){return void n(u)}a.done?t(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var s=e.apply(t,n);function a(e){r(s,i,o,a,c,"next",e)}function c(e){r(s,i,o,a,c,"throw",e)}a(void 0)}))}}},"1dde":function(e,t,n){var r=n("d039"),i=n("b622"),o=n("2d00"),s=i("species");e.exports=function(e){return o>=51||!r((function(){var t=[],n=t.constructor={};return n[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},2266:function(e,t,n){var r=n("825a"),i=n("e95a"),o=n("50c4"),s=n("0366"),a=n("35a1"),c=n("2a62"),u=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,n){var l,h,p,f,d,v,y,_=n&&n.that,g=!(!n||!n.AS_ENTRIES),m=!(!n||!n.IS_ITERATOR),b=!(!n||!n.INTERRUPTED),w=s(t,_,1+g+b),O=function(e){return l&&c(l),new u(!0,e)},C=function(e){return g?(r(e),b?w(e[0],e[1],O):w(e[0],e[1])):b?w(e,O):w(e)};if(m)l=e;else{if(h=a(e),"function"!=typeof h)throw TypeError("Target is not iterable");if(i(h)){for(p=0,f=o(e.length);f>p;p++)if(d=C(e[p]),d&&d instanceof u)return d;return new u(!1)}l=h.call(e)}v=l.next;while(!(y=v.call(l)).done){try{d=C(y.value)}catch(E){throw c(l),E}if("object"==typeof d&&d&&d instanceof u)return d}return new u(!1)}},"23cb":function(e,t,n){var r=n("a691"),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},"23e7":function(e,t,n){var r=n("da84"),i=n("06cf").f,o=n("9112"),s=n("6eeb"),a=n("ce4e"),c=n("e893"),u=n("94ca");e.exports=function(e,t){var n,l,h,p,f,d,v=e.target,y=e.global,_=e.stat;if(l=y?r:_?r[v]||a(v,{}):(r[v]||{}).prototype,l)for(h in t){if(f=t[h],e.noTargetGet?(d=i(l,h),p=d&&d.value):p=l[h],n=u(y?h:v+(_?".":"#")+h,e.forced),!n&&void 0!==p){if(typeof f===typeof p)continue;c(f,p)}(e.sham||p&&p.sham)&&o(f,"sham",!0),s(l,h,f,e)}}},"241c":function(e,t,n){var r=n("ca84"),i=n("7839"),o=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},"260b":function(e,t,n){"use strict";var r=n("cc84");n.d(t,"a",(function(){return r["a"]}));var i="firebase",o="8.2.9";
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
r["a"].registerVersion(i,o,"app")},2626:function(e,t,n){"use strict";var r=n("d066"),i=n("9bf2"),o=n("b622"),s=n("83ab"),a=o("species");e.exports=function(e){var t=r(e),n=i.f;s&&t&&!t[a]&&n(t,a,{configurable:!0,get:function(){return this}})}},"2a62":function(e,t,n){var r=n("825a");e.exports=function(e){var t=e["return"];if(void 0!==t)return r(t.call(e)).value}},"2cf4":function(e,t,n){var r,i,o,s=n("da84"),a=n("d039"),c=n("0366"),u=n("1be4"),l=n("cc12"),h=n("1cdc"),p=n("605d"),f=s.location,d=s.setImmediate,v=s.clearImmediate,y=s.process,_=s.MessageChannel,g=s.Dispatch,m=0,b={},w="onreadystatechange",O=function(e){if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},C=function(e){return function(){O(e)}},E=function(e){O(e.data)},S=function(e){s.postMessage(e+"",f.protocol+"//"+f.host)};d&&v||(d=function(e){var t=[],n=1;while(arguments.length>n)t.push(arguments[n++]);return b[++m]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(m),m},v=function(e){delete b[e]},p?r=function(e){y.nextTick(C(e))}:g&&g.now?r=function(e){g.now(C(e))}:_&&!h?(i=new _,o=i.port2,i.port1.onmessage=E,r=c(o.postMessage,o,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts&&f&&"file:"!==f.protocol&&!a(S)?(r=S,s.addEventListener("message",E,!1)):r=w in l("script")?function(e){u.appendChild(l("script"))[w]=function(){u.removeChild(this),O(e)}}:function(e){setTimeout(C(e),0)}),e.exports={set:d,clear:v}},"2d00":function(e,t,n){var r,i,o=n("da84"),s=n("342f"),a=o.process,c=a&&a.versions,u=c&&c.v8;u?(r=u.split("."),i=r[0]+r[1]):s&&(r=s.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/),r&&(i=r[1]))),e.exports=i&&+i},"342f":function(e,t,n){var r=n("d066");e.exports=r("navigator","userAgent")||""},"35a1":function(e,t,n){var r=n("f5df"),i=n("3f8c"),o=n("b622"),s=o("iterator");e.exports=function(e){if(void 0!=e)return e[s]||e["@@iterator"]||i[r(e)]}},"37e8":function(e,t,n){var r=n("83ab"),i=n("9bf2"),o=n("825a"),s=n("df75");e.exports=r?Object.defineProperties:function(e,t){o(e);var n,r=s(t),a=r.length,c=0;while(a>c)i.f(e,n=r[c++],t[n]);return e}},"3bbe":function(e,t,n){var r=n("861d");e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},"3f8c":function(e,t){e.exports={}},"428f":function(e,t,n){var r=n("da84");e.exports=r},4362:function(e,t,n){t.nextTick=function(e){var t=Array.prototype.slice.call(arguments);t.shift(),setTimeout((function(){e.apply(null,t)}),0)},t.platform=t.arch=t.execPath=t.title="browser",t.pid=1,t.browser=!0,t.env={},t.argv=[],t.binding=function(e){throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,r="/";t.cwd=function(){return r},t.chdir=function(t){e||(e=n("df7c")),r=e.resolve(t,r)}}(),t.exit=t.kill=t.umask=t.dlopen=t.uptime=t.memoryUsage=t.uvCounters=function(){},t.features={}},"44ad":function(e,t,n){var r=n("d039"),i=n("c6b6"),o="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},"44d2":function(e,t,n){var r=n("b622"),i=n("7c73"),o=n("9bf2"),s=r("unscopables"),a=Array.prototype;void 0==a[s]&&o.f(a,s,{configurable:!0,value:i(null)}),e.exports=function(e){a[s][e]=!0}},"44de":function(e,t,n){var r=n("da84");e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},"44e7":function(e,t,n){var r=n("861d"),i=n("c6b6"),o=n("b622"),s=o("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==i(e))}},4840:function(e,t,n){var r=n("825a"),i=n("1c0b"),o=n("b622"),s=o("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||void 0==(n=r(o)[s])?t:i(n)}},4930:function(e,t,n){var r=n("d039");e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},"4d64":function(e,t,n){var r=n("fc6a"),i=n("50c4"),o=n("23cb"),s=function(e){return function(t,n,s){var a,c=r(t),u=i(c.length),l=o(s,u);if(e&&n!=n){while(u>l)if(a=c[l++],a!=a)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},"50c4":function(e,t,n){var r=n("a691"),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},5135:function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},5692:function(e,t,n){var r=n("c430"),i=n("c6cd");(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.9.0",mode:r?"pure":"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})},"56ef":function(e,t,n){var r=n("d066"),i=n("241c"),o=n("7418"),s=n("825a");e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(s(e)),n=o.f;return n?t.concat(n(e)):t}},"588e":function(e,t,n){"use strict";var r=n("cc84"),i=n("9ab4"),o=n("a8e9"),s=n("ffa6"),a="firebasestorage.googleapis.com",c="storageBucket",u=12e4,l=6e5,h=function(e){function t(n,r){var i=e.call(this,p(n),"Firebase Storage: "+r+" ("+p(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,t.prototype),i}return Object(i["c"])(t,e),t.prototype._codeEquals=function(e){return p(e)===this.code},Object.defineProperty(t.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e},enumerable:!1,configurable:!0}),t}(o["c"]);function p(e){return"storage/"+e}function f(){var e="An unknown error occurred, please check the error payload for server response.";return new h("unknown",e)}function d(e){return new h("object-not-found","Object '"+e+"' does not exist.")}function v(e){return new h("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function y(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new h("unauthenticated",e)}function _(e){return new h("unauthorized","User does not have permission to access '"+e+"'.")}function g(){return new h("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function m(){return new h("canceled","User canceled the upload/download.")}function b(e){return new h("invalid-url","Invalid URL '"+e+"'.")}function w(e){return new h("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function O(){return new h("no-default-bucket","No default bucket found. Did you set the '"+c+"' property when initializing the app?")}function C(){return new h("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function E(){return new h("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function S(){return new h("no-download-url","The given file does not have any download URLs.")}function T(e){return new h("invalid-argument",e)}function x(){return new h("app-deleted","The Firebase app was deleted.")}function j(e){return new h("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function R(e,t){return new h("invalid-format","String does not match format '"+e+"': "+t)}function P(e){throw new h("internal-error","Internal error: "+e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var k={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},I=function(){function e(e,t){this.data=e,this.contentType=t||null}return e}();function N(e,t){switch(e){case k.RAW:return new I(A(t));case k.BASE64:case k.BASE64URL:return new I(L(e,t));case k.DATA_URL:return new I(M(t),U(t))}throw f()}function A(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){var i=n<e.length-1&&56320===(64512&e.charCodeAt(n+1));if(i){var o=r,s=e.charCodeAt(++n);r=65536|(1023&o)<<10|1023&s,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function D(e){var t;try{t=decodeURIComponent(e)}catch(n){throw R(k.DATA_URL,"Malformed data URL.")}return A(t)}function L(e,t){switch(e){case k.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){var i=n?"-":"_";throw R(e,"Invalid character '"+i+"' found: is it base64url encoded?")}break;case k.BASE64URL:var o=-1!==t.indexOf("+"),s=-1!==t.indexOf("/");if(o||s){i=o?"+":"/";throw R(e,"Invalid character '"+i+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}var a;try{a=atob(t)}catch(l){throw R(e,"Invalid character found")}for(var c=new Uint8Array(a.length),u=0;u<a.length;u++)c[u]=a.charCodeAt(u);return c}var F=function(){function e(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw R(k.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=q(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1)}return e}();function M(e){var t=new F(e);return t.base64?L(k.BASE64,t.rest):D(t.rest)}function U(e){var t=new F(e);return t.contentType}function q(e,t){var n=e.length>=t.length;return!!n&&e.substring(e.length-t.length)===t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var B,W={STATE_CHANGED:"state_changed"},V={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Q(e){switch(e){case"running":case"pausing":case"canceling":return V.RUNNING;case"paused":return V.PAUSED;case"success":return V.SUCCESS;case"canceled":return V.CANCELED;case"error":return V.ERROR;default:return V.ERROR}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(e){e[e["NO_ERROR"]=0]="NO_ERROR",e[e["NETWORK_ERROR"]=1]="NETWORK_ERROR",e[e["ABORT"]=2]="ABORT"})(B||(B={}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var H=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=B.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=B.ABORT,t(e)})),e.xhr_.addEventListener("error",(function(){e.errorCode_=B.NETWORK_ERROR,t(e)})),e.xhr_.addEventListener("load",(function(){t(e)}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw P("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw P("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw P("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw P("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}(),z=function(){function e(){}return e.prototype.createXhrIo=function(){return new H},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function K(e){return void 0!==e}function G(e){return"function"===typeof e}function Y(e){return"object"===typeof e&&!Array.isArray(e)}function $(e){return"string"===typeof e||e instanceof String}function X(e){return J()&&e instanceof Blob}function J(){return"undefined"!==typeof Blob}function Z(e,t,n,r){if(r<t)throw T("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw T("Invalid value for '"+e+"'. Expected "+n+" or less.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function te(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=ee();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(J())return new Blob(e);throw new h("unsupported-environment","This browser doesn't seem to support creating Blobs")}function ne(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var re=function(){function e(e,t){var n=0,r="";X(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(X(this.data_)){var r=this.data_,i=ne(r,t,n);return null===i?null:new e(i)}var o=new Uint8Array(this.data_.buffer,t,n-t);return new e(o,!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(J()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(te.apply(null,r))}var i=t.map((function(e){return $(e)?N(k.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),a=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)s[a++]=e[t]})),new e(s,!0)},e.prototype.uploadData=function(){return this.data_},e}(),ie=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o"},e.makeFromBucketSpec=function(t){var n;try{n=e.makeFromUrl(t)}catch(r){return new e(t,"")}if(""===n.path)return n;throw w(t)},e.makeFromUrl=function(t){var n=null,r="([A-Za-z0-9.\\-_]+)";function i(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}var o="(/(.*))?$",s=new RegExp("^gs://"+r+o,"i"),c={bucket:1,path:3};function u(e){e.path_=decodeURIComponent(e.path)}for(var l="v[A-Za-z0-9_]+",h=a.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",f=new RegExp("^https?://"+h+"/"+l+"/b/"+r+"/o"+p,"i"),d={bucket:1,path:3},v="(?:storage.googleapis.com|storage.cloud.google.com)",y="([^?#]*)",_=new RegExp("^https?://"+v+"/"+r+"/"+y,"i"),g={bucket:1,path:2},m=[{regex:s,indices:c,postModify:i},{regex:f,indices:d,postModify:u},{regex:_,indices:g,postModify:u}],w=0;w<m.length;w++){var O=m[w],C=O.regex.exec(t);if(C){var E=C[O.indices.bucket],S=C[O.indices.path];S||(S=""),n=new e(E,S),O.postModify(n);break}}if(null==n)throw b(t);return n},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function oe(e){var t;try{t=JSON.parse(e)}catch(n){return null}return Y(t)?t:null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(e){if(0===e.length)return null;var t=e.lastIndexOf("/");if(-1===t)return"";var n=e.slice(0,t);return n}function ae(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}function ce(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ue(e){return"https://"+a+"/v0"+e}function le(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(e,t){return t}var pe=function(){function e(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||he}return e}(),fe=null;function de(e){return!$(e)||e.length<2?e:ce(e)}function ve(){if(fe)return fe;var e=[];function t(e,t){return de(t)}e.push(new pe("bucket")),e.push(new pe("generation")),e.push(new pe("metageneration")),e.push(new pe("name","fullPath",!0));var n=new pe("name");function r(e,t){return void 0!==t?Number(t):t}n.xform=t,e.push(n);var i=new pe("size");return i.xform=r,e.push(i),e.push(new pe("timeCreated")),e.push(new pe("updated")),e.push(new pe("md5Hash",null,!0)),e.push(new pe("cacheControl",null,!0)),e.push(new pe("contentDisposition",null,!0)),e.push(new pe("contentEncoding",null,!0)),e.push(new pe("contentLanguage",null,!0)),e.push(new pe("contentType",null,!0)),e.push(new pe("metadata","customMetadata",!0)),fe=e,fe}function ye(e,t){function n(){var n=e["bucket"],r=e["fullPath"],i=new ie(n,r);return t._makeStorageReference(i)}Object.defineProperty(e,"ref",{get:n})}function _e(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,t[s.server])}return ye(r,e),r}function ge(e,t,n){var r=oe(t);if(null===r)return null;var i=r;return _e(e,i,n)}function me(e,t){var n=oe(t);if(null===n)return null;if(!$(n["downloadTokens"]))return null;var r=n["downloadTokens"];if(0===r.length)return null;var i=encodeURIComponent,o=r.split(","),s=o.map((function(t){var n=e["bucket"],r=e["fullPath"],o="/b/"+i(n)+"/o/"+i(r),s=ue(o),a=le({alt:"media",token:t});return s+a}));return s[0]}function be(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we="prefixes",Oe="items";function Ce(e,t,n){var r={prefixes:[],items:[],nextPageToken:n["nextPageToken"]};if(n[we])for(var i=0,o=n[we];i<o.length;i++){var s=o[i],a=s.replace(/\/$/,""),c=e._makeStorageReference(new ie(t,a));r.prefixes.push(c)}if(n[Oe])for(var u=0,l=n[Oe];u<l.length;u++){var h=l[u];c=e._makeStorageReference(new ie(t,h["name"]));r.items.push(c)}return r}function Ee(e,t,n){var r=oe(n);if(null===r)return null;var i=r;return Ce(e,t,i)}var Se=function(){function e(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(e){if(!e)throw f()}function xe(e,t){function n(n,r){var i=ge(e,r,t);return Te(null!==i),i}return n}function je(e,t){function n(n,r){var i=Ee(e,t,r);return Te(null!==i),i}return n}function Re(e,t){function n(n,r){var i=ge(e,r,t);return Te(null!==i),me(i,r)}return n}function Pe(e){function t(t,n){var r;return r=401===t.getStatus()?y():402===t.getStatus()?v(e.bucket):403===t.getStatus()?_(e.path):n,r.serverResponse=n.serverResponse,r}return t}function ke(e){var t=Pe(e);function n(n,r){var i=t(n,r);return 404===n.getStatus()&&(i=d(e.path)),i.serverResponse=r.serverResponse,i}return n}function Ie(e,t,n){var r=t.fullServerUrl(),i=ue(r),o="GET",s=e.maxOperationRetryTime,a=new Se(i,o,xe(e,n),s);return a.errorHandler=ke(t),a}function Ne(e,t,n,r,i){var o={};t.isRoot?o["prefix"]="":o["prefix"]=t.path+"/",n&&n.length>0&&(o["delimiter"]=n),r&&(o["pageToken"]=r),i&&(o["maxResults"]=i);var s=t.bucketOnlyServerUrl(),a=ue(s),c="GET",u=e.maxOperationRetryTime,l=new Se(a,c,je(e,t.bucket),u);return l.urlParams=o,l.errorHandler=Pe(t),l}function Ae(e,t,n){var r=t.fullServerUrl(),i=ue(r),o="GET",s=e.maxOperationRetryTime,a=new Se(i,o,Re(e,n),s);return a.errorHandler=ke(t),a}function De(e,t,n,r){var i=t.fullServerUrl(),o=ue(i),s="PATCH",a=be(n,r),c={"Content-Type":"application/json; charset=utf-8"},u=e.maxOperationRetryTime,l=new Se(o,s,xe(e,r),u);return l.headers=c,l.body=a,l.errorHandler=ke(t),l}function Le(e,t){var n=t.fullServerUrl(),r=ue(n),i="DELETE",o=e.maxOperationRetryTime;function s(e,t){}var a=new Se(r,i,s,o);return a.successCodes=[200,204],a.errorHandler=ke(t),a}function Fe(e,t){return e&&e["contentType"]||t&&t.type()||"application/octet-stream"}function Me(e,t,n){var r=Object.assign({},n);return r["fullPath"]=e.path,r["size"]=t.size(),r["contentType"]||(r["contentType"]=Fe(null,t)),r}function Ue(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}var c=a();s["Content-Type"]="multipart/related; boundary="+c;var u=Me(t,r,i),l=be(u,n),h="--"+c+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+l+"\r\n--"+c+"\r\nContent-Type: "+u["contentType"]+"\r\n\r\n",p="\r\n--"+c+"--",f=re.getBlob(h,r,p);if(null===f)throw C();var d={name:u["fullPath"]},v=ue(o),y="POST",_=e.maxUploadRetryTime,g=new Se(v,y,xe(e,n),_);return g.urlParams=d,g.headers=s,g.body=f.uploadData(),g.errorHandler=Pe(t),g}var qe=function(){function e(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}return e}();function Be(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(i){Te(!1)}var r=t||["active"];return Te(!!n&&-1!==r.indexOf(n)),n}function We(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),s=Me(t,r,i),a={name:s["fullPath"]},c=ue(o),u="POST",l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s["contentType"],"Content-Type":"application/json; charset=utf-8"},h=be(s,n),p=e.maxUploadRetryTime;function f(e){var t;Be(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){Te(!1)}return Te($(t)),t}var d=new Se(c,u,f,p);return d.urlParams=a,d.headers=l,d.body=h,d.errorHandler=Pe(t),d}function Ve(e,t,n,r){var i={"X-Goog-Upload-Command":"query"};function o(e){var t=Be(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){Te(!1)}n||Te(!1);var i=Number(n);return Te(!isNaN(i)),new qe(i,r.size(),"final"===t)}var s="POST",a=e.maxUploadRetryTime,c=new Se(n,s,o,a);return c.headers=i,c.errorHandler=Pe(t),c}var Qe=262144;function He(e,t,n,r,i,o,s,a){var c=new qe(0,0);if(s?(c.current=s.current,c.total=s.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw E();var u=c.total-c.current,l=u;i>0&&(l=Math.min(l,i));var h=c.current,p=h+l,f=l===u?"upload, finalize":"upload",d={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":c.current},v=r.slice(h,p);if(null===v)throw C();function y(e,n){var i,s=Be(e,["active","final"]),a=c.current+l,u=r.size();return i="final"===s?xe(t,o)(e,n):null,new qe(a,u,"final"===s,i)}var _="POST",g=t.maxUploadRetryTime,m=new Se(n,_,y,g);return m.headers=d,m.body=v.uploadData(),m.progressCallback=a||null,m.errorHandler=Pe(e),m}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze=function(){function e(e,t,n){var r=G(e)||null!=t||null!=n;if(r)this.next=e,this.error=t,this.complete=n;else{var i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}}return e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=ve(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;this._ref.storage._getAuthToken().then((function(n){switch(t._state){case"running":e(n);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused");break}}))},e.prototype._createResumable=function(){var e=this;this._resolveToken((function(t){var n=We(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),r=e._ref.storage._makeRequest(n,t);e._request=r,r.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n){var r=Ve(e._ref.storage,e._ref._location,t,e._blob),i=e._ref.storage._makeRequest(r,n);e._request=i,i.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},e.prototype._continueUpload=function(){var e=this,t=Qe*this._chunkMultiplier,n=new qe(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i){var o;try{o=He(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(a){return e._error=a,void e._transition("error")}var s=e._ref.storage._makeRequest(o,i);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},e.prototype._increaseMultiplier=function(){var e=Qe*this._chunkMultiplier;e<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t){var n=Ie(e._ref.storage,e._ref._location,e._mappings),r=e._ref.storage._makeRequest(n,t);e._request=r,r.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t){var n=Ue(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),r=e._ref.storage._makeRequest(n,t);e._request=r,r.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":this._state=e,void 0!==this._request&&this._request.cancel();break;case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=m(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=Q(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new ze(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise();var t=this._observers.slice();t.forEach((function(t){e._notifyObserver(t)}))},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(Q(this._state)){case V.SUCCESS:Ke(this._resolve.bind(null,this.snapshot))();break;case V.CANCELED:case V.ERROR:var t=this._reject;Ke(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){var t=Q(this._state);switch(t){case V.RUNNING:case V.PAUSED:e.next&&Ke(e.next.bind(e,this.snapshot))();break;case V.SUCCESS:e.complete&&Ke(e.complete.bind(e))();break;case V.CANCELED:case V.ERROR:e.error&&Ke(e.error.bind(e,this._error))();break;default:e.error&&Ke(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),Ye=function(){function e(e,t){this._service=e,this._location=t instanceof ie?t:ie.makeFromUrl(t)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new ie(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return ce(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=se(this._location.path);if(null===t)return null;var n=new ie(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw j(e)},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Ge(e,new re(t),n)}function Xe(e){var t={prefixes:[],items:[]};return Je(e,t).then((function(){return t}))}function Je(e,t,n){return Object(i["b"])(this,void 0,void 0,(function(){var r,o,s,a;return Object(i["d"])(this,(function(i){switch(i.label){case 0:return r={pageToken:n},[4,Ze(e,r)];case 1:return o=i.sent(),(s=t.prefixes).push.apply(s,o.prefixes),(a=t.items).push.apply(a,o.items),null==o.nextPageToken?[3,3]:[4,Je(e,t,o.nextPageToken)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Ze(e,t){return Object(i["b"])(this,void 0,void 0,(function(){var n,r,o;return Object(i["d"])(this,(function(i){switch(i.label){case 0:return null!=t&&"number"===typeof t.maxResults&&Z("options.maxResults",1,1e3,t.maxResults),[4,e.storage._getAuthToken()];case 1:return n=i.sent(),r=t||{},o=Ne(e.storage,e._location,"/",r.pageToken,r.maxResults),[2,e.storage._makeRequest(o,n).getPromise()]}}))}))}function et(e){return Object(i["b"])(this,void 0,void 0,(function(){var t,n;return Object(i["d"])(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("getMetadata"),[4,e.storage._getAuthToken()];case 1:return t=r.sent(),n=Ie(e.storage,e._location,ve()),[2,e.storage._makeRequest(n,t).getPromise()]}}))}))}function tt(e,t){return Object(i["b"])(this,void 0,void 0,(function(){var n,r;return Object(i["d"])(this,(function(i){switch(i.label){case 0:return e._throwIfRoot("updateMetadata"),[4,e.storage._getAuthToken()];case 1:return n=i.sent(),r=De(e.storage,e._location,t,ve()),[2,e.storage._makeRequest(r,n).getPromise()]}}))}))}function nt(e){return Object(i["b"])(this,void 0,void 0,(function(){var t,n;return Object(i["d"])(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("getDownloadURL"),[4,e.storage._getAuthToken()];case 1:return t=r.sent(),n=Ae(e.storage,e._location,ve()),[2,e.storage._makeRequest(n,t).getPromise().then((function(e){if(null===e)throw S();return e}))]}}))}))}function rt(e){return Object(i["b"])(this,void 0,void 0,(function(){var t,n;return Object(i["d"])(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("deleteObject"),[4,e.storage._getAuthToken()];case 1:return t=r.sent(),n=Le(e.storage,e._location),[2,e.storage._makeRequest(n,t).getPromise()]}}))}))}function it(e,t){var n=ae(e._location.path,t),r=new ie(e._location.bucket,n);return new Ye(e.storage,r)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),st=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new ot(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new ot(t,n,n._ref))}),t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"===typeof t?function(e){return t(new ot(e,i,i._ref))}:{next:t.next?function(e){return t.next(new ot(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),at=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new ct(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new ct(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),ct=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=it(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new st($e(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=k.RAW),this._throwIfRoot("putString");var r=N(t,e),o=Object(i["a"])({},n);return null==o["contentType"]&&null!=r.contentType&&(o["contentType"]=r.contentType),new st(new Ge(this._delegate,new re(r.data,!0),o),this)},e.prototype.listAll=function(){var e=this;return Xe(this._delegate).then((function(t){return new at(t,e.storage)}))},e.prototype.list=function(e){var t=this;return Ze(this._delegate,e).then((function(e){return new at(e,t.storage)}))},e.prototype.getMetadata=function(){return et(this._delegate)},e.prototype.updateMetadata=function(e){return tt(this._delegate,e)},e.prototype.getDownloadURL=function(){return nt(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),rt(this._delegate)},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw j(e)},e}(),ut=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function lt(e,t,n){var r=1,o=null,s=!1,a=0;function c(){return 2===a}var u=!1;function l(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];u||(u=!0,t.apply(null,e))}function h(t){o=setTimeout((function(){o=null,e(p,c())}),t)}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!u)if(e)l.call.apply(l,Object(i["g"])([null,e],t));else{var o,p=c()||s;if(p)l.call.apply(l,Object(i["g"])([null,e],t));else r<64&&(r*=2),1===a?(a=2,o=0):o=1e3*(r+Math.random()),h(o)}}var f=!1;function d(e){f||(f=!0,u||(null!==o?(e||(a=2),clearTimeout(o),h(0)):e||(a=1)))}return h(0),setTimeout((function(){s=!0,d(!0)}),n),d}function ht(e){e(!1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt=function(){function e(e,t,n,r,i,o,s,a,c,u,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=u,this.timeout_=c,this.pool_=l,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){if(n)t(!1,new ft(!1,null,!0));else{var r=e.pool_.createXhrIo();e.pendingXhr_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(n){null!==e.progressCallback_&&n.removeUploadProgressListener(i),e.pendingXhr_=null,n=n;var r=n.getErrorCode()===B.NO_ERROR,o=n.getStatus();if(r&&!e.isRetryStatusCode_(o)){var s=-1!==e.successCodes_.indexOf(o);t(!0,new ft(s,n))}else{var a=n.getErrorCode()===B.ABORT;t(!1,new ft(!1,null,a))}}))}function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}function n(t,n){var r=e.resolve_,i=e.reject_,o=n.xhr;if(n.wasSuccessCode)try{var s=e.callback_(o,o.getResponseText());K(s)?r(s):r()}catch(c){i(c)}else if(null!==o){var a=f();a.serverResponse=o.getResponseText(),e.errorCallback_?i(e.errorCallback_(o,a)):i(a)}else if(n.canceled){a=e.appDelete_?x():m();i(a)}else{a=g();i(a)}}this.canceled_?n(!1,new ft(!1,null,!0)):this.backoffId_=lt(t,n,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&ht(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=[408,429],r=-1!==n.indexOf(e),i=-1!==this.additionalRetryCodes_.indexOf(e);return t||r||i},e}(),ft=function(){function e(e,t,n){this.wasSuccessCode=e,this.xhr=t,this.canceled=!!n}return e}();function dt(e,t){null!==t&&t.length>0&&(e["Authorization"]="Firebase "+t)}function vt(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}function yt(e,t){t&&(e["X-Firebase-GMPID"]=t)}function _t(e,t,n,r,i){var o=le(e.urlParams),s=e.url+o,a=Object.assign({},e.headers);return yt(a,t),dt(a,n),vt(a,i),new pt(s,e.method,a,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(e){return/^[A-Za-z]+:\/\//.test(e)}function mt(e,t){return new Ye(e,t)}function bt(e,t){if(e instanceof Ct){var n=e;if(null==n._bucket)throw O();var r=new Ye(n,n._bucket);return null!=t?bt(r,t):r}if(void 0!==t){if(t.includes(".."))throw T('`path` param cannot contain ".."');return it(e,t)}return e}function wt(e,t){if(t&&gt(t)){if(e instanceof Ct)return mt(e,t);throw T("To use ref(service, url), the first argument must be a Storage instance.")}return bt(e,t)}function Ot(e){var t=null===e||void 0===e?void 0:e[c];return null==t?null:ie.makeFromBucketSpec(t)}var Ct=function(){function e(e,t,n,r,i){this.app=e,this._authProvider=t,this._pool=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=u,this._maxUploadRetryTime=l,this._requests=new Set,this._bucket=null!=r?ie.makeFromBucketSpec(r):Ot(this.app.options)}return Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){Z("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){Z("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return Object(i["b"])(this,void 0,void 0,(function(){var e,t;return Object(i["d"])(this,(function(n){switch(n.label){case 0:return e=this._authProvider.getImmediate({optional:!0}),e?[4,e.getToken()]:[3,2];case 1:if(t=n.sent(),null!==t)return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear(),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new Ye(this,e)},e.prototype._makeRequest=function(e,t){var n=this;if(this._deleted)return new ut(x());var r=_t(e,this._appId,t,this._pool,this._firebaseVersion);return this._requests.add(r),r.getPromise().then((function(){return n._requests.delete(r)}),(function(){return n._requests.delete(r)})),r},e}(),Et=function(){function e(e,t){var n=this;this.app=e,this._delegate=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(gt(e))throw T("ref() expected a child path but got a URL, use refFromURL instead.");return new ct(wt(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!gt(e))throw T("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ie.makeFromUrl(e)}catch(t){throw T("refFromUrl() expected a valid full URL but got an invalid one.")}return new ct(wt(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e}(),St="@firebase/storage",Tt="0.4.3",xt="storage";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(e,t){var n=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=new Et(n,new Ct(n,i,new z,t,r["a"].SDK_VERSION));return o}function Rt(e){var t={TaskState:V,TaskEvent:W,StringFormat:k,Storage:Ct,Reference:ct};e.INTERNAL.registerComponent(new s["a"](xt,jt,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(St,Tt)}Rt(r["a"])},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"605d":function(e,t,n){var r=n("c6b6"),i=n("da84");e.exports="process"==r(i.process)},"60da":function(e,t,n){"use strict";var r=n("83ab"),i=n("d039"),o=n("df75"),s=n("7418"),a=n("d1e7"),c=n("7b0b"),u=n("44ad"),l=Object.assign,h=Object.defineProperty;e.exports=!l||i((function(){if(r&&1!==l({b:1},l(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||o(l({},t)).join("")!=i}))?function(e,t){var n=c(e),i=arguments.length,l=1,h=s.f,p=a.f;while(i>l){var f,d=u(arguments[l++]),v=h?o(d).concat(h(d)):o(d),y=v.length,_=0;while(y>_)f=v[_++],r&&!p.call(d,f)||(n[f]=d[f])}return n}:l},6547:function(e,t,n){var r=n("a691"),i=n("1d80"),o=function(e){return function(t,n){var o,s,a=String(i(t)),c=r(n),u=a.length;return c<0||c>=u?e?"":void 0:(o=a.charCodeAt(c),o<55296||o>56319||c+1===u||(s=a.charCodeAt(c+1))<56320||s>57343?e?a.charAt(c):o:e?a.slice(c,c+2):s-56320+(o-55296<<10)+65536)}};e.exports={codeAt:o(!1),charAt:o(!0)}},"65f0":function(e,t,n){var r=n("861d"),i=n("e8b5"),o=n("b622"),s=o("species");e.exports=function(e,t){var n;return i(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)?r(n)&&(n=n[s],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},"66ce":function(e,t,n){"use strict";n("e947")},"69f3":function(e,t,n){var r,i,o,s=n("7f9a"),a=n("da84"),c=n("861d"),u=n("9112"),l=n("5135"),h=n("c6cd"),p=n("f772"),f=n("d012"),d=a.WeakMap,v=function(e){return o(e)?i(e):r(e,{})},y=function(e){return function(t){var n;if(!c(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}};if(s){var _=h.state||(h.state=new d),g=_.get,m=_.has,b=_.set;r=function(e,t){return t.facade=e,b.call(_,e,t),t},i=function(e){return g.call(_,e)||{}},o=function(e){return m.call(_,e)}}else{var w=p("state");f[w]=!0,r=function(e,t){return t.facade=e,u(e,w,t),t},i=function(e){return l(e,w)?e[w]:{}},o=function(e){return l(e,w)}}e.exports={set:r,get:i,has:o,enforce:v,getterFor:y}},"6eeb":function(e,t,n){var r=n("da84"),i=n("9112"),o=n("5135"),s=n("ce4e"),a=n("8925"),c=n("69f3"),u=c.get,l=c.enforce,h=String(String).split("String");(e.exports=function(e,t,n,a){var c,u=!!a&&!!a.unsafe,p=!!a&&!!a.enumerable,f=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof t||o(n,"name")||i(n,"name",t),c=l(n),c.source||(c.source=h.join("string"==typeof t?t:""))),e!==r?(u?!f&&e[t]&&(p=!0):delete e[t],p?e[t]=n:i(e,t,n)):p?e[t]=n:s(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||a(this)}))},7418:function(e,t){t.f=Object.getOwnPropertySymbols},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7a23":function(e,t,n){"use strict";n.d(t,"l",(function(){return r["J"]})),n.d(t,"a",(function(){return Vn})),n.d(t,"c",(function(){return Jn})),n.d(t,"d",(function(){return cr})),n.d(t,"e",(function(){return ar})),n.d(t,"f",(function(){return ir})),n.d(t,"g",(function(){return Yn})),n.d(t,"h",(function(){return Ot})),n.d(t,"i",(function(){return wt})),n.d(t,"j",(function(){return Gr})),n.d(t,"k",(function(){return Un})),n.d(t,"q",(function(){return wn})),n.d(t,"r",(function(){return Ct})),n.d(t,"b",(function(){return io})),n.d(t,"m",(function(){return Gi})),n.d(t,"n",(function(){return $i})),n.d(t,"o",(function(){return Xi})),n.d(t,"p",(function(){return Ki}));var r=n("9ff4");const i=new WeakMap,o=[];let s;const a=Symbol(""),c=Symbol("");function u(e){return e&&!0===e._isEffect}function l(e,t=r["b"]){u(e)&&(e=e.raw);const n=f(e,t);return t.lazy||n(),n}function h(e){e.active&&(d(e),e.options.onStop&&e.options.onStop(),e.active=!1)}let p=0;function f(e,t){const n=function(){if(!n.active)return t.scheduler?void 0:e();if(!o.includes(n)){d(n);try{return g(),o.push(n),s=n,e()}finally{o.pop(),m(),s=o[o.length-1]}}};return n.id=p++,n.allowRecurse=!!t.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=e,n.deps=[],n.options=t,n}function d(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let v=!0;const y=[];function _(){y.push(v),v=!1}function g(){y.push(v),v=!0}function m(){const e=y.pop();v=void 0===e||e}function b(e,t,n){if(!v||void 0===s)return;let r=i.get(e);r||i.set(e,r=new Map);let o=r.get(n);o||r.set(n,o=new Set),o.has(s)||(o.add(s),s.deps.push(o))}function w(e,t,n,o,u,l){const h=i.get(e);if(!h)return;const p=new Set,f=e=>{e&&e.forEach(e=>{(e!==s||e.allowRecurse)&&p.add(e)})};if("clear"===t)h.forEach(f);else if("length"===n&&Object(r["n"])(e))h.forEach((e,t)=>{("length"===t||t>=o)&&f(e)});else switch(void 0!==n&&f(h.get(n)),t){case"add":Object(r["n"])(e)?Object(r["r"])(n)&&f(h.get("length")):(f(h.get(a)),Object(r["s"])(e)&&f(h.get(c)));break;case"delete":Object(r["n"])(e)||(f(h.get(a)),Object(r["s"])(e)&&f(h.get(c)));break;case"set":Object(r["s"])(e)&&f(h.get(a));break}const d=e=>{e.options.scheduler?e.options.scheduler(e):e()};p.forEach(d)}const O=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(r["C"])),C=j(),E=j(!1,!0),S=j(!0),T=j(!0,!0),x={};function j(e=!1,t=!1){return function(n,i,o){if("__v_isReactive"===i)return!e;if("__v_isReadonly"===i)return e;if("__v_raw"===i&&o===(e?ae:se).get(n))return n;const s=Object(r["n"])(n);if(!e&&s&&Object(r["k"])(x,i))return Reflect.get(x,i,o);const a=Reflect.get(n,i,o);if(Object(r["C"])(i)?O.has(i):"__proto__"===i||"__v_isRef"===i)return a;if(e||b(n,"get",i),t)return a;if(ge(a)){const e=!s||!Object(r["r"])(i);return e?a.value:a}return Object(r["u"])(a)?e?pe(a):le(a):a}}["includes","indexOf","lastIndexOf"].forEach(e=>{const t=Array.prototype[e];x[e]=function(...e){const n=_e(this);for(let t=0,i=this.length;t<i;t++)b(n,"get",t+"");const r=t.apply(n,e);return-1===r||!1===r?t.apply(n,e.map(_e)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{const t=Array.prototype[e];x[e]=function(...e){_();const n=t.apply(this,e);return m(),n}});const R=k(),P=k(!0);function k(e=!1){return function(t,n,i,o){const s=t[n];if(!e&&(i=_e(i),!Object(r["n"])(t)&&ge(s)&&!ge(i)))return s.value=i,!0;const a=Object(r["n"])(t)&&Object(r["r"])(n)?Number(n)<t.length:Object(r["k"])(t,n),c=Reflect.set(t,n,i,o);return t===_e(o)&&(a?Object(r["j"])(i,s)&&w(t,"set",n,i,s):w(t,"add",n,i)),c}}function I(e,t){const n=Object(r["k"])(e,t),i=e[t],o=Reflect.deleteProperty(e,t);return o&&n&&w(e,"delete",t,void 0,i),o}function N(e,t){const n=Reflect.has(e,t);return Object(r["C"])(t)&&O.has(t)||b(e,"has",t),n}function A(e){return b(e,"iterate",Object(r["n"])(e)?"length":a),Reflect.ownKeys(e)}const D={get:C,set:R,deleteProperty:I,has:N,ownKeys:A},L={get:S,set(e,t){return!0},deleteProperty(e,t){return!0}},F=Object(r["h"])({},D,{get:E,set:P}),M=(Object(r["h"])({},L,{get:T}),e=>Object(r["u"])(e)?le(e):e),U=e=>Object(r["u"])(e)?pe(e):e,q=e=>e,B=e=>Reflect.getPrototypeOf(e);function W(e,t,n=!1,r=!1){e=e["__v_raw"];const i=_e(e),o=_e(t);t!==o&&!n&&b(i,"get",t),!n&&b(i,"get",o);const{has:s}=B(i),a=n?U:r?q:M;return s.call(i,t)?a(e.get(t)):s.call(i,o)?a(e.get(o)):void 0}function V(e,t=!1){const n=this["__v_raw"],r=_e(n),i=_e(e);return e!==i&&!t&&b(r,"has",e),!t&&b(r,"has",i),e===i?n.has(e):n.has(e)||n.has(i)}function Q(e,t=!1){return e=e["__v_raw"],!t&&b(_e(e),"iterate",a),Reflect.get(e,"size",e)}function H(e){e=_e(e);const t=_e(this),n=B(t),r=n.has.call(t,e);return t.add(e),r||w(t,"add",e,e),this}function z(e,t){t=_e(t);const n=_e(this),{has:i,get:o}=B(n);let s=i.call(n,e);s||(e=_e(e),s=i.call(n,e));const a=o.call(n,e);return n.set(e,t),s?Object(r["j"])(t,a)&&w(n,"set",e,t,a):w(n,"add",e,t),this}function K(e){const t=_e(this),{has:n,get:r}=B(t);let i=n.call(t,e);i||(e=_e(e),i=n.call(t,e));const o=r?r.call(t,e):void 0,s=t.delete(e);return i&&w(t,"delete",e,void 0,o),s}function G(){const e=_e(this),t=0!==e.size,n=void 0,r=e.clear();return t&&w(e,"clear",void 0,void 0,n),r}function Y(e,t){return function(n,r){const i=this,o=i["__v_raw"],s=_e(o),c=e?U:t?q:M;return!e&&b(s,"iterate",a),o.forEach((e,t)=>n.call(r,c(e),c(t),i))}}function $(e,t,n){return function(...i){const o=this["__v_raw"],s=_e(o),u=Object(r["s"])(s),l="entries"===e||e===Symbol.iterator&&u,h="keys"===e&&u,p=o[e](...i),f=t?U:n?q:M;return!t&&b(s,"iterate",h?c:a),{next(){const{value:e,done:t}=p.next();return t?{value:e,done:t}:{value:l?[f(e[0]),f(e[1])]:f(e),done:t}},[Symbol.iterator](){return this}}}}function X(e){return function(...t){return"delete"!==e&&this}}const J={get(e){return W(this,e)},get size(){return Q(this)},has:V,add:H,set:z,delete:K,clear:G,forEach:Y(!1,!1)},Z={get(e){return W(this,e,!1,!0)},get size(){return Q(this)},has:V,add:H,set:z,delete:K,clear:G,forEach:Y(!1,!0)},ee={get(e){return W(this,e,!0)},get size(){return Q(this,!0)},has(e){return V.call(this,e,!0)},add:X("add"),set:X("set"),delete:X("delete"),clear:X("clear"),forEach:Y(!0,!1)},te=["keys","values","entries",Symbol.iterator];function ne(e,t){const n=t?Z:e?ee:J;return(t,i,o)=>"__v_isReactive"===i?!e:"__v_isReadonly"===i?e:"__v_raw"===i?t:Reflect.get(Object(r["k"])(n,i)&&i in t?n:t,i,o)}te.forEach(e=>{J[e]=$(e,!1,!1),ee[e]=$(e,!0,!1),Z[e]=$(e,!1,!0)});const re={get:ne(!1,!1)},ie={get:ne(!1,!0)},oe={get:ne(!0,!1)};const se=new WeakMap,ae=new WeakMap;function ce(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ue(e){return e["__v_skip"]||!Object.isExtensible(e)?0:ce(Object(r["M"])(e))}function le(e){return e&&e["__v_isReadonly"]?e:fe(e,!1,D,re)}function he(e){return fe(e,!1,F,ie)}function pe(e){return fe(e,!0,L,oe)}function fe(e,t,n,i){if(!Object(r["u"])(e))return e;if(e["__v_raw"]&&(!t||!e["__v_isReactive"]))return e;const o=t?ae:se,s=o.get(e);if(s)return s;const a=ue(e);if(0===a)return e;const c=new Proxy(e,2===a?i:n);return o.set(e,c),c}function de(e){return ve(e)?de(e["__v_raw"]):!(!e||!e["__v_isReactive"])}function ve(e){return!(!e||!e["__v_isReadonly"])}function ye(e){return de(e)||ve(e)}function _e(e){return e&&_e(e["__v_raw"])||e}function ge(e){return Boolean(e&&!0===e.__v_isRef)}function me(e){return ge(e)?e.value:e}const be={get:(e,t,n)=>me(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return ge(i)&&!ge(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function we(e){return de(e)?e:new Proxy(e,be)}class Oe{constructor(e,t){this._object=e,this._key=t,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(e){this._object[this._key]=e}}function Ce(e,t){return ge(e[t])?e[t]:new Oe(e,t)}class Ee{constructor(e,t,n){this._setter=t,this._dirty=!0,this.__v_isRef=!0,this.effect=l(e,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,w(_e(this),"set","value"))}}),this["__v_isReadonly"]=n}get value(){return this._dirty&&(this._value=this.effect(),this._dirty=!1),b(_e(this),"get","value"),this._value}set value(e){this._setter(e)}}function Se(e){let t,n;return Object(r["o"])(e)?(t=e,n=r["d"]):(t=e.get,n=e.set),new Ee(t,n,Object(r["o"])(e)||!e.set)}function Te(e,t,n,r){let i;try{i=r?e(...r):e()}catch(o){je(o,t,n)}return i}function xe(e,t,n,i){if(Object(r["o"])(e)){const o=Te(e,t,n,i);return o&&Object(r["w"])(o)&&o.catch(e=>{je(e,t,n)}),o}const o=[];for(let r=0;r<e.length;r++)o.push(xe(e[r],t,n,i));return o}function je(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let r=t.parent;const i=t.proxy,o=n;while(r){const t=r.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,i,o))return;r=r.parent}const s=t.appContext.config.errorHandler;if(s)return void Te(s,null,10,[e,i,o])}Re(e,n,i,r)}function Re(e,t,n,r=!0){console.error(e)}let Pe=!1,ke=!1;const Ie=[];let Ne=0;const Ae=[];let De=null,Le=0;const Fe=[];let Me=null,Ue=0;const qe=Promise.resolve();let Be=null,We=null;function Ve(e){const t=Be||qe;return e?t.then(this?e.bind(this):e):t}function Qe(e){Ie.length&&Ie.includes(e,Pe&&e.allowRecurse?Ne+1:Ne)||e===We||(Ie.push(e),He())}function He(){Pe||ke||(ke=!0,Be=qe.then(Ze))}function ze(e){const t=Ie.indexOf(e);t>-1&&Ie.splice(t,1)}function Ke(e,t,n,i){Object(r["n"])(e)?n.push(...e):t&&t.includes(e,e.allowRecurse?i+1:i)||n.push(e),He()}function Ge(e){Ke(e,De,Ae,Le)}function Ye(e){Ke(e,Me,Fe,Ue)}function $e(e,t=null){if(Ae.length){for(We=t,De=[...new Set(Ae)],Ae.length=0,Le=0;Le<De.length;Le++)De[Le]();De=null,Le=0,We=null,$e(e,t)}}function Xe(e){if(Fe.length){const e=[...new Set(Fe)];if(Fe.length=0,Me)return void Me.push(...e);for(Me=e,Me.sort((e,t)=>Je(e)-Je(t)),Ue=0;Ue<Me.length;Ue++)Me[Ue]();Me=null,Ue=0}}const Je=e=>null==e.id?1/0:e.id;function Ze(e){ke=!1,Pe=!0,$e(e),Ie.sort((e,t)=>Je(e)-Je(t));try{for(Ne=0;Ne<Ie.length;Ne++){const e=Ie[Ne];e&&Te(e,null,14)}}finally{Ne=0,Ie.length=0,Xe(e),Pe=!1,Be=null,(Ie.length||Fe.length)&&Ze(e)}}new Set;new Map;function et(e,t,...n){const i=e.vnode.props||r["b"];let o=n;const s=t.startsWith("update:"),a=s&&t.slice(7);if(a&&a in i){const e=("modelValue"===a?"model":a)+"Modifiers",{number:t,trim:s}=i[e]||r["b"];s?o=n.map(e=>e.trim()):t&&(o=n.map(r["L"]))}let c=Object(r["K"])(Object(r["e"])(t)),u=i[c];!u&&s&&(c=Object(r["K"])(Object(r["l"])(t)),u=i[c]),u&&xe(u,e,6,o);const l=i[c+"Once"];if(l){if(e.emitted){if(e.emitted[c])return}else(e.emitted={})[c]=!0;xe(l,e,6,o)}}function tt(e,t,n=!1){if(!t.deopt&&void 0!==e.__emits)return e.__emits;const i=e.emits;let o={},s=!1;if(!Object(r["o"])(e)){const i=e=>{s=!0,Object(r["h"])(o,tt(e,t,!0))};!n&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}return i||s?(Object(r["n"])(i)?i.forEach(e=>o[e]=null):Object(r["h"])(o,i),e.__emits=o):e.__emits=null}function nt(e,t){return!(!e||!Object(r["v"])(t))&&(t=t.slice(2).replace(/Once$/,""),Object(r["k"])(e,t[0].toLowerCase()+t.slice(1))||Object(r["k"])(e,Object(r["l"])(t))||Object(r["k"])(e,t))}let rt=null;function it(e){rt=e}function ot(e){const{type:t,vnode:n,proxy:i,withProxy:o,props:s,propsOptions:[a],slots:c,attrs:u,emit:l,render:h,renderCache:p,data:f,setupState:d,ctx:v}=e;let y;rt=e;try{let e;if(4&n.shapeFlag){const t=o||i;y=ur(h.call(t,t,p,s,d,f,v)),e=u}else{const n=t;0,y=ur(n.length>1?n(s,{attrs:u,slots:c,emit:l}):n(s,null)),e=t.props?u:at(u)}let _=y;if(!1!==t.inheritAttrs&&e){const t=Object.keys(e),{shapeFlag:n}=_;t.length&&(1&n||6&n)&&(a&&t.some(r["t"])&&(e=ct(e,a)),_=sr(_,e))}n.dirs&&(_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&(_.transition=n.transition),y=_}catch(_){je(_,e,1),y=ir(Hn)}return rt=null,y}function st(e){let t;for(let n=0;n<e.length;n++){const r=e[n];if(!Zn(r))return;if(r.type!==Hn||"v-if"===r.children){if(t)return;t=r}}return t}const at=e=>{let t;for(const n in e)("class"===n||"style"===n||Object(r["v"])(n))&&((t||(t={}))[n]=e[n]);return t},ct=(e,t)=>{const n={};for(const i in e)Object(r["t"])(i)&&i.slice(9)in t||(n[i]=e[i]);return n};function ut(e,t,n){const{props:r,children:i,component:o}=e,{props:s,children:a,patchFlag:c}=t,u=o.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&c>=0))return!(!i&&!a||a&&a.$stable)||r!==s&&(r?!s||lt(r,s,u):!!s);if(1024&c)return!0;if(16&c)return r?lt(r,s,u):!!s;if(8&c){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(s[n]!==r[n]&&!nt(u,n))return!0}}return!1}function lt(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(t[o]!==e[o]&&!nt(n,o))return!0}return!1}function ht({vnode:e,parent:t},n){while(t&&t.subTree===e)(e=t.vnode).el=n,t=t.parent}const pt=e=>e.__isSuspense;function ft(e){const{shapeFlag:t,children:n}=e;let r,i;return 32&t?(r=dt(n.default),i=dt(n.fallback)):(r=dt(n),i=ur(null)),{content:r,fallback:i}}function dt(e){if(Object(r["o"])(e)&&(e=e()),Object(r["n"])(e)){const t=st(e);0,e=t}return ur(e)}function vt(e,t){t&&t.pendingBranch?Object(r["n"])(e)?t.effects.push(...e):t.effects.push(e):Ye(e)}let yt=0;const _t=e=>yt+=e;function gt(e,t=rt){if(!t)return e;const n=(...n)=>{yt||Yn(!0);const r=rt;it(t);const i=e(...n);return it(r),yt||$n(),i};return n._c=!0,n}let mt=null;const bt=[];function wt(e){bt.push(mt=e)}function Ot(){bt.pop(),mt=bt[bt.length-1]||null}function Ct(e){return t=>gt((function(){wt(e);const n=t.apply(this,arguments);return Ot(),n}))}function Et(e,t,n,i=!1){const o={},s={};Object(r["g"])(s,tr,1),Tt(e,t,o,s),n?e.props=i?o:he(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function St(e,t,n,i){const{props:o,attrs:s,vnode:{patchFlag:a}}=e,c=_e(o),[u]=e.propsOptions;if(!(i||a>0)||16&a){let i;Tt(e,t,o,s);for(const s in c)t&&(Object(r["k"])(t,s)||(i=Object(r["l"])(s))!==s&&Object(r["k"])(t,i))||(u?!n||void 0===n[s]&&void 0===n[i]||(o[s]=xt(u,t||r["b"],s,void 0,e)):delete o[s]);if(s!==c)for(const e in s)t&&Object(r["k"])(t,e)||delete s[e]}else if(8&a){const n=e.vnode.dynamicProps;for(let i=0;i<n.length;i++){const a=n[i],l=t[a];if(u)if(Object(r["k"])(s,a))s[a]=l;else{const t=Object(r["e"])(a);o[t]=xt(u,c,t,l,e)}else s[a]=l}}w(e,"set","$attrs")}function Tt(e,t,n,i){const[o,s]=e.propsOptions;if(t)for(const a in t){const s=t[a];if(Object(r["x"])(a))continue;let c;o&&Object(r["k"])(o,c=Object(r["e"])(a))?n[c]=s:nt(e.emitsOptions,a)||(i[a]=s)}if(s){const t=_e(n);for(let r=0;r<s.length;r++){const i=s[r];n[i]=xt(o,t,i,t[i],e)}}}function xt(e,t,n,i,o){const s=e[n];if(null!=s){const e=Object(r["k"])(s,"default");if(e&&void 0===i){const e=s.default;s.type!==Function&&Object(r["o"])(e)?(Dr(o),i=e(t),Dr(null)):i=e}s[0]&&(Object(r["k"])(t,n)||e?!s[1]||""!==i&&i!==Object(r["l"])(n)||(i=!0):i=!1)}return i}function jt(e,t,n=!1){if(!t.deopt&&e.__props)return e.__props;const i=e.props,o={},s=[];let a=!1;if(!Object(r["o"])(e)){const i=e=>{a=!0;const[n,i]=jt(e,t,!0);Object(r["h"])(o,n),i&&s.push(...i)};!n&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}if(!i&&!a)return e.__props=r["a"];if(Object(r["n"])(i))for(let c=0;c<i.length;c++){0;const e=Object(r["e"])(i[c]);Rt(e)&&(o[e]=r["b"])}else if(i){0;for(const e in i){const t=Object(r["e"])(e);if(Rt(t)){const n=i[e],a=o[t]=Object(r["n"])(n)||Object(r["o"])(n)?{type:n}:n;if(a){const e=It(Boolean,a.type),n=It(String,a.type);a[0]=e>-1,a[1]=n<0||e<n,(e>-1||Object(r["k"])(a,"default"))&&s.push(t)}}}}return e.__props=[o,s]}function Rt(e){return"$"!==e[0]}function Pt(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function kt(e,t){return Pt(e)===Pt(t)}function It(e,t){if(Object(r["n"])(t)){for(let n=0,r=t.length;n<r;n++)if(kt(t[n],e))return n}else if(Object(r["o"])(t))return kt(t,e)?0:-1;return-1}function Nt(e,t,n=Nr,r=!1){if(n){const i=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...r)=>{if(n.isUnmounted)return;_(),Dr(n);const i=xe(t,n,e,r);return Dr(null),m(),i});return r?i.unshift(o):i.push(o),o}}const At=e=>(t,n=Nr)=>!Fr&&Nt(e,t,n),Dt=At("bm"),Lt=At("m"),Ft=At("bu"),Mt=At("u"),Ut=At("bum"),qt=At("um"),Bt=At("rtg"),Wt=At("rtc"),Vt=(e,t=Nr)=>{Nt("ec",e,t)};const Qt={};function Ht(e,t,n){return zt(e,t,n)}function zt(e,t,{immediate:n,deep:i,flush:o,onTrack:s,onTrigger:a}=r["b"],c=Nr){let u,p,f=!1;if(ge(e)?(u=()=>e.value,f=!!e._shallow):de(e)?(u=()=>e,i=!0):u=Object(r["n"])(e)?()=>e.map(e=>ge(e)?e.value:de(e)?Gt(e):Object(r["o"])(e)?Te(e,c,2):void 0):Object(r["o"])(e)?t?()=>Te(e,c,2):()=>{if(!c||!c.isUnmounted)return p&&p(),Te(e,c,3,[d])}:r["d"],t&&i){const e=u;u=()=>Gt(e())}const d=e=>{p=g.options.onStop=()=>{Te(e,c,4)}};let v=Object(r["n"])(e)?[]:Qt;const y=()=>{if(g.active)if(t){const e=g();(i||f||Object(r["j"])(e,v))&&(p&&p(),xe(t,c,3,[e,v===Qt?void 0:v,d]),v=e)}else g()};let _;y.allowRecurse=!!t,_="sync"===o?y:"post"===o?()=>Rn(y,c&&c.suspense):()=>{!c||c.isMounted?Ge(y):y()};const g=l(u,{lazy:!0,onTrack:s,onTrigger:a,scheduler:_});return Vr(g,c),t?n?y():v=g():"post"===o?Rn(g,c&&c.suspense):g(),()=>{h(g),c&&Object(r["I"])(c.effects,g)}}function Kt(e,t,n){const i=this.proxy,o=Object(r["B"])(e)?()=>i[e]:e.bind(i);return zt(o,t.bind(i),n,this)}function Gt(e,t=new Set){if(!Object(r["u"])(e)||t.has(e))return e;if(t.add(e),ge(e))Gt(e.value,t);else if(Object(r["n"])(e))for(let n=0;n<e.length;n++)Gt(e[n],t);else if(Object(r["z"])(e)||Object(r["s"])(e))e.forEach(e=>{Gt(e,t)});else for(const n in e)Gt(e[n],t);return e}function Yt(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Lt(()=>{e.isMounted=!0}),Ut(()=>{e.isUnmounting=!0}),e}const $t=[Function,Array],Xt={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:$t,onEnter:$t,onAfterEnter:$t,onEnterCancelled:$t,onBeforeLeave:$t,onLeave:$t,onAfterLeave:$t,onLeaveCancelled:$t,onBeforeAppear:$t,onAppear:$t,onAfterAppear:$t,onAppearCancelled:$t},setup(e,{slots:t}){const n=Ar(),r=Yt();let i;return()=>{const o=t.default&&on(t.default(),!0);if(!o||!o.length)return;const s=_e(e),{mode:a}=s;const c=o[0];if(r.isLeaving)return tn(c);const u=nn(c);if(!u)return tn(c);const l=en(u,s,r,n);rn(u,l);const h=n.subTree,p=h&&nn(h);let f=!1;const{getTransitionKey:d}=u.type;if(d){const e=d();void 0===i?i=e:e!==i&&(i=e,f=!0)}if(p&&p.type!==Hn&&(!er(u,p)||f)){const e=en(p,s,r,n);if(rn(p,e),"out-in"===a)return r.isLeaving=!0,e.afterLeave=()=>{r.isLeaving=!1,n.update()},tn(c);"in-out"===a&&(e.delayLeave=(e,t,n)=>{const i=Zt(r,p);i[String(p.key)]=p,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete l.delayedLeave},l.delayedLeave=n})}return c}}},Jt=Xt;function Zt(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function en(e,t,n,r){const{appear:i,mode:o,persisted:s=!1,onBeforeEnter:a,onEnter:c,onAfterEnter:u,onEnterCancelled:l,onBeforeLeave:h,onLeave:p,onAfterLeave:f,onLeaveCancelled:d,onBeforeAppear:v,onAppear:y,onAfterAppear:_,onAppearCancelled:g}=t,m=String(e.key),b=Zt(n,e),w=(e,t)=>{e&&xe(e,r,9,t)},O={mode:o,persisted:s,beforeEnter(t){let r=a;if(!n.isMounted){if(!i)return;r=v||a}t._leaveCb&&t._leaveCb(!0);const o=b[m];o&&er(e,o)&&o.el._leaveCb&&o.el._leaveCb(),w(r,[t])},enter(e){let t=c,r=u,o=l;if(!n.isMounted){if(!i)return;t=y||c,r=_||u,o=g||l}let s=!1;const a=e._enterCb=t=>{s||(s=!0,w(t?o:r,[e]),O.delayedLeave&&O.delayedLeave(),e._enterCb=void 0)};t?(t(e,a),t.length<=1&&a()):a()},leave(t,r){const i=String(e.key);if(t._enterCb&&t._enterCb(!0),n.isUnmounting)return r();w(h,[t]);let o=!1;const s=t._leaveCb=n=>{o||(o=!0,r(),w(n?d:f,[t]),t._leaveCb=void 0,b[i]===e&&delete b[i])};b[i]=e,p?(p(t,s),p.length<=1&&s()):s()},clone(e){return en(e,t,n,r)}};return O}function tn(e){if(sn(e))return e=sr(e),e.children=null,e}function nn(e){return sn(e)?e.children?e.children[0]:void 0:e}function rn(e,t){6&e.shapeFlag&&e.component?rn(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function on(e,t=!1){let n=[],r=0;for(let i=0;i<e.length;i++){const o=e[i];o.type===Vn?(128&o.patchFlag&&r++,n=n.concat(on(o.children,t))):(t||o.type!==Hn)&&n.push(o)}if(r>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}const sn=e=>e.type.__isKeepAlive;RegExp,RegExp;function an(e,t){return Object(r["n"])(e)?e.some(e=>an(e,t)):Object(r["B"])(e)?e.split(",").indexOf(t)>-1:!!e.test&&e.test(t)}function cn(e,t){ln(e,"a",t)}function un(e,t){ln(e,"da",t)}function ln(e,t,n=Nr){const r=e.__wdc||(e.__wdc=()=>{let t=n;while(t){if(t.isDeactivated)return;t=t.parent}e()});if(Nt(t,r,n),n){let e=n.parent;while(e&&e.parent)sn(e.parent.vnode)&&hn(r,t,n,e),e=e.parent}}function hn(e,t,n,i){const o=Nt(t,e,i,!0);qt(()=>{Object(r["I"])(i[t],o)},n)}function pn(e){let t=e.shapeFlag;256&t&&(t-=256),512&t&&(t-=512),e.shapeFlag=t}function fn(e){return 128&e.shapeFlag?e.ssContent:e}const dn=e=>"_"===e[0]||"$stable"===e,vn=e=>Object(r["n"])(e)?e.map(ur):[ur(e)],yn=(e,t,n)=>gt(e=>vn(t(e)),n),_n=(e,t)=>{const n=e._ctx;for(const i in e){if(dn(i))continue;const o=e[i];if(Object(r["o"])(o))t[i]=yn(i,o,n);else if(null!=o){0;const e=vn(o);t[i]=()=>e}}},gn=(e,t)=>{const n=vn(t);e.slots.default=()=>n},mn=(e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=t,Object(r["g"])(t,"_",n)):_n(t,e.slots={})}else e.slots={},t&&gn(e,t);Object(r["g"])(e.slots,tr,1)},bn=(e,t)=>{const{vnode:n,slots:i}=e;let o=!0,s=r["b"];if(32&n.shapeFlag){const e=t._;e?1===e?o=!1:Object(r["h"])(i,t):(o=!t.$stable,_n(t,i)),s=t}else t&&(gn(e,t),s={default:1});if(o)for(const r in i)dn(r)||r in s||delete i[r]};function wn(e,t){const n=rt;if(null===n)return e;const i=n.proxy,o=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[e,n,a,c=r["b"]]=t[s];Object(r["o"])(e)&&(e={mounted:e,updated:e}),o.push({dir:e,instance:i,value:n,oldValue:void 0,arg:a,modifiers:c})}return e}function On(e,t,n,r){const i=e.dirs,o=t&&t.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);const c=a.dir[r];c&&xe(c,n,8,[e.el,a,e,t])}}function Cn(){return{app:null,config:{isNativeTag:r["c"],performance:!1,globalProperties:{},optionMergeStrategies:{},isCustomElement:r["c"],errorHandler:void 0,warnHandler:void 0},mixins:[],components:{},directives:{},provides:Object.create(null)}}let En=0;function Sn(e,t){return function(n,i=null){null==i||Object(r["u"])(i)||(i=null);const o=Cn(),s=new Set;let a=!1;const c=o.app={_uid:En++,_component:n,_props:i,_container:null,_context:o,version:Yr,get config(){return o.config},set config(e){0},use(e,...t){return s.has(e)||(e&&Object(r["o"])(e.install)?(s.add(e),e.install(c,...t)):Object(r["o"])(e)&&(s.add(e),e(c,...t))),c},mixin(e){return o.mixins.includes(e)||(o.mixins.push(e),(e.props||e.emits)&&(o.deopt=!0)),c},component(e,t){return t?(o.components[e]=t,c):o.components[e]},directive(e,t){return t?(o.directives[e]=t,c):o.directives[e]},mount(r,s){if(!a){const u=ir(n,i);return u.appContext=o,s&&t?t(u,r):e(u,r),a=!0,c._container=r,r.__vue_app__=c,u.component.proxy}},unmount(){a&&e(null,c._container)},provide(e,t){return o.provides[e]=t,c}};return c}}function Tn(){}const xn=e=>!!e.type.__asyncLoader;const jn={scheduler:Qe,allowRecurse:!0};const Rn=vt,Pn=(e,t,n,i)=>{if(Object(r["n"])(e))return void e.forEach((e,o)=>Pn(e,t&&(Object(r["n"])(t)?t[o]:t),n,i));let o;o=!i||xn(i)?null:4&i.shapeFlag?i.component.exposed||i.component.proxy:i.el;const{i:s,r:a}=e;const c=t&&t.r,u=s.refs===r["b"]?s.refs={}:s.refs,l=s.setupState;if(null!=c&&c!==a&&(Object(r["B"])(c)?(u[c]=null,Object(r["k"])(l,c)&&(l[c]=null)):ge(c)&&(c.value=null)),Object(r["B"])(a)){const e=()=>{u[a]=o,Object(r["k"])(l,a)&&(l[a]=o)};o?(e.id=-1,Rn(e,n)):e()}else if(ge(a)){const e=()=>{a.value=o};o?(e.id=-1,Rn(e,n)):e()}else Object(r["o"])(a)&&Te(a,s,12,[o,u])};function kn(e){return In(e)}function In(e,t){Tn();const{insert:n,remove:i,patchProp:o,forcePatchProp:s,createElement:a,createText:c,createComment:u,setText:p,setElementText:f,parentNode:d,nextSibling:v,setScopeId:y=r["d"],cloneNode:_,insertStaticContent:g}=e,m=(e,t,n,r=null,i=null,o=null,s=!1,a=!1)=>{e&&!er(e,t)&&(r=K(e),W(e,i,o,!0),e=null),-2===t.patchFlag&&(a=!1,t.dynamicChildren=null);const{type:c,ref:u,shapeFlag:l}=t;switch(c){case Qn:b(e,t,n,r);break;case Hn:w(e,t,n,r);break;case zn:null==e&&O(t,n,r,s);break;case Vn:I(e,t,n,r,i,o,s,a);break;default:1&l?S(e,t,n,r,i,o,s,a):6&l?N(e,t,n,r,i,o,s,a):(64&l||128&l)&&c.process(e,t,n,r,i,o,s,a,Y)}null!=u&&i&&Pn(u,e&&e.ref,o,t)},b=(e,t,r,i)=>{if(null==e)n(t.el=c(t.children),r,i);else{const n=t.el=e.el;t.children!==e.children&&p(n,t.children)}},w=(e,t,r,i)=>{null==e?n(t.el=u(t.children||""),r,i):t.el=e.el},O=(e,t,n,r)=>{[e.el,e.anchor]=g(e.children,t,n,r)},C=({el:e,anchor:t},r,i)=>{let o;while(e&&e!==t)o=v(e),n(e,r,i),e=o;n(t,r,i)},E=({el:e,anchor:t})=>{let n;while(e&&e!==t)n=v(e),i(e),e=n;i(t)},S=(e,t,n,r,i,o,s,a)=>{s=s||"svg"===t.type,null==e?T(t,n,r,i,o,s,a):R(e,t,i,o,s,a)},T=(e,t,i,s,c,u,l)=>{let h,p;const{type:d,props:v,shapeFlag:y,transition:g,scopeId:m,patchFlag:b,dirs:w}=e;if(e.el&&void 0!==_&&-1===b)h=e.el=_(e.el);else{if(h=e.el=a(e.type,u,v&&v.is),8&y?f(h,e.children):16&y&&j(e.children,h,null,s,c,u&&"foreignObject"!==d,l||!!e.dynamicChildren),w&&On(e,null,s,"created"),v){for(const t in v)Object(r["x"])(t)||o(h,t,null,v[t],u,e.children,s,c,z);(p=v.onVnodeBeforeMount)&&Nn(p,s,e)}x(h,m,e,s)}w&&On(e,null,s,"beforeMount");const O=(!c||c&&!c.pendingBranch)&&g&&!g.persisted;O&&g.beforeEnter(h),n(h,t,i),((p=v&&v.onVnodeMounted)||O||w)&&Rn(()=>{p&&Nn(p,s,e),O&&g.enter(h),w&&On(e,null,s,"mounted")},c)},x=(e,t,n,r)=>{if(t&&y(e,t),r){const i=r.type.__scopeId;i&&i!==t&&y(e,i+"-s");let o=r.subTree;0,n===o&&x(e,r.vnode.scopeId,r.vnode,r.parent)}},j=(e,t,n,r,i,o,s,a=0)=>{for(let c=a;c<e.length;c++){const a=e[c]=s?lr(e[c]):ur(e[c]);m(null,a,t,n,r,i,o,s)}},R=(e,t,n,i,a,c)=>{const u=t.el=e.el;let{patchFlag:l,dynamicChildren:h,dirs:p}=t;l|=16&e.patchFlag;const d=e.props||r["b"],v=t.props||r["b"];let y;if((y=v.onVnodeBeforeUpdate)&&Nn(y,n,t,e),p&&On(t,e,n,"beforeUpdate"),l>0){if(16&l)k(u,t,d,v,n,i,a);else if(2&l&&d.class!==v.class&&o(u,"class",null,v.class,a),4&l&&o(u,"style",d.style,v.style,a),8&l){const r=t.dynamicProps;for(let t=0;t<r.length;t++){const c=r[t],l=d[c],h=v[c];(h!==l||s&&s(u,c))&&o(u,c,l,h,a,e.children,n,i,z)}}1&l&&e.children!==t.children&&f(u,t.children)}else c||null!=h||k(u,t,d,v,n,i,a);const _=a&&"foreignObject"!==t.type;h?P(e.dynamicChildren,h,u,n,i,_):c||M(e,t,u,null,n,i,_),((y=v.onVnodeUpdated)||p)&&Rn(()=>{y&&Nn(y,n,t,e),p&&On(t,e,n,"updated")},i)},P=(e,t,n,r,i,o)=>{for(let s=0;s<t.length;s++){const a=e[s],c=t[s],u=a.type===Vn||!er(a,c)||6&a.shapeFlag||64&a.shapeFlag?d(a.el):n;m(a,c,u,null,r,i,o,!0)}},k=(e,t,n,i,a,c,u)=>{if(n!==i){for(const l in i){if(Object(r["x"])(l))continue;const h=i[l],p=n[l];(h!==p||s&&s(e,l))&&o(e,l,p,h,u,t.children,a,c,z)}if(n!==r["b"])for(const s in n)Object(r["x"])(s)||s in i||o(e,s,n[s],null,u,t.children,a,c,z)}},I=(e,t,r,i,o,s,a,u)=>{const l=t.el=e?e.el:c(""),h=t.anchor=e?e.anchor:c("");let{patchFlag:p,dynamicChildren:f}=t;p>0&&(u=!0),null==e?(n(l,r,i),n(h,r,i),j(t.children,r,h,o,s,a,u)):p>0&&64&p&&f&&e.dynamicChildren?(P(e.dynamicChildren,f,r,o,s,a),(null!=t.key||o&&t===o.subTree)&&An(e,t,!0)):M(e,t,r,h,o,s,a,u)},N=(e,t,n,r,i,o,s,a)=>{null==e?512&t.shapeFlag?i.ctx.activate(t,n,r,s,a):A(t,n,r,i,o,s,a):D(e,t,a)},A=(e,t,n,r,i,o,s)=>{const a=e.component=Ir(e,r,i);if(sn(e)&&(a.ctx.renderer=Y),Mr(a),a.asyncDep){if(i&&i.registerDep(a,L),!e.el){const e=a.subTree=ir(Hn);w(null,e,t,n)}}else L(a,e,t,n,i,o,s)},D=(e,t,n)=>{const r=t.component=e.component;if(ut(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void F(r,t,n);r.next=t,ze(r.update),r.update()}else t.component=e.component,t.el=e.el,r.vnode=t},L=(e,t,n,i,o,s,a)=>{e.update=l((function(){if(e.isMounted){let t,{next:n,bu:i,u:c,parent:u,vnode:l}=e,h=n;0,n?(n.el=l.el,F(e,n,a)):n=l,i&&Object(r["m"])(i),(t=n.props&&n.props.onVnodeBeforeUpdate)&&Nn(t,u,n,l);const p=ot(e);0;const f=e.subTree;e.subTree=p,m(f,p,d(f.el),K(f),e,o,s),n.el=p.el,null===h&&ht(e,p.el),c&&Rn(c,o),(t=n.props&&n.props.onVnodeUpdated)&&Rn(()=>{Nn(t,u,n,l)},o)}else{let a;const{el:c,props:u}=t,{bm:l,m:h,parent:p}=e;l&&Object(r["m"])(l),(a=u&&u.onVnodeBeforeMount)&&Nn(a,p,t);const f=e.subTree=ot(e);if(c&&X?X(t.el,f,e,o):(m(null,f,n,i,e,o,s),t.el=f.el),h&&Rn(h,o),a=u&&u.onVnodeMounted){const e=t;Rn(()=>{Nn(a,p,e)},o)}const{a:d}=e;d&&256&t.shapeFlag&&Rn(d,o),e.isMounted=!0,t=n=i=null}}),jn)},F=(e,t,n)=>{t.component=e;const r=e.vnode.props;e.vnode=t,e.next=null,St(e,t.props,r,n),bn(e,t.children),$e(void 0,e.update)},M=(e,t,n,r,i,o,s,a=!1)=>{const c=e&&e.children,u=e?e.shapeFlag:0,l=t.children,{patchFlag:h,shapeFlag:p}=t;if(h>0){if(128&h)return void q(c,l,n,r,i,o,s,a);if(256&h)return void U(c,l,n,r,i,o,s,a)}8&p?(16&u&&z(c,i,o),l!==c&&f(n,l)):16&u?16&p?q(c,l,n,r,i,o,s,a):z(c,i,o,!0):(8&u&&f(n,""),16&p&&j(l,n,r,i,o,s,a))},U=(e,t,n,i,o,s,a,c)=>{e=e||r["a"],t=t||r["a"];const u=e.length,l=t.length,h=Math.min(u,l);let p;for(p=0;p<h;p++){const r=t[p]=c?lr(t[p]):ur(t[p]);m(e[p],r,n,null,o,s,a,c)}u>l?z(e,o,s,!0,!1,h):j(t,n,i,o,s,a,c,h)},q=(e,t,n,i,o,s,a,c)=>{let u=0;const l=t.length;let h=e.length-1,p=l-1;while(u<=h&&u<=p){const r=e[u],i=t[u]=c?lr(t[u]):ur(t[u]);if(!er(r,i))break;m(r,i,n,null,o,s,a,c),u++}while(u<=h&&u<=p){const r=e[h],i=t[p]=c?lr(t[p]):ur(t[p]);if(!er(r,i))break;m(r,i,n,null,o,s,a,c),h--,p--}if(u>h){if(u<=p){const e=p+1,r=e<l?t[e].el:i;while(u<=p)m(null,t[u]=c?lr(t[u]):ur(t[u]),n,r,o,s,a),u++}}else if(u>p)while(u<=h)W(e[u],o,s,!0),u++;else{const f=u,d=u,v=new Map;for(u=d;u<=p;u++){const e=t[u]=c?lr(t[u]):ur(t[u]);null!=e.key&&v.set(e.key,u)}let y,_=0;const g=p-d+1;let b=!1,w=0;const O=new Array(g);for(u=0;u<g;u++)O[u]=0;for(u=f;u<=h;u++){const r=e[u];if(_>=g){W(r,o,s,!0);continue}let i;if(null!=r.key)i=v.get(r.key);else for(y=d;y<=p;y++)if(0===O[y-d]&&er(r,t[y])){i=y;break}void 0===i?W(r,o,s,!0):(O[i-d]=u+1,i>=w?w=i:b=!0,m(r,t[i],n,null,o,s,a,c),_++)}const C=b?Dn(O):r["a"];for(y=C.length-1,u=g-1;u>=0;u--){const e=d+u,r=t[e],c=e+1<l?t[e+1].el:i;0===O[u]?m(null,r,n,c,o,s,a):b&&(y<0||u!==C[y]?B(r,n,c,2):y--)}}},B=(e,t,r,i,o=null)=>{const{el:s,type:a,transition:c,children:u,shapeFlag:l}=e;if(6&l)return void B(e.component.subTree,t,r,i);if(128&l)return void e.suspense.move(t,r,i);if(64&l)return void a.move(e,t,r,Y);if(a===Vn){n(s,t,r);for(let e=0;e<u.length;e++)B(u[e],t,r,i);return void n(e.anchor,t,r)}if(a===zn)return void C(e,t,r);const h=2!==i&&1&l&&c;if(h)if(0===i)c.beforeEnter(s),n(s,t,r),Rn(()=>c.enter(s),o);else{const{leave:e,delayLeave:i,afterLeave:o}=c,a=()=>n(s,t,r),u=()=>{e(s,()=>{a(),o&&o()})};i?i(s,a,u):u()}else n(s,t,r)},W=(e,t,n,r=!1,i=!1)=>{const{type:o,props:s,ref:a,children:c,dynamicChildren:u,shapeFlag:l,patchFlag:h,dirs:p}=e;if(null!=a&&Pn(a,null,n,null),256&l)return void t.ctx.deactivate(e);const f=1&l&&p;let d;if((d=s&&s.onVnodeBeforeUnmount)&&Nn(d,t,e),6&l)H(e.component,n,r);else{if(128&l)return void e.suspense.unmount(n,r);f&&On(e,null,t,"beforeUnmount"),u&&(o!==Vn||h>0&&64&h)?z(u,t,n,!1,!0):(o===Vn&&(128&h||256&h)||!i&&16&l)&&z(c,t,n),64&l&&(r||!Fn(e.props))&&e.type.remove(e,Y),r&&V(e)}((d=s&&s.onVnodeUnmounted)||f)&&Rn(()=>{d&&Nn(d,t,e),f&&On(e,null,t,"unmounted")},n)},V=e=>{const{type:t,el:n,anchor:r,transition:o}=e;if(t===Vn)return void Q(n,r);if(t===zn)return void E(e);const s=()=>{i(n),o&&!o.persisted&&o.afterLeave&&o.afterLeave()};if(1&e.shapeFlag&&o&&!o.persisted){const{leave:t,delayLeave:r}=o,i=()=>t(n,s);r?r(e.el,s,i):i()}else s()},Q=(e,t)=>{let n;while(e!==t)n=v(e),i(e),e=n;i(t)},H=(e,t,n)=>{const{bum:i,effects:o,update:s,subTree:a,um:c}=e;if(i&&Object(r["m"])(i),o)for(let r=0;r<o.length;r++)h(o[r]);s&&(h(s),W(a,e,t,n)),c&&Rn(c,t),Rn(()=>{e.isUnmounted=!0},t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},z=(e,t,n,r=!1,i=!1,o=0)=>{for(let s=o;s<e.length;s++)W(e[s],t,n,r,i)},K=e=>6&e.shapeFlag?K(e.component.subTree):128&e.shapeFlag?e.suspense.next():v(e.anchor||e.el),G=(e,t)=>{null==e?t._vnode&&W(t._vnode,null,null,!0):m(t._vnode||null,e,t),Xe(),t._vnode=e},Y={p:m,um:W,m:B,r:V,mt:A,mc:j,pc:M,pbc:P,n:K,o:e};let $,X;return t&&([$,X]=t(Y)),{render:G,hydrate:$,createApp:Sn(G,$)}}function Nn(e,t,n,r=null){xe(e,t,7,[n,r])}function An(e,t,n=!1){const i=e.children,o=t.children;if(Object(r["n"])(i)&&Object(r["n"])(o))for(let r=0;r<i.length;r++){const e=i[r];let t=o[r];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=o[r]=lr(o[r]),t.el=e.el),n||An(e,t))}}function Dn(e){const t=e.slice(),n=[0];let r,i,o,s,a;const c=e.length;for(r=0;r<c;r++){const c=e[r];if(0!==c){if(i=n[n.length-1],e[i]<c){t[r]=i,n.push(r);continue}o=0,s=n.length-1;while(o<s)a=(o+s)/2|0,e[n[a]]<c?o=a+1:s=a;c<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}o=n.length,s=n[o-1];while(o-- >0)n[o]=s,s=t[s];return n}const Ln=e=>e.__isTeleport,Fn=e=>e&&(e.disabled||""===e.disabled);const Mn="components";function Un(e){return Bn(Mn,e)||e}const qn=Symbol();function Bn(e,t,n=!0){const i=rt||Nr;if(i){const n=i.type;if(e===Mn){if("_self"===t)return n;const e=Qr(n);if(e&&(e===t||e===Object(r["e"])(t)||e===Object(r["f"])(Object(r["e"])(t))))return n}const o=Wn(i[e]||n[e],t)||Wn(i.appContext[e],t);return o}}function Wn(e,t){return e&&(e[t]||e[Object(r["e"])(t)]||e[Object(r["f"])(Object(r["e"])(t))])}const Vn=Symbol(void 0),Qn=Symbol(void 0),Hn=Symbol(void 0),zn=Symbol(void 0),Kn=[];let Gn=null;function Yn(e=!1){Kn.push(Gn=e?null:[])}function $n(){Kn.pop(),Gn=Kn[Kn.length-1]||null}let Xn=1;function Jn(e,t,n,i,o){const s=ir(e,t,n,i,o,!0);return s.dynamicChildren=Gn||r["a"],$n(),Xn>0&&Gn&&Gn.push(s),s}function Zn(e){return!!e&&!0===e.__v_isVNode}function er(e,t){return e.type===t.type&&e.key===t.key}const tr="__vInternal",nr=({key:e})=>null!=e?e:null,rr=({ref:e})=>null!=e?Object(r["B"])(e)||ge(e)||Object(r["o"])(e)?{i:rt,r:e}:e:null,ir=or;function or(e,t=null,n=null,i=0,o=null,s=!1){if(e&&e!==qn||(e=Hn),Zn(e)){const r=sr(e,t,!0);return n&&hr(r,n),r}if(Hr(e)&&(e=e.__vccOpts),t){(ye(t)||tr in t)&&(t=Object(r["h"])({},t));let{class:e,style:n}=t;e&&!Object(r["B"])(e)&&(t.class=Object(r["G"])(e)),Object(r["u"])(n)&&(ye(n)&&!Object(r["n"])(n)&&(n=Object(r["h"])({},n)),t.style=Object(r["H"])(n))}const a=Object(r["B"])(e)?1:pt(e)?128:Ln(e)?64:Object(r["u"])(e)?4:Object(r["o"])(e)?2:0;const c={__v_isVNode:!0,["__v_skip"]:!0,type:e,props:t,key:t&&nr(t),ref:t&&rr(t),scopeId:mt,children:null,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null};if(hr(c,n),128&a){const{content:e,fallback:t}=ft(c);c.ssContent=e,c.ssFallback=t}return Xn>0&&!s&&Gn&&(i>0||6&a)&&32!==i&&Gn.push(c),c}function sr(e,t,n=!1){const{props:i,ref:o,patchFlag:s}=e,a=t?pr(i||{},t):i;return{__v_isVNode:!0,["__v_skip"]:!0,type:e.type,props:a,key:a&&nr(a),ref:t&&t.ref?n&&o?Object(r["n"])(o)?o.concat(rr(t)):[o,rr(t)]:rr(t):o,scopeId:e.scopeId,children:e.children,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Vn?-1===s?16:16|s:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&sr(e.ssContent),ssFallback:e.ssFallback&&sr(e.ssFallback),el:e.el,anchor:e.anchor}}function ar(e=" ",t=0){return ir(Qn,null,e,t)}function cr(e="",t=!1){return t?(Yn(),Jn(Hn,null,e)):ir(Hn,null,e)}function ur(e){return null==e||"boolean"===typeof e?ir(Hn):Object(r["n"])(e)?ir(Vn,null,e):"object"===typeof e?null===e.el?e:sr(e):ir(Qn,null,String(e))}function lr(e){return null===e.el?e:sr(e)}function hr(e,t){let n=0;const{shapeFlag:i}=e;if(null==t)t=null;else if(Object(r["n"])(t))n=16;else if("object"===typeof t){if(1&i||64&i){const n=t.default;return void(n&&(n._c&&_t(1),hr(e,n()),n._c&&_t(-1)))}{n=32;const r=t._;r||tr in t?3===r&&rt&&(1024&rt.vnode.patchFlag?(t._=2,e.patchFlag|=1024):t._=1):t._ctx=rt}}else Object(r["o"])(t)?(t={default:t,_ctx:rt},n=32):(t=String(t),64&i?(n=16,t=[ar(t)]):n=8);e.children=t,e.shapeFlag|=n}function pr(...e){const t=Object(r["h"])({},e[0]);for(let n=1;n<e.length;n++){const i=e[n];for(const e in i)if("class"===e)t.class!==i.class&&(t.class=Object(r["G"])([t.class,i.class]));else if("style"===e)t.style=Object(r["H"])([t.style,i.style]);else if(Object(r["v"])(e)){const n=t[e],r=i[e];n!==r&&(t[e]=n?[].concat(n,i[e]):r)}else""!==e&&(t[e]=i[e])}return t}function fr(e,t){if(Nr){let n=Nr.provides;const r=Nr.parent&&Nr.parent.provides;r===n&&(n=Nr.provides=Object.create(r)),n[e]=t}else 0}function dr(e,t,n=!1){const i=Nr||rt;if(i){const o=null==i.parent?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Object(r["o"])(t)?t():t}else 0}let vr=!1;function yr(e,t,n=[],i=[],o=[],s=!1){const{mixins:a,extends:c,data:u,computed:l,methods:h,watch:p,provide:f,inject:d,components:v,directives:y,beforeMount:_,mounted:g,beforeUpdate:m,updated:b,activated:w,deactivated:O,beforeDestroy:C,beforeUnmount:E,destroyed:S,unmounted:T,render:x,renderTracked:j,renderTriggered:R,errorCaptured:P,expose:k}=t,I=e.proxy,N=e.ctx,A=e.appContext.mixins;s&&x&&e.render===r["d"]&&(e.render=x),s||(vr=!0,_r("beforeCreate","bc",t,e,A),vr=!1,br(e,A,n,i,o)),c&&yr(e,c,n,i,o,!0),a&&br(e,a,n,i,o);if(d)if(Object(r["n"])(d))for(let r=0;r<d.length;r++){const e=d[r];N[e]=dr(e)}else for(const D in d){const e=d[D];Object(r["u"])(e)?N[D]=dr(e.from||D,e.default,!0):N[D]=dr(e)}if(h)for(const D in h){const e=h[D];Object(r["o"])(e)&&(N[D]=e.bind(I))}if(s?u&&n.push(u):(n.length&&n.forEach(t=>wr(e,t,I)),u&&wr(e,u,I)),l)for(const D in l){const e=l[D],t=Object(r["o"])(e)?e.bind(I,I):Object(r["o"])(e.get)?e.get.bind(I,I):r["d"];0;const n=!Object(r["o"])(e)&&Object(r["o"])(e.set)?e.set.bind(I):r["d"],i=zr({get:t,set:n});Object.defineProperty(N,D,{enumerable:!0,configurable:!0,get:()=>i.value,set:e=>i.value=e})}if(p&&i.push(p),!s&&i.length&&i.forEach(e=>{for(const t in e)Or(e[t],N,I,t)}),f&&o.push(f),!s&&o.length&&o.forEach(e=>{const t=Object(r["o"])(e)?e.call(I):e;Reflect.ownKeys(t).forEach(e=>{fr(e,t[e])})}),s&&(v&&Object(r["h"])(e.components||(e.components=Object(r["h"])({},e.type.components)),v),y&&Object(r["h"])(e.directives||(e.directives=Object(r["h"])({},e.type.directives)),y)),s||_r("created","c",t,e,A),_&&Dt(_.bind(I)),g&&Lt(g.bind(I)),m&&Ft(m.bind(I)),b&&Mt(b.bind(I)),w&&cn(w.bind(I)),O&&un(O.bind(I)),P&&Vt(P.bind(I)),j&&Wt(j.bind(I)),R&&Bt(R.bind(I)),E&&Ut(E.bind(I)),T&&qt(T.bind(I)),Object(r["n"])(k))if(s)0;else if(k.length){const t=e.exposed||(e.exposed=we({}));k.forEach(e=>{t[e]=Ce(I,e)})}else e.exposed||(e.exposed=r["b"])}function _r(e,t,n,r,i){mr(e,t,i,r);const{extends:o,mixins:s}=n;o&&gr(e,t,o,r),s&&mr(e,t,s,r);const a=n[e];a&&xe(a.bind(r.proxy),r,t)}function gr(e,t,n,r){n.extends&&gr(e,t,n.extends,r);const i=n[e];i&&xe(i.bind(r.proxy),r,t)}function mr(e,t,n,r){for(let i=0;i<n.length;i++){const o=n[i].mixins;o&&mr(e,t,o,r);const s=n[i][e];s&&xe(s.bind(r.proxy),r,t)}}function br(e,t,n,r,i){for(let o=0;o<t.length;o++)yr(e,t[o],n,r,i,!0)}function wr(e,t,n){const i=t.call(n,n);Object(r["u"])(i)&&(e.data===r["b"]?e.data=le(i):Object(r["h"])(e.data,i))}function Or(e,t,n,i){const o=i.includes(".")?Cr(n,i):()=>n[i];if(Object(r["B"])(e)){const n=t[e];Object(r["o"])(n)&&Ht(o,n)}else if(Object(r["o"])(e))Ht(o,e.bind(n));else if(Object(r["u"])(e))if(Object(r["n"])(e))e.forEach(e=>Or(e,t,n,i));else{const i=Object(r["o"])(e.handler)?e.handler.bind(n):t[e.handler];Object(r["o"])(i)&&Ht(o,i,e)}else 0}function Cr(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function Er(e){const t=e.type,{__merged:n,mixins:r,extends:i}=t;if(n)return n;const o=e.appContext.mixins;if(!o.length&&!r&&!i)return t;const s={};return o.forEach(t=>Sr(s,t,e)),Sr(s,t,e),t.__merged=s}function Sr(e,t,n){const i=n.appContext.config.optionMergeStrategies,{mixins:o,extends:s}=t;s&&Sr(e,s,n),o&&o.forEach(t=>Sr(e,t,n));for(const a in t)i&&Object(r["k"])(i,a)?e[a]=i[a](e[a],t[a],n.proxy,a):e[a]=t[a]}const Tr=e=>e&&(e.proxy?e.proxy:Tr(e.parent)),xr=Object(r["h"])(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Tr(e.parent),$root:e=>e.root&&e.root.proxy,$emit:e=>e.emit,$options:e=>Er(e),$forceUpdate:e=>()=>Qe(e.update),$nextTick:e=>Ve.bind(e.proxy),$watch:e=>Kt.bind(e)}),jr={get({_:e},t){const{ctx:n,setupState:i,data:o,props:s,accessCache:a,type:c,appContext:u}=e;if("__v_skip"===t)return!0;let l;if("$"!==t[0]){const c=a[t];if(void 0!==c)switch(c){case 0:return i[t];case 1:return o[t];case 3:return n[t];case 2:return s[t]}else{if(i!==r["b"]&&Object(r["k"])(i,t))return a[t]=0,i[t];if(o!==r["b"]&&Object(r["k"])(o,t))return a[t]=1,o[t];if((l=e.propsOptions[0])&&Object(r["k"])(l,t))return a[t]=2,s[t];if(n!==r["b"]&&Object(r["k"])(n,t))return a[t]=3,n[t];vr||(a[t]=4)}}const h=xr[t];let p,f;return h?("$attrs"===t&&b(e,"get",t),h(e)):(p=c.__cssModules)&&(p=p[t])?p:n!==r["b"]&&Object(r["k"])(n,t)?(a[t]=3,n[t]):(f=u.config.globalProperties,Object(r["k"])(f,t)?f[t]:void 0)},set({_:e},t,n){const{data:i,setupState:o,ctx:s}=e;if(o!==r["b"]&&Object(r["k"])(o,t))o[t]=n;else if(i!==r["b"]&&Object(r["k"])(i,t))i[t]=n;else if(t in e.props)return!1;return("$"!==t[0]||!(t.slice(1)in e))&&(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:o,propsOptions:s}},a){let c;return void 0!==n[a]||e!==r["b"]&&Object(r["k"])(e,a)||t!==r["b"]&&Object(r["k"])(t,a)||(c=s[0])&&Object(r["k"])(c,a)||Object(r["k"])(i,a)||Object(r["k"])(xr,a)||Object(r["k"])(o.config.globalProperties,a)}};const Rr=Object(r["h"])({},jr,{get(e,t){if(t!==Symbol.unscopables)return jr.get(e,t,e)},has(e,t){const n="_"!==t[0]&&!Object(r["p"])(t);return n}});const Pr=Cn();let kr=0;function Ir(e,t,n){const i=e.type,o=(t?t.appContext:e.appContext)||Pr,s={uid:kr++,vnode:e,type:i,parent:t,appContext:o,root:null,next:null,subTree:null,update:null,render:null,proxy:null,exposed:null,withProxy:null,effects:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:jt(i,o),emitsOptions:tt(i,o),emit:null,emitted:null,ctx:r["b"],data:r["b"],props:r["b"],attrs:r["b"],slots:r["b"],refs:r["b"],setupState:r["b"],setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=et.bind(null,s),s}let Nr=null;const Ar=()=>Nr||rt,Dr=e=>{Nr=e};let Lr,Fr=!1;function Mr(e,t=!1){Fr=t;const{props:n,children:r,shapeFlag:i}=e.vnode,o=4&i;Et(e,n,o,t),mn(e,r);const s=o?Ur(e,t):void 0;return Fr=!1,s}function Ur(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,jr);const{setup:i}=n;if(i){const n=e.setupContext=i.length>1?Wr(e):null;Nr=e,_();const o=Te(i,e,0,[e.props,n]);if(m(),Nr=null,Object(r["w"])(o)){if(t)return o.then(t=>{qr(e,t)});e.asyncDep=o}else qr(e,o)}else Br(e)}function qr(e,t,n){Object(r["o"])(t)?e.render=t:Object(r["u"])(t)&&(e.setupState=we(t)),Br(e)}function Br(e,t){const n=e.type;e.render||(Lr&&n.template&&!n.render&&(n.render=Lr(n.template,{isCustomElement:e.appContext.config.isCustomElement,delimiters:n.delimiters})),e.render=n.render||r["d"],e.render._rc&&(e.withProxy=new Proxy(e.ctx,Rr))),Nr=e,_(),yr(e,n),m(),Nr=null}function Wr(e){const t=t=>{e.exposed=we(t)};return{attrs:e.attrs,slots:e.slots,emit:e.emit,expose:t}}function Vr(e,t=Nr){t&&(t.effects||(t.effects=[])).push(e)}function Qr(e){return Object(r["o"])(e)&&e.displayName||e.name}function Hr(e){return Object(r["o"])(e)&&"__vccOpts"in e}function zr(e){const t=Se(e);return Vr(t.effect),t}function Kr(e,t,n){const i=arguments.length;return 2===i?Object(r["u"])(t)&&!Object(r["n"])(t)?Zn(t)?ir(e,null,[t]):ir(e,t):ir(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):3===i&&Zn(n)&&(n=[n]),ir(e,t,n))}Symbol("");function Gr(e,t){let n;if(Object(r["n"])(e)||Object(r["B"])(e)){n=new Array(e.length);for(let r=0,i=e.length;r<i;r++)n[r]=t(e[r],r)}else if("number"===typeof e){0,n=new Array(e);for(let r=0;r<e;r++)n[r]=t(r+1,r)}else if(Object(r["u"])(e))if(e[Symbol.iterator])n=Array.from(e,t);else{const r=Object.keys(e);n=new Array(r.length);for(let i=0,o=r.length;i<o;i++){const o=r[i];n[i]=t(e[o],o,i)}}else n=[];return n}const Yr="3.0.5",$r="http://www.w3.org/2000/svg",Xr="undefined"!==typeof document?document:null;let Jr,Zr;const ei={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n)=>t?Xr.createElementNS($r,e):Xr.createElement(e,n?{is:n}:void 0),createText:e=>Xr.createTextNode(e),createComment:e=>Xr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Xr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){return e.cloneNode(!0)},insertStaticContent(e,t,n,r){const i=r?Zr||(Zr=Xr.createElementNS($r,"svg")):Jr||(Jr=Xr.createElement("div"));i.innerHTML=e;const o=i.firstChild;let s=o,a=s;while(s)a=s,ei.insert(s,t,n),s=i.firstChild;return[o,a]}};function ti(e,t,n){if(null==t&&(t=""),n)e.setAttribute("class",t);else{const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),e.className=t}}function ni(e,t,n){const i=e.style;if(n)if(Object(r["B"])(n))t!==n&&(i.cssText=n);else{for(const e in n)ii(i,e,n[e]);if(t&&!Object(r["B"])(t))for(const e in t)null==n[e]&&ii(i,e,"")}else e.removeAttribute("style")}const ri=/\s*!important$/;function ii(e,t,n){if(Object(r["n"])(n))n.forEach(n=>ii(e,t,n));else if(t.startsWith("--"))e.setProperty(t,n);else{const i=ai(e,t);ri.test(n)?e.setProperty(Object(r["l"])(i),n.replace(ri,""),"important"):e[i]=n}}const oi=["Webkit","Moz","ms"],si={};function ai(e,t){const n=si[t];if(n)return n;let i=Object(r["e"])(t);if("filter"!==i&&i in e)return si[t]=i;i=Object(r["f"])(i);for(let r=0;r<oi.length;r++){const n=oi[r]+i;if(n in e)return si[t]=n}return t}const ci="http://www.w3.org/1999/xlink";function ui(e,t,n,i){if(i&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(ci,t.slice(6,t.length)):e.setAttributeNS(ci,t,n);else{const i=Object(r["A"])(t);null==n||i&&!1===n?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function li(e,t,n,r,i,o,s){if("innerHTML"===t||"textContent"===t)return r&&s(r,i,o),void(e[t]=null==n?"":n);if("value"!==t||"PROGRESS"===e.tagName){if(""===n||null==n){const r=typeof e[t];if(""===n&&"boolean"===r)return void(e[t]=!0);if(null==n&&"string"===r)return e[t]="",void e.removeAttribute(t);if("number"===r)return e[t]=0,void e.removeAttribute(t)}try{e[t]=n}catch(a){0}}else{e._value=n;const t=null==n?"":n;e.value!==t&&(e.value=t)}}let hi=Date.now;"undefined"!==typeof document&&hi()>document.createEvent("Event").timeStamp&&(hi=()=>performance.now());let pi=0;const fi=Promise.resolve(),di=()=>{pi=0},vi=()=>pi||(fi.then(di),pi=hi());function yi(e,t,n,r){e.addEventListener(t,n,r)}function _i(e,t,n,r){e.removeEventListener(t,n,r)}function gi(e,t,n,r,i=null){const o=e._vei||(e._vei={}),s=o[t];if(r&&s)s.value=r;else{const[n,a]=bi(t);if(r){const s=o[t]=wi(r,i);yi(e,n,s,a)}else s&&(_i(e,n,s,a),o[t]=void 0)}}const mi=/(?:Once|Passive|Capture)$/;function bi(e){let t;if(mi.test(e)){let n;t={};while(n=e.match(mi))e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e.slice(2).toLowerCase(),t]}function wi(e,t){const n=e=>{const r=e.timeStamp||hi();r>=n.attached-1&&xe(Oi(e,n.value),t,5,[e])};return n.value=e,n.attached=vi(),n}function Oi(e,t){if(Object(r["n"])(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(e=>t=>!t._stopped&&e(t))}return t}const Ci=/^on[a-z]/,Ei=(e,t)=>"value"===t,Si=(e,t,n,i,o=!1,s,a,c,u)=>{switch(t){case"class":ti(e,i,o);break;case"style":ni(e,n,i);break;default:Object(r["v"])(t)?Object(r["t"])(t)||gi(e,t,n,i,a):Ti(e,t,i,o)?li(e,t,i,s,a,c,u):("true-value"===t?e._trueValue=i:"false-value"===t&&(e._falseValue=i),ui(e,t,i,o));break}};function Ti(e,t,n,i){return i?"innerHTML"===t||!!(t in e&&Ci.test(t)&&Object(r["o"])(n)):"spellcheck"!==t&&"draggable"!==t&&(("form"!==t||"string"!==typeof n)&&(("list"!==t||"INPUT"!==e.tagName)&&((!Ci.test(t)||!Object(r["B"])(n))&&t in e)))}const xi="transition",ji="animation",Ri=(e,{slots:t})=>Kr(Jt,ki(e),t);Ri.displayName="Transition";const Pi={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Ri.props=Object(r["h"])({},Jt.props,Pi);function ki(e){let{name:t="v",type:n,css:i=!0,duration:o,enterFromClass:s=t+"-enter-from",enterActiveClass:a=t+"-enter-active",enterToClass:c=t+"-enter-to",appearFromClass:u=s,appearActiveClass:l=a,appearToClass:h=c,leaveFromClass:p=t+"-leave-from",leaveActiveClass:f=t+"-leave-active",leaveToClass:d=t+"-leave-to"}=e;const v={};for(const r in e)r in Pi||(v[r]=e[r]);if(!i)return v;const y=Ii(o),_=y&&y[0],g=y&&y[1],{onBeforeEnter:m,onEnter:b,onEnterCancelled:w,onLeave:O,onLeaveCancelled:C,onBeforeAppear:E=m,onAppear:S=b,onAppearCancelled:T=w}=v,x=(e,t,n)=>{Di(e,t?h:c),Di(e,t?l:a),n&&n()},j=(e,t)=>{Di(e,d),Di(e,f),t&&t()},R=e=>(t,r)=>{const i=e?S:b,o=()=>x(t,e,r);i&&i(t,o),Li(()=>{Di(t,e?u:s),Ai(t,e?h:c),i&&i.length>1||Mi(t,n,_,o)})};return Object(r["h"])(v,{onBeforeEnter(e){m&&m(e),Ai(e,s),Ai(e,a)},onBeforeAppear(e){E&&E(e),Ai(e,u),Ai(e,l)},onEnter:R(!1),onAppear:R(!0),onLeave(e,t){const r=()=>j(e,t);Ai(e,p),Wi(),Ai(e,f),Li(()=>{Di(e,p),Ai(e,d),O&&O.length>1||Mi(e,n,g,r)}),O&&O(e,r)},onEnterCancelled(e){x(e,!1),w&&w(e)},onAppearCancelled(e){x(e,!0),T&&T(e)},onLeaveCancelled(e){j(e),C&&C(e)}})}function Ii(e){if(null==e)return null;if(Object(r["u"])(e))return[Ni(e.enter),Ni(e.leave)];{const t=Ni(e);return[t,t]}}function Ni(e){const t=Object(r["L"])(e);return t}function Ai(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.add(t)),(e._vtc||(e._vtc=new Set)).add(t)}function Di(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.remove(t));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function Li(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Fi=0;function Mi(e,t,n,r){const i=e._endId=++Fi,o=()=>{i===e._endId&&r()};if(n)return setTimeout(o,n);const{type:s,timeout:a,propCount:c}=Ui(e,t);if(!s)return r();const u=s+"end";let l=0;const h=()=>{e.removeEventListener(u,p),o()},p=t=>{t.target===e&&++l>=c&&h()};setTimeout(()=>{l<c&&h()},a+1),e.addEventListener(u,p)}function Ui(e,t){const n=window.getComputedStyle(e),r=e=>(n[e]||"").split(", "),i=r(xi+"Delay"),o=r(xi+"Duration"),s=qi(i,o),a=r(ji+"Delay"),c=r(ji+"Duration"),u=qi(a,c);let l=null,h=0,p=0;t===xi?s>0&&(l=xi,h=s,p=o.length):t===ji?u>0&&(l=ji,h=u,p=c.length):(h=Math.max(s,u),l=h>0?s>u?xi:ji:null,p=l?l===xi?o.length:c.length:0);const f=l===xi&&/\b(transform|all)(,|$)/.test(n[xi+"Property"]);return{type:l,timeout:h,propCount:p,hasTransform:f}}function qi(e,t){while(e.length<t.length)e=e.concat(e);return Math.max(...t.map((t,n)=>Bi(t)+Bi(e[n])))}function Bi(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function Wi(){return document.body.offsetHeight}new WeakMap,new WeakMap;const Vi=e=>{const t=e.props["onUpdate:modelValue"];return Object(r["n"])(t)?e=>Object(r["m"])(t,e):t};function Qi(e){e.target.composing=!0}function Hi(e){const t=e.target;t.composing&&(t.composing=!1,zi(t,"input"))}function zi(e,t){const n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}const Ki={created(e,{modifiers:{lazy:t,trim:n,number:i}},o){e._assign=Vi(o);const s=i||"number"===e.type;yi(e,t?"change":"input",t=>{if(t.target.composing)return;let i=e.value;n?i=i.trim():s&&(i=Object(r["L"])(i)),e._assign(i)}),n&&yi(e,"change",()=>{e.value=e.value.trim()}),t||(yi(e,"compositionstart",Qi),yi(e,"compositionend",Hi),yi(e,"change",Hi))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,modifiers:{trim:n,number:i}},o){if(e._assign=Vi(o),e.composing)return;if(document.activeElement===e){if(n&&e.value.trim()===t)return;if((i||"number"===e.type)&&Object(r["L"])(e.value)===t)return}const s=null==t?"":t;e.value!==s&&(e.value=s)}},Gi={created(e,t,n){e._assign=Vi(n),yi(e,"change",()=>{const t=e._modelValue,n=Zi(e),i=e.checked,o=e._assign;if(Object(r["n"])(t)){const e=Object(r["E"])(t,n),s=-1!==e;if(i&&!s)o(t.concat(n));else if(!i&&s){const n=[...t];n.splice(e,1),o(n)}}else if(Object(r["z"])(t)){const e=new Set(t);i?e.add(n):e.delete(n),o(e)}else o(eo(e,i))})},mounted:Yi,beforeUpdate(e,t,n){e._assign=Vi(n),Yi(e,t,n)}};function Yi(e,{value:t,oldValue:n},i){e._modelValue=t,Object(r["n"])(t)?e.checked=Object(r["E"])(t,i.props.value)>-1:Object(r["z"])(t)?e.checked=t.has(i.props.value):t!==n&&(e.checked=Object(r["D"])(t,eo(e,!0)))}const $i={created(e,{value:t},n){e.checked=Object(r["D"])(t,n.props.value),e._assign=Vi(n),yi(e,"change",()=>{e._assign(Zi(e))})},beforeUpdate(e,{value:t,oldValue:n},i){e._assign=Vi(i),t!==n&&(e.checked=Object(r["D"])(t,i.props.value))}},Xi={created(e,{value:t,modifiers:{number:n}},i){const o=Object(r["z"])(t);yi(e,"change",()=>{const t=Array.prototype.filter.call(e.options,e=>e.selected).map(e=>n?Object(r["L"])(Zi(e)):Zi(e));e._assign(e.multiple?o?new Set(t):t:t[0])}),e._assign=Vi(i)},mounted(e,{value:t}){Ji(e,t)},beforeUpdate(e,t,n){e._assign=Vi(n)},updated(e,{value:t}){Ji(e,t)}};function Ji(e,t){const n=e.multiple;if(!n||Object(r["n"])(t)||Object(r["z"])(t)){for(let i=0,o=e.options.length;i<o;i++){const o=e.options[i],s=Zi(o);if(n)Object(r["n"])(t)?o.selected=Object(r["E"])(t,s)>-1:o.selected=t.has(s);else if(Object(r["D"])(Zi(o),t))return void(e.selectedIndex=i)}n||(e.selectedIndex=-1)}}function Zi(e){return"_value"in e?e._value:e.value}function eo(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const to=Object(r["h"])({patchProp:Si,forcePatchProp:Ei},ei);let no;function ro(){return no||(no=kn(to))}const io=(...e)=>{const t=ro().createApp(...e);const{mount:n}=t;return t.mount=e=>{const i=oo(e);if(!i)return;const o=t._component;Object(r["o"])(o)||o.render||o.template||(o.template=i.innerHTML),i.innerHTML="";const s=n(i);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},t};function oo(e){if(Object(r["B"])(e)){const t=document.querySelector(e);return t}return e}},"7b0b":function(e,t,n){var r=n("1d80");e.exports=function(e){return Object(r(e))}},"7c73":function(e,t,n){var r,i=n("825a"),o=n("37e8"),s=n("7839"),a=n("d012"),c=n("1be4"),u=n("cc12"),l=n("f772"),h=">",p="<",f="prototype",d="script",v=l("IE_PROTO"),y=function(){},_=function(e){return p+d+h+e+p+"/"+d+h},g=function(e){e.write(_("")),e.close();var t=e.parentWindow.Object;return e=null,t},m=function(){var e,t=u("iframe"),n="java"+d+":";return t.style.display="none",c.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(_("document.F=Object")),e.close(),e.F},b=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}b=r?g(r):m();var e=s.length;while(e--)delete b[f][s[e]];return b()};a[v]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(y[f]=i(e),n=new y,y[f]=null,n[v]=e):n=b(),void 0===t?n:o(n,t)}},"7dd0":function(e,t,n){"use strict";var r=n("23e7"),i=n("9ed3"),o=n("e163"),s=n("d2bb"),a=n("d44e"),c=n("9112"),u=n("6eeb"),l=n("b622"),h=n("c430"),p=n("3f8c"),f=n("ae93"),d=f.IteratorPrototype,v=f.BUGGY_SAFARI_ITERATORS,y=l("iterator"),_="keys",g="values",m="entries",b=function(){return this};e.exports=function(e,t,n,l,f,w,O){i(n,t,l);var C,E,S,T=function(e){if(e===f&&k)return k;if(!v&&e in R)return R[e];switch(e){case _:return function(){return new n(this,e)};case g:return function(){return new n(this,e)};case m:return function(){return new n(this,e)}}return function(){return new n(this)}},x=t+" Iterator",j=!1,R=e.prototype,P=R[y]||R["@@iterator"]||f&&R[f],k=!v&&P||T(f),I="Array"==t&&R.entries||P;if(I&&(C=o(I.call(new e)),d!==Object.prototype&&C.next&&(h||o(C)===d||(s?s(C,d):"function"!=typeof C[y]&&c(C,y,b)),a(C,x,!0,!0),h&&(p[x]=b))),f==g&&P&&P.name!==g&&(j=!0,k=function(){return P.call(this)}),h&&!O||R[y]===k||c(R,y,k),p[t]=k,f)if(E={values:T(g),keys:w?k:T(_),entries:T(m)},O)for(S in E)(v||j||!(S in R))&&u(R,S,E[S]);else r({target:t,proto:!0,forced:v||j},E);return E}},"7f9a":function(e,t,n){var r=n("da84"),i=n("8925"),o=r.WeakMap;e.exports="function"===typeof o&&/native code/.test(i(o))},"825a":function(e,t,n){var r=n("861d");e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},"83ab":function(e,t,n){var r=n("d039");e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8418:function(e,t,n){"use strict";var r=n("c04e"),i=n("9bf2"),o=n("5c6c");e.exports=function(e,t,n){var s=r(t);s in e?i.f(e,s,o(0,n)):e[s]=n}},"861d":function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},8925:function(e,t,n){var r=n("c6cd"),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},"8aa5":function(e,t,n){"use strict";var r=n("6547").charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},"90e3":function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},9112:function(e,t,n){var r=n("83ab"),i=n("9bf2"),o=n("5c6c");e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},9263:function(e,t,n){"use strict";var r=n("ad6d"),i=n("9f7f"),o=RegExp.prototype.exec,s=String.prototype.replace,a=o,c=function(){var e=/a/,t=/b*/g;return o.call(e,"a"),o.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),u=i.UNSUPPORTED_Y||i.BROKEN_CARET,l=void 0!==/()??/.exec("")[1],h=c||l||u;h&&(a=function(e){var t,n,i,a,h=this,p=u&&h.sticky,f=r.call(h),d=h.source,v=0,y=e;return p&&(f=f.replace("y",""),-1===f.indexOf("g")&&(f+="g"),y=String(e).slice(h.lastIndex),h.lastIndex>0&&(!h.multiline||h.multiline&&"\n"!==e[h.lastIndex-1])&&(d="(?: "+d+")",y=" "+y,v++),n=new RegExp("^(?:"+d+")",f)),l&&(n=new RegExp("^"+d+"$(?!\\s)",f)),c&&(t=h.lastIndex),i=o.call(p?n:h,y),p?i?(i.input=i.input.slice(v),i[0]=i[0].slice(v),i.index=h.lastIndex,h.lastIndex+=i[0].length):h.lastIndex=0:c&&i&&(h.lastIndex=h.global?i.index+i[0].length:t),l&&i&&i.length>1&&s.call(i[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)})),i}),e.exports=a},"94ca":function(e,t,n){var r=n("d039"),i=/#|\.prototype\./,o=function(e,t){var n=a[s(e)];return n==u||n!=c&&("function"==typeof t?r(t):!!t)},s=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},a=o.data={},c=o.NATIVE="N",u=o.POLYFILL="P";e.exports=o},"96cf":function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(I){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,o=Object.create(i.prototype),s=new R(r||[]);return o._invoke=S(e,n,s),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=u;var h="suspendedStart",p="suspendedYield",f="executing",d="completed",v={};function y(){}function _(){}function g(){}var m={};m[o]=function(){return this};var b=Object.getPrototypeOf,w=b&&b(b(P([])));w&&w!==n&&r.call(w,o)&&(m=w);var O=g.prototype=y.prototype=Object.create(m);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,o,s,a){var c=l(e[i],e,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"===typeof h&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(h).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,a)}))}a(c.arg)}var i;function o(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}this._invoke=o}function S(e,t,n){var r=h;return function(i,o){if(r===f)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw o;return k()}n.method=i,n.arg=o;while(1){var s=n.delegate;if(s){var a=T(s,n);if(a){if(a===v)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var c=l(e,t,n);if("normal"===c.type){if(r=n.done?d:p,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=d,n.method="throw",n.arg=c.arg)}}}function T(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator["return"]&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function P(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function n(){while(++i<e.length)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}return{next:k}}function k(){return{value:t,done:!0}}return _.prototype=O.constructor=g,g.constructor=_,_.displayName=c(g,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,c(e,a,"GeneratorFunction")),e.prototype=Object.create(O),e},e.awrap=function(e){return{__await:e}},C(E.prototype),E.prototype[s]=function(){return this},e.AsyncIterator=E,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var s=new E(u(t,n,r,i),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},C(O),c(O,a,"Generator"),O[o]=function(){return this},O.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){while(t.length){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=P,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return a.type="throw",a.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var c=r.call(s,"catchLoc"),u=r.call(s,"finallyLoc");if(c&&u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;j(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},"99af":function(e,t,n){"use strict";var r=n("23e7"),i=n("d039"),o=n("e8b5"),s=n("861d"),a=n("7b0b"),c=n("50c4"),u=n("8418"),l=n("65f0"),h=n("1dde"),p=n("b622"),f=n("2d00"),d=p("isConcatSpreadable"),v=9007199254740991,y="Maximum allowed index exceeded",_=f>=51||!i((function(){var e=[];return e[d]=!1,e.concat()[0]!==e})),g=h("concat"),m=function(e){if(!s(e))return!1;var t=e[d];return void 0!==t?!!t:o(e)},b=!_||!g;r({target:"Array",proto:!0,forced:b},{concat:function(e){var t,n,r,i,o,s=a(this),h=l(s,0),p=0;for(t=-1,r=arguments.length;t<r;t++)if(o=-1===t?s:arguments[t],m(o)){if(i=c(o.length),p+i>v)throw TypeError(y);for(n=0;n<i;n++,p++)n in o&&u(h,p,o[n])}else{if(p>=v)throw TypeError(y);u(h,p++,o)}return h.length=p,h}})},"9ab4":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return a})),n.d(t,"h",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return h}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function s(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r["throw"](e))}catch(t){o(t)}}function c(e){e.done?n(e.value):i(e.value).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function a(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return c([e,t])}}function c(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function c(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{while((void 0===t||t-- >0)&&!(r=o.next()).done)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return s}function l(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e}function h(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}},"9bf2":function(e,t,n){var r=n("83ab"),i=n("0cfb"),o=n("825a"),s=n("c04e"),a=Object.defineProperty;t.f=r?a:function(e,t,n){if(o(e),t=s(t,!0),o(n),i)try{return a(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},"9ed3":function(e,t,n){"use strict";var r=n("ae93").IteratorPrototype,i=n("7c73"),o=n("5c6c"),s=n("d44e"),a=n("3f8c"),c=function(){return this};e.exports=function(e,t,n){var u=t+" Iterator";return e.prototype=i(r,{next:o(1,n)}),s(e,u,!1,!0),a[u]=c,e}},"9f7f":function(e,t,n){"use strict";var r=n("d039");function i(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},"9ff4":function(e,t,n){"use strict";(function(e){function r(e,t){const n=Object.create(null),r=e.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return S})),n.d(t,"d",(function(){return E})),n.d(t,"e",(function(){return $})),n.d(t,"f",(function(){return Z})),n.d(t,"g",(function(){return re})),n.d(t,"h",(function(){return R})),n.d(t,"i",(function(){return se})),n.d(t,"j",(function(){return te})),n.d(t,"k",(function(){return I})),n.d(t,"l",(function(){return J})),n.d(t,"m",(function(){return ne})),n.d(t,"n",(function(){return N})),n.d(t,"o",(function(){return F})),n.d(t,"p",(function(){return o})),n.d(t,"q",(function(){return v})),n.d(t,"r",(function(){return z})),n.d(t,"s",(function(){return A})),n.d(t,"t",(function(){return j})),n.d(t,"u",(function(){return q})),n.d(t,"v",(function(){return x})),n.d(t,"w",(function(){return B})),n.d(t,"x",(function(){return K})),n.d(t,"y",(function(){return y})),n.d(t,"z",(function(){return D})),n.d(t,"A",(function(){return a})),n.d(t,"B",(function(){return M})),n.d(t,"C",(function(){return U})),n.d(t,"D",(function(){return g})),n.d(t,"E",(function(){return m})),n.d(t,"F",(function(){return r})),n.d(t,"G",(function(){return p})),n.d(t,"H",(function(){return c})),n.d(t,"I",(function(){return P})),n.d(t,"J",(function(){return b})),n.d(t,"K",(function(){return ee})),n.d(t,"L",(function(){return ie})),n.d(t,"M",(function(){return Q}));const i="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl",o=r(i);const s="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",a=r(s);function c(e){if(N(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=c(M(r)?h(r):r);if(i)for(const e in i)t[e]=i[e]}return t}if(q(e))return e}const u=/;(?![^(]*\))/g,l=/:(.+)/;function h(e){const t={};return e.split(u).forEach(e=>{if(e){const n=e.split(l);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function p(e){let t="";if(M(e))t=e;else if(N(e))for(let n=0;n<e.length;n++)t+=p(e[n])+" ";else if(q(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const f="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",d="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",v=r(f),y=r(d);function _(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=g(e[r],t[r]);return n}function g(e,t){if(e===t)return!0;let n=L(e),r=L(t);if(n||r)return!(!n||!r)&&e.getTime()===t.getTime();if(n=N(e),r=N(t),n||r)return!(!n||!r)&&_(e,t);if(n=q(e),r=q(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,o=Object.keys(t).length;if(i!==o)return!1;for(const n in e){const r=e.hasOwnProperty(n),i=t.hasOwnProperty(n);if(r&&!i||!r&&i||!g(e[n],t[n]))return!1}}return String(e)===String(t)}function m(e,t){return e.findIndex(e=>g(e,t))}const b=e=>null==e?"":q(e)?JSON.stringify(e,w,2):String(e),w=(e,t)=>A(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[t,n])=>(e[t+" =>"]=n,e),{})}:D(t)?{[`Set(${t.size})`]:[...t.values()]}:!q(t)||N(t)||H(t)?t:String(t),O={},C=[],E=()=>{},S=()=>!1,T=/^on[^a-z]/,x=e=>T.test(e),j=e=>e.startsWith("onUpdate:"),R=Object.assign,P=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},k=Object.prototype.hasOwnProperty,I=(e,t)=>k.call(e,t),N=Array.isArray,A=e=>"[object Map]"===V(e),D=e=>"[object Set]"===V(e),L=e=>e instanceof Date,F=e=>"function"===typeof e,M=e=>"string"===typeof e,U=e=>"symbol"===typeof e,q=e=>null!==e&&"object"===typeof e,B=e=>q(e)&&F(e.then)&&F(e.catch),W=Object.prototype.toString,V=e=>W.call(e),Q=e=>V(e).slice(8,-1),H=e=>"[object Object]"===V(e),z=e=>M(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,K=r(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),G=e=>{const t=Object.create(null);return n=>{const r=t[n];return r||(t[n]=e(n))}},Y=/-(\w)/g,$=G(e=>e.replace(Y,(e,t)=>t?t.toUpperCase():"")),X=/\B([A-Z])/g,J=G(e=>e.replace(X,"-$1").toLowerCase()),Z=G(e=>e.charAt(0).toUpperCase()+e.slice(1)),ee=G(e=>e?"on"+Z(e):""),te=(e,t)=>e!==t&&(e===e||t===t),ne=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},re=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},ie=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let oe;const se=()=>oe||(oe="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof e?e:{})}).call(this,n("c8ba"))},a15b:function(e,t,n){"use strict";var r=n("23e7"),i=n("44ad"),o=n("fc6a"),s=n("a640"),a=[].join,c=i!=Object,u=s("join",",");r({target:"Array",proto:!0,forced:c||!u},{join:function(e){return a.call(o(this),void 0===e?",":e)}})},a434:function(e,t,n){"use strict";var r=n("23e7"),i=n("23cb"),o=n("a691"),s=n("50c4"),a=n("7b0b"),c=n("65f0"),u=n("8418"),l=n("1dde"),h=l("splice"),p=Math.max,f=Math.min,d=9007199254740991,v="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!h},{splice:function(e,t){var n,r,l,h,y,_,g=a(this),m=s(g.length),b=i(e,m),w=arguments.length;if(0===w?n=r=0:1===w?(n=0,r=m-b):(n=w-2,r=f(p(o(t),0),m-b)),m+n-r>d)throw TypeError(v);for(l=c(g,r),h=0;h<r;h++)y=b+h,y in g&&u(l,h,g[y]);if(l.length=r,n<r){for(h=b;h<m-r;h++)y=h+r,_=h+n,y in g?g[_]=g[y]:delete g[_];for(h=m;h>m-r+n;h--)delete g[h-1]}else if(n>r)for(h=m-r;h>b;h--)y=h+r-1,_=h+n-1,y in g?g[_]=g[y]:delete g[_];for(h=0;h<n;h++)g[h+b]=arguments[h+2];return g.length=m-r+n,l}})},a4b4:function(e,t,n){var r=n("342f");e.exports=/web0s(?!.*chrome)/i.test(r)},a640:function(e,t,n){"use strict";var r=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},a691:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},a79d:function(e,t,n){"use strict";var r=n("23e7"),i=n("c430"),o=n("fea9"),s=n("d039"),a=n("d066"),c=n("4840"),u=n("cdf9"),l=n("6eeb"),h=!!o&&s((function(){o.prototype["finally"].call({then:function(){}},(function(){}))}));r({target:"Promise",proto:!0,real:!0,forced:h},{finally:function(e){var t=c(this,a("Promise")),n="function"==typeof e;return this.then(n?function(n){return u(t,e()).then((function(){return n}))}:e,n?function(n){return u(t,e()).then((function(){throw n}))}:e)}}),i||"function"!=typeof o||o.prototype["finally"]||l(o.prototype,"finally",a("Promise").prototype["finally"])},a8e9:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return E})),n.d(t,"c",(function(){return C})),n.d(t,"d",(function(){return F})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return I})),n.d(t,"j",(function(){return M})),n.d(t,"k",(function(){return p})),n.d(t,"l",(function(){return f})),n.d(t,"m",(function(){return V})),n.d(t,"n",(function(){return k})),n.d(t,"o",(function(){return m})),n.d(t,"p",(function(){return A})),n.d(t,"q",(function(){return _})),n.d(t,"r",(function(){return g})),n.d(t,"s",(function(){return w})),n.d(t,"t",(function(){return b})),n.d(t,"u",(function(){return P})),n.d(t,"v",(function(){return x})),n.d(t,"w",(function(){return D})),n.d(t,"x",(function(){return L})),n.d(t,"y",(function(){return N})),n.d(t,"z",(function(){return K})),n.d(t,"A",(function(){return z})),n.d(t,"B",(function(){return j})),n.d(t,"C",(function(){return W})),n.d(t,"D",(function(){return Q})),n.d(t,"E",(function(){return H}));var r=n("9ab4"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw s(t)},s=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},a=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},c=function(e){var t=[],n=0,r=0;while(n<e.length){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){o=e[n++];var s=e[n++],a=e[n++],c=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&a)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(1023&c))}else{o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],s=i+1<e.length,a=s?e[i+1]:0,c=i+2<e.length,u=c?e[i+2]:0,l=o>>2,h=(3&o)<<4|a>>4,p=(15&a)<<2|u>>6,f=63&u;c||(f=64,s||(p=64)),r.push(n[l],n[h],n[p],n[f])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(a(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):c(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],s=i<e.length,a=s?n[e.charAt(i)]:0;++i;var c=i<e.length,u=c?n[e.charAt(i)]:64;++i;var l=i<e.length,h=l?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==u||null==h)throw Error();var p=o<<2|a>>4;if(r.push(p),64!==u){var f=a<<4&240|u>>2;if(r.push(f),64!==h){var d=u<<6&192|h;r.push(d)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},l=function(e){var t=a(e);return u.encodeByteArray(t,!0)},h=function(e){try{return u.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function p(e){return f(void 0,e)}function f(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)t.hasOwnProperty(r)&&d(r)&&(e[r]=f(e[r],t[r]));return e}function d(e){return"__proto__"!==e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var v=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y(){return"undefined"!==typeof navigator&&"string"===typeof navigator["userAgent"]?navigator["userAgent"]:""}function _(){return"undefined"!==typeof window&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())}function g(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(t){return!1}}function m(){return"object"===typeof self&&self.self===self}function b(){return"object"===typeof navigator&&"ReactNative"===navigator["product"]}function w(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var O="FirebaseError",C=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name=O,Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,E.prototype.create),o}return Object(r["c"])(t,e),t}(Error),E=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],s=o?S(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",c=new C(i,a,r);return c},e}();function S(e,t){return e.replace(T,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var T=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x(e){return JSON.parse(e)}function j(e){return JSON.stringify(e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var R=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=x(h(o[0])||""),n=x(h(o[1])||""),i=o[2],r=n["d"]||{},delete n["d"]}catch(s){}return{header:t,claims:n,data:r,signature:i}},P=function(e){var t=R(e),n=t.claims;return!!n&&"object"===typeof n&&n.hasOwnProperty("iat")},k=function(e){var t=R(e).claims;return"object"===typeof t&&!0===t["admin"]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function I(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function N(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function A(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function D(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r],s=o[0],a=o[1];n(s,a)}return t.length?"&"+t.join("&"):""}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var F=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,s,a=this.chain_[0],c=this.chain_[1],u=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^c&(u^l),s=1518500249):(o=c^u^l,s=1859775393):r<60?(o=c&u|l&(c|u),s=2400959708):(o=c^u^l,s=3395469782);i=(a<<5|a>>>27)+o+h+s+n[r]&4294967295;h=l,l=u,u=4294967295&(c<<30|c>>>2),c=a,a=i}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;while(r<t){if(0===o)while(r<=n)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){while(r<t)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else while(r<t)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function M(e,t){var n=new U(e,t);return n.subscribe.bind(n)}var U=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=q(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=B),void 0===r.error&&(r.error=B),void 0===r.complete&&(r.complete=B);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function q(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}function B(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var W=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i){var o=e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".";throw new Error(o)}};function V(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=e+" failed: ";return i+=r+" argument ",i}function Q(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(V(e,t,r)+"must be a valid function.")}function H(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(V(e,t,r)+"must be a valid context object.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var z=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,o(r<e.length,"Surrogate pair missing trail surrogate.");var a=e.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},K=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t}}).call(this,n("c8ba"))},abfd:function(e,t,n){"use strict";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i;n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return f}));var o,s=[];(function(e){e[e["DEBUG"]=0]="DEBUG",e[e["VERBOSE"]=1]="VERBOSE",e[e["INFO"]=2]="INFO",e[e["WARN"]=3]="WARN",e[e["ERROR"]=4]="ERROR",e[e["SILENT"]=5]="SILENT"})(o||(o={}));var a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},c=o.INFO,u=(i={},i[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),s=u[t];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[s].apply(console,r(["["+o+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=c,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?a[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],e)),this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],e)),this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],e)),this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],e)),this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],e)),this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function p(e){s.forEach((function(t){t.setLogLevel(e)}))}function f(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=a[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:o[n].toLowerCase(),message:a,args:i,type:t.name})}},r=0,i=s;r<i.length;r++){var c=i[r];n(c)}}},ac1f:function(e,t,n){"use strict";var r=n("23e7"),i=n("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ad6d:function(e,t,n){"use strict";var r=n("825a");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},ae93:function(e,t,n){"use strict";var r,i,o,s=n("d039"),a=n("e163"),c=n("9112"),u=n("5135"),l=n("b622"),h=n("c430"),p=l("iterator"),f=!1,d=function(){return this};[].keys&&(o=[].keys(),"next"in o?(i=a(a(o)),i!==Object.prototype&&(r=i)):f=!0);var v=void 0==r||s((function(){var e={};return r[p].call(e)!==e}));v&&(r={}),h&&!v||u(r,p)||c(r,p,d),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},b041:function(e,t,n){"use strict";var r=n("00ee"),i=n("f5df");e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},b0c0:function(e,t,n){var r=n("83ab"),i=n("9bf2").f,o=Function.prototype,s=o.toString,a=/^\s*function ([^ (]*)/,c="name";r&&!(c in o)&&i(o,c,{configurable:!0,get:function(){try{return s.call(this).match(a)[1]}catch(e){return""}}})},b575:function(e,t,n){var r,i,o,s,a,c,u,l,h=n("da84"),p=n("06cf").f,f=n("2cf4").set,d=n("1cdc"),v=n("a4b4"),y=n("605d"),_=h.MutationObserver||h.WebKitMutationObserver,g=h.document,m=h.process,b=h.Promise,w=p(h,"queueMicrotask"),O=w&&w.value;O||(r=function(){var e,t;y&&(e=m.domain)&&e.exit();while(i){t=i.fn,i=i.next;try{t()}catch(n){throw i?s():o=void 0,n}}o=void 0,e&&e.enter()},d||y||v||!_||!g?b&&b.resolve?(u=b.resolve(void 0),l=u.then,s=function(){l.call(u,r)}):s=y?function(){m.nextTick(r)}:function(){f.call(h,r)}:(a=!0,c=g.createTextNode(""),new _(r).observe(c,{characterData:!0}),s=function(){c.data=a=!a})),e.exports=O||function(e){var t={fn:e,next:void 0};o&&(o.next=t),i||(i=t,s()),o=t}},b622:function(e,t,n){var r=n("da84"),i=n("5692"),o=n("5135"),s=n("90e3"),a=n("4930"),c=n("fdbf"),u=i("wks"),l=r.Symbol,h=c?l:l&&l.withoutSetter||s;e.exports=function(e){return o(u,e)||(a&&o(l,e)?u[e]=l[e]:u[e]=h("Symbol."+e)),u[e]}},b727:function(e,t,n){var r=n("0366"),i=n("44ad"),o=n("7b0b"),s=n("50c4"),a=n("65f0"),c=[].push,u=function(e){var t=1==e,n=2==e,u=3==e,l=4==e,h=6==e,p=7==e,f=5==e||h;return function(d,v,y,_){for(var g,m,b=o(d),w=i(b),O=r(v,y,3),C=s(w.length),E=0,S=_||a,T=t?S(d,C):n||p?S(d,0):void 0;C>E;E++)if((f||E in w)&&(g=w[E],m=O(g,E,b),e))if(t)T[E]=m;else if(m)switch(e){case 3:return!0;case 5:return g;case 6:return E;case 2:c.call(T,g)}else switch(e){case 4:return!1;case 7:c.call(T,g)}return h?-1:u||l?l:T}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterOut:u(7)}},bee2:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return i}))},c04e:function(e,t,n){var r=n("861d");e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},c430:function(e,t){e.exports=!1},c6b6:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},c6cd:function(e,t,n){var r=n("da84"),i=n("ce4e"),o="__core-js_shared__",s=r[o]||i(o,{});e.exports=s},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},ca84:function(e,t,n){var r=n("5135"),i=n("fc6a"),o=n("4d64").indexOf,s=n("d012");e.exports=function(e,t){var n,a=i(e),c=0,u=[];for(n in a)!r(s,n)&&r(a,n)&&u.push(n);while(t.length>c)r(a,n=t[c++])&&(~o(u,n)||u.push(n));return u}},cc12:function(e,t,n){var r=n("da84"),i=n("861d"),o=r.document,s=i(o)&&i(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},cc84:function(e,t,n){"use strict";var r,i,o=n("9ab4"),s=n("a8e9"),a=n("ffa6"),c=n("abfd"),u=(r={},r["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s["b"]("app","Firebase",u),h="@firebase/app",p="0.6.15",f="@firebase/analytics",d="@firebase/auth",v="@firebase/database",y="@firebase/functions",_="@firebase/installations",g="@firebase/messaging",m="@firebase/performance",b="@firebase/remote-config",w="@firebase/storage",O="@firebase/firestore",C="firebase-wrapper",E="[DEFAULT]",S=(i={},i[h]="fire-core",i[f]="fire-analytics",i[d]="fire-auth",i[v]="fire-rtdb",i[y]="fire-fn",i[_]="fire-iid",i[g]="fire-fcm",i[m]="fire-perf",i[b]="fire-rc",i[w]="fire-gcs",i[O]="fire-fst",i["fire-js"]="fire-js",i[C]="fire-js-all",i),T=new c["b"]("@firebase/app"),x=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=Object(s["k"])(e),this.container=new a["b"](t.name),this._addComponent(new a["a"]("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){return void 0===t&&(t=E),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=E),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){T.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();x.prototype.name&&x.prototype.options||x.prototype.delete||console.log("dc");var j="8.2.9";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R(e){var t={},n=new Map,r={__esModule:!0,initializeApp:u,app:o,registerVersion:f,setLogLevel:c["c"],onLog:d,apps:null,SDK_VERSION:j,INTERNAL:{registerComponent:p,removeApp:i,components:n,useAsService:v}};function i(e){delete t[e]}function o(e){if(e=e||E,!Object(s["i"])(t,e))throw l.create("no-app",{appName:e});return t[e]}function u(n,i){if(void 0===i&&(i={}),"object"!==typeof i||null===i){var o=i;i={name:o}}var a=i;void 0===a.name&&(a.name=E);var c=a.name;if("string"!==typeof c||!c)throw l.create("bad-app-name",{appName:String(c)});if(Object(s["i"])(t,c))throw l.create("duplicate-app",{appName:c});var u=new e(n,a,r);return t[c]=u,u}function h(){return Object.keys(t).map((function(e){return t[e]}))}function p(i){var a=i.name;if(n.has(a))return T.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===i.type?r[a]:null;if(n.set(a,i),"PUBLIC"===i.type){var c=function(e){if(void 0===e&&(e=o()),"function"!==typeof e[a])throw l.create("invalid-app-argument",{appName:a});return e[a]()};void 0!==i.serviceProps&&Object(s["l"])(c,i.serviceProps),r[a]=c,e.prototype[a]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,a);return n.apply(this,i.multipleInstances?e:[])}}for(var u=0,h=Object.keys(t);u<h.length;u++){var p=h[u];t[p]._addComponent(i)}return"PUBLIC"===i.type?r[a]:null}function f(e,t,n){var r,i=null!==(r=S[e])&&void 0!==r?r:e;n&&(i+="-"+n);var o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){var c=['Unable to register library "'+i+'" with version "'+t+'":'];return o&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&c.push("and"),s&&c.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void T.warn(c.join(" "))}p(new a["a"](i+"-version",(function(){return{library:i,version:t}}),"VERSION"))}function d(e,t){if(null!==e&&"function"!==typeof e)throw l.create("invalid-log-argument");Object(c["d"])(e,t)}function v(e,t){if("serverAuth"===t)return null;var n=t;return n}return r["default"]=r,Object.defineProperty(r,"apps",{get:h}),o["App"]=e,r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P(){var e=R(x);function t(t){Object(s["l"])(e,t)}return e.INTERNAL=Object(o["a"])(Object(o["a"])({},e.INTERNAL),{createFirebaseNamespace:P,extendNamespace:t,createSubscribe:s["j"],ErrorFactory:s["b"],deepExtend:s["l"]}),e}var k=P(),I=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){var e=this.container.getProviders();return e.map((function(e){if(N(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A(e,t){e.INTERNAL.registerComponent(new a["a"]("platform-logger",(function(e){return new I(e)}),"PRIVATE")),e.registerVersion(h,p,t),e.registerVersion("fire-js","")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(Object(s["o"])()&&void 0!==self.firebase){T.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var D=self.firebase.SDK_VERSION;D&&D.indexOf("LITE")>=0&&T.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var L=k.initializeApp;k.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(s["r"])()&&T.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),L.apply(void 0,e)};var F=k;A(F),t["a"]=F},cca6:function(e,t,n){var r=n("23e7"),i=n("60da");r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},cdf9:function(e,t,n){var r=n("825a"),i=n("861d"),o=n("f069");e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e),s=n.resolve;return s(t),n.promise}},ce4e:function(e,t,n){var r=n("da84"),i=n("9112");e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},d012:function(e,t){e.exports={}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},d066:function(e,t,n){var r=n("428f"),i=n("da84"),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e])||o(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},d1e7:function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},d2bb:function(e,t,n){var r=n("825a"),i=n("3bbe");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,e.call(n,[]),t=n instanceof Array}catch(o){}return function(n,o){return r(n),i(o),t?e.call(n,o):n.__proto__=o,n}}():void 0)},d3b7:function(e,t,n){var r=n("00ee"),i=n("6eeb"),o=n("b041");r||i(Object.prototype,"toString",o,{unsafe:!0})},d44e:function(e,t,n){var r=n("9bf2").f,i=n("5135"),o=n("b622"),s=o("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,s)&&r(e,s,{configurable:!0,value:t})}},d4ec:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},d784:function(e,t,n){"use strict";n("ac1f");var r=n("6eeb"),i=n("d039"),o=n("b622"),s=n("9263"),a=n("9112"),c=o("species"),u=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),l=function(){return"$0"==="a".replace(/./,"$0")}(),h=o("replace"),p=function(){return!!/./[h]&&""===/./[h]("a","$0")}(),f=!i((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,h){var d=o(e),v=!i((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),y=v&&!i((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[c]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return t=!0,null},n[d](""),!t}));if(!v||!y||"replace"===e&&(!u||!l||p)||"split"===e&&!f){var _=/./[d],g=n(d,""[e],(function(e,t,n,r,i){return t.exec===s?v&&!i?{done:!0,value:_.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),m=g[0],b=g[1];r(String.prototype,e,m),r(RegExp.prototype,d,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}h&&a(RegExp.prototype[d],"sham",!0)}},d81d:function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").map,o=n("1dde"),s=o("map");r({target:"Array",proto:!0,forced:!s},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},da84:function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n("c8ba"))},dd40:function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},df75:function(e,t,n){var r=n("ca84"),i=n("7839");e.exports=Object.keys||function(e){return r(e,i)}},df7c:function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e){"string"!==typeof e&&(e+="");var t,n=0,r=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===r&&(i=!1,r=t+1);return-1===r?"":e.slice(n,r)}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var s=o>=0?arguments[o]:e.cwd();if("string"!==typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,r="/"===s.charAt(0))}return t=n(i(t.split("/"),(function(e){return!!e})),!r).join("/"),(r?"/":"")+t||"."},t.normalize=function(e){var r=t.isAbsolute(e),s="/"===o(e,-1);return e=n(i(e.split("/"),(function(e){return!!e})),!r).join("/"),e||r||(e="."),e&&s&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var n=e.length-1;n>=0;n--)if(""!==e[n])break;return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),s=Math.min(i.length,o.length),a=s,c=0;c<s;c++)if(i[c]!==o[c]){a=c;break}var u=[];for(c=a;c<i.length;c++)u.push("..");return u=u.concat(o.slice(a)),u.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,o=e.length-1;o>=1;--o)if(t=e.charCodeAt(o),47===t){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=r(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,o=0,s=e.length-1;s>=0;--s){var a=e.charCodeAt(s);if(47!==a)-1===r&&(i=!1,r=s+1),46===a?-1===t?t=s:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){n=s+1;break}}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n("4362"))},e163:function(e,t,n){var r=n("5135"),i=n("7b0b"),o=n("f772"),s=n("e177"),a=o("IE_PROTO"),c=Object.prototype;e.exports=s?Object.getPrototypeOf:function(e){return e=i(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?c:null}},e177:function(e,t,n){var r=n("d039");e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},e260:function(e,t,n){"use strict";var r=n("fc6a"),i=n("44d2"),o=n("3f8c"),s=n("69f3"),a=n("7dd0"),c="Array Iterator",u=s.set,l=s.getterFor(c);e.exports=a(Array,"Array",(function(e,t){u(this,{type:c,target:r(e),index:0,kind:t})}),(function(){var e=l(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},e2cc:function(e,t,n){var r=n("6eeb");e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},e667:function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},e6cf:function(e,t,n){"use strict";var r,i,o,s,a=n("23e7"),c=n("c430"),u=n("da84"),l=n("d066"),h=n("fea9"),p=n("6eeb"),f=n("e2cc"),d=n("d44e"),v=n("2626"),y=n("861d"),_=n("1c0b"),g=n("19aa"),m=n("8925"),b=n("2266"),w=n("1c7e"),O=n("4840"),C=n("2cf4").set,E=n("b575"),S=n("cdf9"),T=n("44de"),x=n("f069"),j=n("e667"),R=n("69f3"),P=n("94ca"),k=n("b622"),I=n("605d"),N=n("2d00"),A=k("species"),D="Promise",L=R.get,F=R.set,M=R.getterFor(D),U=h,q=u.TypeError,B=u.document,W=u.process,V=l("fetch"),Q=x.f,H=Q,z=!!(B&&B.createEvent&&u.dispatchEvent),K="function"==typeof PromiseRejectionEvent,G="unhandledrejection",Y="rejectionhandled",$=0,X=1,J=2,Z=1,ee=2,te=P(D,(function(){var e=m(U)!==String(U);if(!e){if(66===N)return!0;if(!I&&!K)return!0}if(c&&!U.prototype["finally"])return!0;if(N>=51&&/native code/.test(U))return!1;var t=U.resolve(1),n=function(e){e((function(){}),(function(){}))},r=t.constructor={};return r[A]=n,!(t.then((function(){}))instanceof n)})),ne=te||!w((function(e){U.all(e)["catch"]((function(){}))})),re=function(e){var t;return!(!y(e)||"function"!=typeof(t=e.then))&&t},ie=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;E((function(){var r=e.value,i=e.state==X,o=0;while(n.length>o){var s,a,c,u=n[o++],l=i?u.ok:u.fail,h=u.resolve,p=u.reject,f=u.domain;try{l?(i||(e.rejection===ee&&ce(e),e.rejection=Z),!0===l?s=r:(f&&f.enter(),s=l(r),f&&(f.exit(),c=!0)),s===u.promise?p(q("Promise-chain cycle")):(a=re(s))?a.call(s,h,p):h(s)):p(r)}catch(d){f&&!c&&f.exit(),p(d)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&se(e)}))}},oe=function(e,t,n){var r,i;z?(r=B.createEvent("Event"),r.promise=t,r.reason=n,r.initEvent(e,!1,!0),u.dispatchEvent(r)):r={promise:t,reason:n},!K&&(i=u["on"+e])?i(r):e===G&&T("Unhandled promise rejection",n)},se=function(e){C.call(u,(function(){var t,n=e.facade,r=e.value,i=ae(e);if(i&&(t=j((function(){I?W.emit("unhandledRejection",r,n):oe(G,n,r)})),e.rejection=I||ae(e)?ee:Z,t.error))throw t.value}))},ae=function(e){return e.rejection!==Z&&!e.parent},ce=function(e){C.call(u,(function(){var t=e.facade;I?W.emit("rejectionHandled",t):oe(Y,t,e.value)}))},ue=function(e,t,n){return function(r){e(t,r,n)}},le=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=J,ie(e,!0))},he=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw q("Promise can't be resolved itself");var r=re(t);r?E((function(){var n={done:!1};try{r.call(t,ue(he,n,e),ue(le,n,e))}catch(i){le(n,i,e)}})):(e.value=t,e.state=X,ie(e,!1))}catch(i){le({done:!1},i,e)}}};te&&(U=function(e){g(this,U,D),_(e),r.call(this);var t=L(this);try{e(ue(he,t),ue(le,t))}catch(n){le(t,n)}},r=function(e){F(this,{type:D,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:$,value:void 0})},r.prototype=f(U.prototype,{then:function(e,t){var n=M(this),r=Q(O(this,U));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=I?W.domain:void 0,n.parent=!0,n.reactions.push(r),n.state!=$&&ie(n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=L(e);this.promise=e,this.resolve=ue(he,t),this.reject=ue(le,t)},x.f=Q=function(e){return e===U||e===o?new i(e):H(e)},c||"function"!=typeof h||(s=h.prototype.then,p(h.prototype,"then",(function(e,t){var n=this;return new U((function(e,t){s.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof V&&a({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return S(U,V.apply(u,arguments))}}))),a({global:!0,wrap:!0,forced:te},{Promise:U}),d(U,D,!1,!0),v(D),o=l(D),a({target:D,stat:!0,forced:te},{reject:function(e){var t=Q(this);return t.reject.call(void 0,e),t.promise}}),a({target:D,stat:!0,forced:c||te},{resolve:function(e){return S(c&&this===o?U:this,e)}}),a({target:D,stat:!0,forced:ne},{all:function(e){var t=this,n=Q(t),r=n.resolve,i=n.reject,o=j((function(){var n=_(t.resolve),o=[],s=0,a=1;b(e,(function(e){var c=s++,u=!1;o.push(void 0),a++,n.call(t,e).then((function(e){u||(u=!0,o[c]=e,--a||r(o))}),i)})),--a||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=Q(t),r=n.reject,i=j((function(){var i=_(t.resolve);b(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},e893:function(e,t,n){var r=n("5135"),i=n("56ef"),o=n("06cf"),s=n("9bf2");e.exports=function(e,t){for(var n=i(t),a=s.f,c=o.f,u=0;u<n.length;u++){var l=n[u];r(e,l)||a(e,l,c(t,l))}}},e8b5:function(e,t,n){var r=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}},e947:function(e,t,n){"use strict";(function(e,t){var r=n("cc84"),i=n("9ab4"),o=n("a8e9"),s=n("abfd"),a=n("ffa6"),c=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Object(o["B"])(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Object(o["v"])(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),u=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return Object(o["i"])(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),l=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new c(t)}}catch(n){}return new u},h=l("localStorage"),p=l("sessionStorage"),f=new s["b"]("@firebase/database"),d=function(){var e=1;return function(){return e++}}(),v=function(e){var t=Object(o["A"])(e),n=new o["d"];n.update(t);var r=n.digest();return o["g"].encodeByteArray(r)},y=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&"object"===typeof i&&"number"===typeof i.length?n+=y.apply(null,i):n+="object"===typeof i?Object(o["B"])(i):i,n+=" "}return n},_=null,g=!0,m=function(e,t){Object(o["e"])(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(f.logLevel=s["a"].VERBOSE,_=f.log.bind(f),t&&p.set("logging_enabled",!0)):"function"===typeof e?_=e:(_=null,p.remove("logging_enabled"))},b=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===g&&(g=!1,null===_&&!0===p.get("logging_enabled")&&m(!0)),_){var n=y.apply(null,e);_(n)}},w=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];b.apply(void 0,Object(i["f"])([e],t))}},O=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+y.apply(void 0,Object(i["f"])(e));f.error(n)},C=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+y.apply(void 0,Object(i["f"])(e));throw f.error(n),new Error(n)},E=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+y.apply(void 0,Object(i["f"])(e));f.warn(n)},S=function(){"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&E("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},T=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},x=function(e){if(Object(o["s"])()||"complete"===document.readyState)e();else{var t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}},j="[MIN_NAME]",R="[MAX_NAME]",P=function(e,t){if(e===t)return 0;if(e===j||t===R)return-1;if(t===j||e===R)return 1;var n=V(e),r=V(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},k=function(e,t){return e===t?0:e<t?-1:1},I=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Object(o["B"])(t))},N=function(e){if("object"!==typeof e||null===e)return Object(o["B"])(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)0!==i&&(r+=","),r+=Object(o["B"])(t[i]),r+=":",r+=N(e[t[i]]);return r+="}",r},A=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function D(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var L=function(e){Object(o["e"])(!T(e),"Invalid JSON number");var t,n,r,i,s,a=11,c=52,u=(1<<a-1)-1;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,e=Math.abs(e),e>=Math.pow(2,1-u)?(i=Math.min(Math.floor(Math.log(e)/Math.LN2),u),n=i+u,r=Math.round(e*Math.pow(2,c-i)-Math.pow(2,c))):(n=0,r=Math.round(e/Math.pow(2,1-u-c))));var l=[];for(s=c;s;s-=1)l.push(r%2?1:0),r=Math.floor(r/2);for(s=a;s;s-=1)l.push(n%2?1:0),n=Math.floor(n/2);l.push(t?1:0),l.reverse();var h=l.join(""),p="";for(s=0;s<64;s+=8){var f=parseInt(h.substr(s,8),2).toString(16);1===f.length&&(f="0"+f),p+=f}return p.toLowerCase()},F=function(){return!("object"!==typeof window||!window["chrome"]||!window["chrome"]["extension"]||/^chrome/.test(window.location.href))},M=function(){return"object"===typeof Windows&&"object"===typeof Windows.UI},U=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t.path.toString()+": "+n);return r.code=e.toUpperCase(),r},q=new RegExp("^-?(0*)\\d{1,10}$"),B=-2147483648,W=2147483647,V=function(e){if(q.test(e)){var t=Number(e);if(t>=B&&t<=W)return t}return null},Q=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw E("Exception was thrown by user callback.",e),t}),Math.floor(0))}},H=function(){var e="object"===typeof window&&window["navigator"]&&window["navigator"]["userAgent"]||"";return e.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},z=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n["unref"]&&n["unref"](),n},K=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();function G(){return new K("")}function Y(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function $(e){return e.pieces_.length-e.pieceNum_}function X(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new K(e.pieces_,t)}function J(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Z(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function ee(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function te(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new K(t,0)}function ne(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof K)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new K(n,0)}function re(e){return e.pieceNum_>=e.pieces_.length}function ie(e,t){var n=Y(e),r=Y(t);if(null===n)return t;if(n===r)return ie(X(e),X(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function oe(e,t){for(var n=ee(e,0),r=ee(t,0),i=0;i<n.length&&i<r.length;i++){var o=P(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function se(e,t){if($(e)!==$(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function ae(e,t){var n=e.pieceNum_,r=t.pieceNum_;if($(e)>$(t))return!1;while(n<e.pieces_.length){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var ce=function(){function e(e,t){this.errorPrefix_=t,this.parts_=ee(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(o["z"])(this.parts_[n]);this.checkValid_()}return Object.defineProperty(e,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(e,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),e.prototype.push=function(e){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(e),this.byteLength_+=Object(o["z"])(e),this.checkValid_()},e.prototype.pop=function(){var e=this.parts_.pop();this.byteLength_-=Object(o["z"])(e),this.parts_.length>0&&(this.byteLength_-=1)},e.prototype.checkValid_=function(){if(this.byteLength_>e.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+e.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>e.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+e.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},e.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},e}(),ue="5",le="v",he="s",pe="r",fe="f",de=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ve="ls",ye="p",_e="websocket",ge="long_polling",me=function(){function e(e,t,n,r,i,o,s){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===s&&(s=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.host=e.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=h.get("host:"+e)||this.host}return e.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},e.prototype.updateHost=function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&h.set("host:"+this.host,this.internalHost))},e.prototype.connectionURL=function(e,t){var n;if(Object(o["e"])("string"===typeof e,"typeof type must == string"),Object(o["e"])("object"===typeof t,"typeof params must == object"),e===_e)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(e!==ge)throw new Error("Unknown connection type: "+e);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(t["ns"]=this.namespace);var r=[];return D(t,(function(e,t){r.push(e+"="+t)})),n+r.join("&")},e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function be(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}t+="/"+i}return t}function we(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var o=Object(i["h"])(e.split("&")),s=o.next();!s.done;s=o.next()){var a=s.value;if(0!==a.length){var c=a.split("=");2===c.length?r[decodeURIComponent(c[0])]=decodeURIComponent(c[1]):E("Invalid query segment '"+a+"' in query '"+e+"'")}}}catch(u){t={error:u}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}var Oe,Ce,Ee=function(e,t){var n=Se(e),r=n.namespace;"firebase.com"===n.domain&&C(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||C("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||S();var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new me(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new K(n.pathString)}},Se=function(e){var t="",n="",r="",i="",o="",s=!0,a="https",c=443;if("string"===typeof e){var u=e.indexOf("//");u>=0&&(a=e.substring(0,u-1),e=e.substring(u+2));var l=e.indexOf("/");-1===l&&(l=e.length);var h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(l,h)),l<h&&(i=be(e.substring(l,h)));var p=we(e.substring(Math.min(e.length,h)));u=t.indexOf(":"),u>=0?(s="https"===a||"wss"===a,c=parseInt(t.substring(u+1),10)):u=t.length;var f=t.slice(0,u);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{var d=t.indexOf(".");r=t.substring(0,d).toLowerCase(),n=t.substring(d+1),o=r}"ns"in p&&(o=p["ns"])}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},Te=/[\[\].#$\/\u0000-\u001F\u007F]/,xe=/[\[\].#$\u0000-\u001F\u007F]/,je=10485760,Re=function(e){return"string"===typeof e&&0!==e.length&&!Te.test(e)},Pe=function(e){return"string"===typeof e&&0!==e.length&&!xe.test(e)},ke=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Pe(e)},Ie=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!T(e)||e&&"object"===typeof e&&Object(o["i"])(e,".sv")},Ne=function(e,t,n,r,i){i&&void 0===n||Ae(Object(o["m"])(e,t,i),n,r)},Ae=function(e,t,n){var r=n instanceof K?new ce(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+r.toErrorString());if("function"===typeof t)throw new Error(e+"contains a function "+r.toErrorString()+" with contents = "+t.toString());if(T(t))throw new Error(e+"contains "+t.toString()+" "+r.toErrorString());if("string"===typeof t&&t.length>je/3&&Object(o["z"])(t)>je)throw new Error(e+"contains a string greater than "+je+" utf8 bytes "+r.toErrorString()+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){var i=!1,s=!1;if(D(t,(function(t,n){if(".value"===t)i=!0;else if(".priority"!==t&&".sv"!==t&&(s=!0,!Re(t)))throw new Error(e+" contains an invalid key ("+t+") "+r.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(t),Ae(e,n,r),r.pop()})),i&&s)throw new Error(e+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},De=function(e,t){var n,r;for(n=0;n<t.length;n++){r=t[n];for(var i=ee(r),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Re(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(oe);var s=null;for(n=0;n<t.length;n++){if(r=t[n],null!==s&&ae(s,r))throw new Error(e+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}},Le=function(e,t,n,r,i){if(!i||void 0!==n){var s=Object(o["m"])(e,t,i);if(!n||"object"!==typeof n||Array.isArray(n))throw new Error(s+" must be an object containing the children to replace.");var a=[];D(n,(function(e,t){var n=new K(e);if(Ae(s,t,ne(r,n)),".priority"===J(n)&&!Ie(t))throw new Error(s+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(n)})),De(s,a)}},Fe=function(e,t,n,r){if(!r||void 0!==n){if(T(n))throw new Error(Object(o["m"])(e,t,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ie(n))throw new Error(Object(o["m"])(e,t,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Me=function(e,t,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(o["m"])(e,t,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Ue=function(e,t,n,r){if((!r||void 0!==n)&&!Re(n))throw new Error(Object(o["m"])(e,t,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},qe=function(e,t,n,r){if((!r||void 0!==n)&&!Pe(n))throw new Error(Object(o["m"])(e,t,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Be=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),qe(e,t,n,r)},We=function(e,t){if(".info"===Y(t))throw new Error(e+" failed = Can't modify data under /.info/")},Ve=function(e,t,n){var r=n.path.toString();if("string"!==typeof n.repoInfo.host||0===n.repoInfo.host.length||!Re(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!ke(r))throw new Error(Object(o["m"])(e,t,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Qe=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(Object(o["m"])(e,t,r)+"must be a boolean.")},He=function(){function e(e,t){this.repo_=e,this.path_=t}return e.prototype.cancel=function(e){Object(o["C"])("OnDisconnect.cancel",0,1,arguments.length),Object(o["D"])("OnDisconnect.cancel",1,e,!0);var t=new o["a"];return this.repo_.onDisconnectCancel(this.path_,t.wrapCallback(e)),t.promise},e.prototype.remove=function(e){Object(o["C"])("OnDisconnect.remove",0,1,arguments.length),We("OnDisconnect.remove",this.path_),Object(o["D"])("OnDisconnect.remove",1,e,!0);var t=new o["a"];return this.repo_.onDisconnectSet(this.path_,null,t.wrapCallback(e)),t.promise},e.prototype.set=function(e,t){Object(o["C"])("OnDisconnect.set",1,2,arguments.length),We("OnDisconnect.set",this.path_),Ne("OnDisconnect.set",1,e,this.path_,!1),Object(o["D"])("OnDisconnect.set",2,t,!0);var n=new o["a"];return this.repo_.onDisconnectSet(this.path_,e,n.wrapCallback(t)),n.promise},e.prototype.setWithPriority=function(e,t,n){Object(o["C"])("OnDisconnect.setWithPriority",2,3,arguments.length),We("OnDisconnect.setWithPriority",this.path_),Ne("OnDisconnect.setWithPriority",1,e,this.path_,!1),Fe("OnDisconnect.setWithPriority",2,t,!1),Object(o["D"])("OnDisconnect.setWithPriority",3,n,!0);var r=new o["a"];return this.repo_.onDisconnectSetWithPriority(this.path_,e,t,r.wrapCallback(n)),r.promise},e.prototype.update=function(e,t){if(Object(o["C"])("OnDisconnect.update",1,2,arguments.length),We("OnDisconnect.update",this.path_),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,E("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Le("OnDisconnect.update",1,e,this.path_,!1),Object(o["D"])("OnDisconnect.update",2,t,!0);var i=new o["a"];return this.repo_.onDisconnectUpdate(this.path_,e,i.wrapCallback(t)),i.promise},e}(),ze=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return Object(o["C"])("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),Ke="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Ge="-",Ye="z",$e=786,Xe=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var s=new Array(8);for(r=7;r>=0;r--)s[r]=Ke.charAt(n%64),n=Math.floor(n/64);Object(o["e"])(0===n,"Cannot push at time == 0");var a=s.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)a+=Ke.charAt(t[r]);return Object(o["e"])(20===a.length,"nextPushId: Length should be 20."),a}}(),Je=function(e){if(e===""+W)return Ge;var t=V(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<$e)return n.push(Ge),n.join("");var i=n.length-1;while(i>=0&&n[i]===Ye)i--;if(-1===i)return R;var o=n[i],s=Ke.charAt(Ke.indexOf(o)+1);return n[i]=s,n.slice(0,i+1).join("")},Ze=function(e){if(e===""+B)return j;var t=V(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return n[n.length-1]===Ge?1===n.length?""+W:(delete n[n.length-1],n.join("")):(n[n.length-1]=Ke.charAt(Ke.indexOf(n[n.length-1])-1),n.join("")+Ye.repeat($e-n.length))},et=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),tt=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new et(j,e),r=new et(j,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return et.MIN},e}(),nt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i["c"])(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Oe},set:function(e){Oe=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return P(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw Object(o["f"])("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return et.MIN},t.prototype.maxPost=function(){return new et(R,Oe)},t.prototype.makePost=function(e,t){return Object(o["e"])("string"===typeof e,"KeyIndex indexValue must always be a string."),new et(e,Oe)},t.prototype.toString=function(){return".key"},t}(tt),rt=new nt;function it(e){Ce=e}var ot,st,at,ct=function(e){return"number"===typeof e?"number:"+L(e):"string:"+e},ut=function(e){if(e.isLeafNode()){var t=e.val();Object(o["e"])("string"===typeof t||"number"===typeof t||"object"===typeof t&&Object(o["i"])(t,".sv"),"Priority must be a string or number.")}else Object(o["e"])(e===Ce||e.isEmpty(),"priority of unexpected type.");Object(o["e"])(e===Ce||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},lt=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Object(o["e"])(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),ut(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return ot},set:function(e){ot=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return re(t)?this:".priority"===Y(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=Y(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(o["e"])(".priority"!==r||1===$(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(X(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+ct(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?L(this.value_):this.value_,this.lazyHash_=v(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Object(o["e"])(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),s=e.VALUE_TYPE_ORDER.indexOf(r);return Object(o["e"])(i>=0,"Unknown leaf type: "+n),Object(o["e"])(s>=0,"Unknown leaf type: "+r),i===s?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();function ht(e){st=e}function pt(e){at=e}var ft,dt,vt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i["c"])(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?P(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return et.MIN},t.prototype.maxPost=function(){return new et(R,new lt("[PRIORITY-POST]",at))},t.prototype.makePost=function(e,t){var n=st(e);return new et(t,new lt("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(tt),yt=new vt,_t=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];var o=1;while(!e.isEmpty())if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_){t=t.left;while(!t.isEmpty())this.nodeStack_.push(t),t=t.right}else{t=t.right;while(!t.isEmpty())this.nodeStack_.push(t),t=t.left}return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),gt=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:bt.EMPTY_NODE,this.right=null!=o?o:bt.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return bt.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()},e.prototype.remove=function(e,t){var n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return bt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),mt=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new gt(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),bt=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,gt.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,gt.BLACK,null,null))},e.prototype.get=function(e){var t,n=this.root_;while(!n.isEmpty()){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){var t,n=this.root_,r=null;while(!n.isEmpty()){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;n=n.left;while(!n.right.isEmpty())n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new _t(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new _t(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new _t(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new _t(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new mt,e}(),wt=Math.log(2),Ot=function(){function e(e){var t=function(e){return parseInt(Math.log(e)/wt,10)},n=function(e){return parseInt(Array(e+1).join("1"),2)};this.count=t(e+1),this.current_=this.count-1;var r=n(this.count);this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),Ct=function(e,t,n,r){e.sort(t);var i=function(t,r){var o,s,a=r-t;if(0===a)return null;if(1===a)return o=e[t],s=n?n(o):o,new gt(s,o.node,gt.BLACK,null,null);var c=parseInt(a/2,10)+t,u=i(t,c),l=i(c+1,r);return o=e[c],s=n?n(o):o,new gt(s,o.node,gt.BLACK,u,l)},o=function(t){for(var r=null,o=null,s=e.length,a=function(t,r){var o=s-t,a=s;s-=t;var u=i(o+1,a),l=e[o],h=n?n(l):l;c(new gt(h,l.node,r,null,u))},c=function(e){r?(r.left=e,r=e):(o=e,r=e)},u=0;u<t.count;++u){var l=t.nextBitIsOne(),h=Math.pow(2,t.count-(u+1));l?a(h,gt.BLACK):(a(h,gt.BLACK),a(h,gt.RED))}return o},s=new Ot(e.length),a=o(s);return new bt(r||t,a)},Et={},St=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return Object(o["e"])(Et&&yt,"ChildrenNode.ts has not been loaded"),ft=ft||new e({".priority":Et},{".priority":yt}),ft},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=Object(o["y"])(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof bt?t:null},e.prototype.hasIndex=function(e){return Object(o["i"])(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){Object(o["e"])(t!==rt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");var r,s=[],a=!1,c=n.getIterator(et.Wrap),u=c.getNext();while(u)a=a||t.isDefinedOn(u.node),s.push(u),u=c.getNext();r=a?Ct(s,t.getCompare()):Et;var l=t.toString(),h=Object(i["a"])({},this.indexSet_);h[l]=t;var p=Object(i["a"])({},this.indexes_);return p[l]=r,new e(p,h)},e.prototype.addToIndexes=function(t,n){var r=this,i=Object(o["w"])(this.indexes_,(function(e,i){var s=Object(o["y"])(r.indexSet_,i);if(Object(o["e"])(s,"Missing index implementation for "+i),e===Et){if(s.isDefinedOn(t.node)){var a=[],c=n.getIterator(et.Wrap),u=c.getNext();while(u)u.name!==t.name&&a.push(u),u=c.getNext();return a.push(t),Ct(a,s.getCompare())}return Et}var l=n.get(t.name),h=e;return l&&(h=h.remove(new et(t.name,l))),h.insert(t,t.node)}));return new e(i,this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){var r=Object(o["w"])(this.indexes_,(function(e){if(e===Et)return e;var r=n.get(t.name);return r?e.remove(new et(t.name,r)):e}));return new e(r,this.indexSet_)},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Tt(e,t){return P(e.name,t.name)}function xt(e,t){return P(e,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&ut(this.priorityNode_),this.children_.isEmpty()&&Object(o["e"])(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return dt||(dt=new e(new bt(xt),null,St.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||dt},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?dt:t},e.prototype.getChild=function(e){var t=Y(e);return null===t?this:this.getImmediateChild(t).getChild(X(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(Object(o["e"])(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new et(t,n),i=void 0,s=void 0;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?dt:this.priorityNode_;return new e(i,a,s)},e.prototype.updateChild=function(e,t){var n=Y(e);if(null===n)return t;Object(o["e"])(".priority"!==Y(e)||1===$(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(X(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(yt,(function(s,a){n[s]=a.val(t),r++,o&&e.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1})),!t&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+ct(this.getPriority().val())+":"),this.forEachChild(yt,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":v(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new et(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new et(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new et(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));var r=this.children_.getIteratorFrom(e.name,et.Wrap),i=r.peek();while(null!=i&&t.compare(i,e)<0)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));var r=this.children_.getReverseIteratorFrom(e.name,et.Wrap),i=r.peek();while(null!=i&&t.compare(i,e)>0)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Pt?-1:0},e.prototype.withIndex=function(t){if(t===rt||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===rt||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){var n=this.getIterator(yt),r=t.getIterator(yt),i=n.getNext(),o=r.getNext();while(i&&o){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===rt?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),Rt=function(e){function t(){return e.call(this,new bt(xt),jt.EMPTY_NODE,St.Default)||this}return Object(i["c"])(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return jt.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(jt),Pt=new Rt;Object.defineProperties(et,{MIN:{value:new et(j,jt.EMPTY_NODE)},MAX:{value:new et(R,Pt)}}),nt.__EMPTY_NODE=jt.EMPTY_NODE,lt.__childrenNodeConstructor=jt,it(Pt),pt(Pt);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var kt=!0;function It(e,t){if(void 0===t&&(t=null),null===e)return jt.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Object(o["e"])(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new lt(n,It(t))}if(e instanceof Array||!kt){var r=jt.EMPTY_NODE;return D(e,(function(t,n){if(Object(o["i"])(e,t)&&"."!==t.substring(0,1)){var i=It(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(It(t))}var i=[],s=!1,a=e;if(D(a,(function(e,t){if("."!==e.substring(0,1)){var n=It(t);n.isEmpty()||(s=s||!n.getPriority().isEmpty(),i.push(new et(e,n)))}})),0===i.length)return jt.EMPTY_NODE;var c=Ct(i,Tt,(function(e){return e.name}),xt);if(s){var u=Ct(i,yt.getCompare());return new jt(c,It(t),new St({".priority":u},{".priority":yt}))}return new jt(c,It(t),St.Default)}ht(It);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Nt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i["c"])(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?P(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return et.MIN},t.prototype.maxPost=function(){return et.MAX},t.prototype.makePost=function(e,t){var n=It(e);return new et(t,n)},t.prototype.toString=function(){return".value"},t}(tt),At=new Nt,Dt=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,Object(o["e"])(!re(t)&&".priority"!==Y(t),"Can't create PathIndex with empty path or .priority key"),n}return Object(i["c"])(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?P(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=It(e),r=jt.EMPTY_NODE.updateChild(this.indexPath_,n);return new et(t,r)},t.prototype.maxPost=function(){var e=jt.EMPTY_NODE.updateChild(this.indexPath_,Pt);return new et(R,e)},t.prototype.toString=function(){return ee(this.indexPath_,0).join("/")},t}(tt),Lt=function(){function e(e,t,n){this.node_=e,this.ref_=t,this.index_=n}return e.prototype.val=function(){return Object(o["C"])("DataSnapshot.val",0,0,arguments.length),this.node_.val()},e.prototype.exportVal=function(){return Object(o["C"])("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},e.prototype.toJSON=function(){return Object(o["C"])("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},e.prototype.exists=function(){return Object(o["C"])("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},e.prototype.child=function(t){Object(o["C"])("DataSnapshot.child",0,1,arguments.length),t=String(t),qe("DataSnapshot.child",1,t,!1);var n=new K(t),r=this.ref_.child(n);return new e(this.node_.getChild(n),r,yt)},e.prototype.hasChild=function(e){Object(o["C"])("DataSnapshot.hasChild",1,1,arguments.length),qe("DataSnapshot.hasChild",1,e,!1);var t=new K(e);return!this.node_.getChild(t).isEmpty()},e.prototype.getPriority=function(){return Object(o["C"])("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},e.prototype.forEach=function(t){var n=this;if(Object(o["C"])("DataSnapshot.forEach",1,1,arguments.length),Object(o["D"])("DataSnapshot.forEach",1,t,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return t(new e(i,n.ref_.child(r),yt))}))},e.prototype.hasChildren=function(){return Object(o["C"])("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(e.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return Object(o["C"])("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},e.prototype.getRef=function(){return Object(o["C"])("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),Ft=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.getRef();return"value"===this.eventType?e.path:e.getParent().path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(o["B"])(this.snapshot.exportVal())},e}(),Mt=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),Ut=function(){function e(e,t,n){this.callback_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t.getQueryParams().getIndex();return new Ft("value",this,new Lt(e.snapshotNode,t.getRef(),n))},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){Object(o["e"])(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callback_;return function(){r.call(t,e.snapshot)}},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new Mt(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callback_||!this.callback_||t.callback_===this.callback_&&t.context_===this.context_)},e.prototype.hasAnyCallback=function(){return null!==this.callback_},e}(),qt=function(){function e(e,t,n){this.callbacks_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,Object(o["i"])(this.callbacks_,t)},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new Mt(this,e,t):null},e.prototype.createEvent=function(e,t){Object(o["e"])(null!=e.childName,"Child events should have a childName.");var n=t.getRef().child(e.childName),r=t.getQueryParams().getIndex();return new Ft(e.type,this,new Lt(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){Object(o["e"])(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callbacks_[e.eventType];return function(){r.call(t,e.snapshot,e.prevName)}},e.prototype.matches=function(t){var n=this;if(t instanceof e){if(!this.callbacks_||!t.callbacks_)return!0;if(this.context_===t.context_){var r=Object.keys(t.callbacks_),i=Object.keys(this.callbacks_),o=r.length,s=i.length;if(o===s){if(1===o){var a=r[0],c=i[0];return c===a&&(!t.callbacks_[a]||!this.callbacks_[c]||t.callbacks_[a]===this.callbacks_[c])}return i.every((function(e){return t.callbacks_[e]===n.callbacks_[e]}))}}}return!1},e.prototype.hasAnyCallback=function(){return null!==this.callbacks_},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Bt(e){return{type:"value",snapshotNode:e}}function Wt(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Vt(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Qt(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function Ht(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt,Kt=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,s){Object(o["e"])(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?e:(null!=s&&(n.isEmpty()?e.hasChild(t)?s.trackChildChange(Vt(t,a)):Object(o["e"])(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Wt(t,n)):s.trackChildChange(Qt(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(yt,(function(e,r){t.hasChild(e)||n.trackChildChange(Vt(e,r))})),t.isLeafNode()||t.forEachChild(yt,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Qt(t,r,i))}else n.trackChildChange(Wt(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?jt.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),Gt=function(){function e(t){this.indexedFilter_=new Kt(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new et(t,n))||(n=jt.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=jt.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(jt.EMPTY_NODE);var i=this;return t.forEachChild(yt,(function(e,t){i.matches(new et(e,t))||(r=r.updateImmediateChild(e,jt.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),Yt=function(){function e(e){this.rangedFilter_=new Gt(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new et(t,n))||(n=jt.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=jt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=jt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);var o=0;while(i.hasNext()&&o<this.limit_){var s=i.getNext(),a=void 0;if(a=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0,!a)break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=t.withIndex(this.index_),r=r.updatePriority(jt.EMPTY_NODE);var c=void 0,u=void 0,l=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),c=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var h=this.index_.getCompare();l=function(e,t){return h(t,e)}}else i=r.getIterator(this.index_),c=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();o=0;var p=!1;while(i.hasNext()){s=i.getNext();!p&&l(c,s)<=0&&(p=!0);a=p&&o<this.limit_&&l(s,u)<=0;a?o++:r=r.updateImmediateChild(s.name,jt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var s;if(this.reverse_){var a=this.index_.getCompare();s=function(e,t){return a(t,e)}}else s=this.index_.getCompare();var c=e;Object(o["e"])(c.numChildren()===this.limit_,"");var u=new et(t,n),l=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),h=this.rangedFilter_.matches(u);if(c.hasChild(t)){var p=c.getImmediateChild(t),f=r.getChildAfterChild(this.index_,l,this.reverse_);while(null!=f&&(f.name===t||c.hasChild(f.name)))f=r.getChildAfterChild(this.index_,f,this.reverse_);var d=null==f?1:s(f,u),v=h&&!n.isEmpty()&&d>=0;if(v)return null!=i&&i.trackChildChange(Qt(t,n,p)),c.updateImmediateChild(t,n);null!=i&&i.trackChildChange(Vt(t,p));var y=c.updateImmediateChild(t,jt.EMPTY_NODE),_=null!=f&&this.rangedFilter_.matches(f);return _?(null!=i&&i.trackChildChange(Wt(f.name,f.node)),y.updateImmediateChild(f.name,f.node)):y}return n.isEmpty()?e:h&&s(l,u)>=0?(null!=i&&(i.trackChildChange(Vt(l.name,l.node)),i.trackChildChange(Wt(t,n))),c.updateImmediateChild(t,n).updateImmediateChild(l.name,jt.EMPTY_NODE)):e},e}(),$t=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=yt}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return Object(o["e"])(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return Object(o["e"])(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:j},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return Object(o["e"])(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return Object(o["e"])(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:R},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return Object(o["e"])(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===yt},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(e){return e.loadsAllData()?new Kt(e.getIndex()):e.hasLimit()?new Yt(e):new Gt(e)}function Jt(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function Zt(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function en(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function tn(e,t,n){var r;if(e.index_===rt)"string"===typeof t&&(t=Je(t)),r=en(e,t,n);else{var i=void 0;i=null==n?R:Je(n),r=en(e,t,i)}return r.startAfterSet_=!0,r}function nn(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function rn(e,t,n){var r,i;return e.index_===rt?("string"===typeof t&&(t=Ze(t)),i=nn(e,t,n)):(r=null==n?j:Ze(n),i=nn(e,t,r)),i.endBeforeSet_=!0,i}function on(e,t){var n=e.copy();return n.index_=t,n}function sn(e){var t,n={};return e.isDefault()||(e.index_===yt?t="$priority":e.index_===At?t="$value":e.index_===rt?t="$key":(Object(o["e"])(e.index_ instanceof Dt,"Unrecognized index type!"),t=e.index_.toString()),n["orderBy"]=Object(o["B"])(t),e.startSet_&&(n["startAt"]=Object(o["B"])(e.indexStartValue_),e.startNameSet_&&(n["startAt"]+=","+Object(o["B"])(e.indexStartName_))),e.endSet_&&(n["endAt"]=Object(o["B"])(e.indexEndValue_),e.endNameSet_&&(n["endAt"]+=","+Object(o["B"])(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n["limitToFirst"]=e.limit_:n["limitToLast"]=e.limit_)),n}function an(e){var t={};if(e.startSet_&&(t["sp"]=e.indexStartValue_,e.startNameSet_&&(t["sn"]=e.indexStartName_)),e.endSet_&&(t["ep"]=e.indexEndValue_,e.endNameSet_&&(t["en"]=e.indexEndName_)),e.limitSet_){t["l"]=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t["vf"]=n}return e.index_!==yt&&(t["i"]=e.index_.toString()),t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cn=function(){function e(e,t,n,r){this.repo=e,this.path=t,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return Object(o["e"])(zt,"Reference.ts has not been loaded"),zt},set:function(e){zt=e},enumerable:!1,configurable:!0}),e.validateQueryEndpoints_=function(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===rt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){var s=e.getIndexStartName();if(s!==j)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){var a=e.getIndexEndName();if(a!==R)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===yt){if(null!=t&&!Ie(t)||null!=n&&!Ie(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(o["e"])(e.getIndex()instanceof Dt||e.getIndex()===At,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")},e.validateLimit_=function(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")},e.prototype.validateNoPreviousOrderByCall_=function(e){if(!0===this.orderByCalled_)throw new Error(e+": You can't combine multiple orderBy calls.")},e.prototype.getQueryParams=function(){return this.queryParams_},e.prototype.getRef=function(){return Object(o["C"])("Query.ref",0,0,arguments.length),new e.__referenceConstructor(this.repo,this.path)},e.prototype.on=function(t,n,r,i){Object(o["C"])("Query.on",2,4,arguments.length),Me("Query.on",1,t,!1),Object(o["D"])("Query.on",2,n,!1);var s=e.getCancelAndContextArgs_("Query.on",r,i);if("value"===t)this.onValueEvent(n,s.cancel,s.context);else{var a={};a[t]=n,this.onChildEvent(a,s.cancel,s.context)}return n},e.prototype.onValueEvent=function(e,t,n){var r=new Ut(e,t||null,n||null);this.repo.addEventCallbackForQuery(this,r)},e.prototype.onChildEvent=function(e,t,n){var r=new qt(e,t,n);this.repo.addEventCallbackForQuery(this,r)},e.prototype.off=function(e,t,n){Object(o["C"])("Query.off",0,3,arguments.length),Me("Query.off",1,e,!0),Object(o["D"])("Query.off",2,t,!0),Object(o["E"])("Query.off",3,n,!0);var r=null,i=null;if("value"===e){var s=t||null;r=new Ut(s,null,n||null)}else e&&(t&&(i={},i[e]=t),r=new qt(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},e.prototype.get=function(){return this.repo.getValue(this)},e.prototype.once=function(t,n,r,i){var s=this;Object(o["C"])("Query.once",1,4,arguments.length),Me("Query.once",1,t,!1),Object(o["D"])("Query.once",2,n,!0);var a=e.getCancelAndContextArgs_("Query.once",r,i),c=!0,u=new o["a"];u.promise.catch((function(){}));var l=function(e){c&&(c=!1,s.off(t,l),n&&n.bind(a.context)(e),u.resolve(e))};return this.on(t,l,(function(e){s.off(t,l),a.cancel&&a.cancel.bind(a.context)(e),u.reject(e)})),u.promise},e.prototype.limitToFirst=function(t){if(Object(o["C"])("Query.limitToFirst",1,1,arguments.length),"number"!==typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,Jt(this.queryParams_,t),this.orderByCalled_)},e.prototype.limitToLast=function(t){if(Object(o["C"])("Query.limitToLast",1,1,arguments.length),"number"!==typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,Zt(this.queryParams_,t),this.orderByCalled_)},e.prototype.orderByChild=function(t){if(Object(o["C"])("Query.orderByChild",1,1,arguments.length),"$key"===t)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');qe("Query.orderByChild",1,t,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new K(t);if(re(n))throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new Dt(n),i=on(this.queryParams_,r);return e.validateQueryEndpoints_(i),new e(this.repo,this.path,i,!0)},e.prototype.orderByKey=function(){Object(o["C"])("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var t=on(this.queryParams_,rt);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByPriority=function(){Object(o["C"])("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var t=on(this.queryParams_,yt);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByValue=function(){Object(o["C"])("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var t=on(this.queryParams_,At);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.startAt=function(t,n){void 0===t&&(t=null),Object(o["C"])("Query.startAt",0,2,arguments.length),Ne("Query.startAt",1,t,this.path,!0),Ue("Query.startAt",2,n,!0);var r=en(this.queryParams_,t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===t&&(t=null,n=null),new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.startAfter=function(t,n){void 0===t&&(t=null),Object(o["C"])("Query.startAfter",0,2,arguments.length),Ne("Query.startAfter",1,t,this.path,!1),Ue("Query.startAfter",2,n,!0);var r=tn(this.queryParams_,t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAfter: Starting point was already set (by another call to startAt, startAfter or equalTo).");return new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.endAt=function(t,n){void 0===t&&(t=null),Object(o["C"])("Query.endAt",0,2,arguments.length),Ne("Query.endAt",1,t,this.path,!0),Ue("Query.endAt",2,n,!0);var r=nn(this.queryParams_,t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.endBefore=function(t,n){void 0===t&&(t=null),Object(o["C"])("Query.endBefore",0,2,arguments.length),Ne("Query.endBefore",1,t,this.path,!1),Ue("Query.endBefore",2,n,!0);var r=rn(this.queryParams_,t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endBefore: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.equalTo=function(e,t){if(Object(o["C"])("Query.equalTo",1,2,arguments.length),Ne("Query.equalTo",1,e,this.path,!1),Ue("Query.equalTo",2,t,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return this.startAt(e,t).endAt(e,t)},e.prototype.toString=function(){return Object(o["C"])("Query.toString",0,0,arguments.length),this.repo.toString()+Z(this.path)},e.prototype.toJSON=function(){return Object(o["C"])("Query.toJSON",0,1,arguments.length),this.toString()},e.prototype.queryObject=function(){return an(this.queryParams_)},e.prototype.queryIdentifier=function(){var e=this.queryObject(),t=N(e);return"{}"===t?"default":t},e.prototype.isEqual=function(t){if(Object(o["C"])("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===t.repo,i=se(this.path,t.path),s=this.queryIdentifier()===t.queryIdentifier();return r&&i&&s},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:null,context:null};if(t&&n)r.cancel=t,Object(o["D"])(e,3,r.cancel,!0),r.context=n,Object(o["E"])(e,4,r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(Object(o["m"])(e,3,!0)+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),un=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){var n=this.node_.getImmediateChild(t);return new e(n)},e.prototype.node=function(){return this.node_},e}(),ln=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=ne(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},e}(),hn=function(e){return e=e||{},e["timestamp"]=e["timestamp"]||(new Date).getTime(),e},pn=function(e,t,n){return e&&"object"===typeof e?(Object(o["e"])(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?fn(e[".sv"],t,n):"object"===typeof e[".sv"]?dn(e[".sv"],t):void Object(o["e"])(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},fn=function(e,t,n){switch(e){case"timestamp":return n["timestamp"];default:Object(o["e"])(!1,"Unexpected server value: "+e)}},dn=function(e,t,n){e.hasOwnProperty("increment")||Object(o["e"])(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e["increment"];"number"!==typeof r&&Object(o["e"])(!1,"Unexpected increment value: "+r);var i=t.node();if(Object(o["e"])(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var s=i,a=s.getValue();return"number"!==typeof a?r:a+r},vn=function(e,t,n,r){return _n(t,new ln(n,e),r)},yn=function(e,t,n){return _n(e,new un(t),n)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(e,t,n){var r,i=e.getPriority().val(),o=pn(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var s=e,a=pn(s.getValue(),t,n);return a!==s.getValue()||o!==s.getPriority().val()?new lt(a,It(o)):e}var c=e;return r=c,o!==c.getPriority().val()&&(r=r.updatePriority(new lt(o))),c.forEachChild(yt,(function(e,i){var o=_n(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gn,mn=function(){function e(){this.value=null,this.children=new Map}return e.prototype.find=function(e){if(null!=this.value)return this.value.getChild(e);if(!re(e)&&this.children.size>0){var t=Y(e);if(e=X(e),this.children.has(t)){var n=this.children.get(t);return n.find(e)}return null}return null},e.prototype.remember=function(t,n){if(re(t))this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(t,n);else{var r=Y(t);this.children.has(r)||this.children.set(r,new e);var i=this.children.get(r);t=X(t),i.remember(t,n)}},e.prototype.forget=function(e){if(re(e))return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var t=this.value;this.value=null;var n=this;return t.forEachChild(yt,(function(e,t){n.remember(new K(e),t)})),this.forget(e)}if(this.children.size>0){var r=Y(e);if(e=X(e),this.children.has(r)){var i=this.children.get(r).forget(e);i&&this.children.delete(r)}return 0===this.children.size}return!0},e.prototype.forEachTree=function(e,t){null!==this.value?t(e,this.value):this.forEachChild((function(n,r){var i=new K(e.toString()+"/"+n);r.forEachTree(i,t)}))},e.prototype.forEachChild=function(e){this.children.forEach((function(t,n){e(n,t)}))},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function wn(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function On(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(e){e[e["OVERWRITE"]=0]="OVERWRITE",e[e["MERGE"]=1]="MERGE",e[e["ACK_USER_WRITE"]=2]="ACK_USER_WRITE",e[e["LISTEN_COMPLETE"]=3]="LISTEN_COMPLETE"})(gn||(gn={}));var Cn,En=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=gn.ACK_USER_WRITE,this.source=bn()}return e.prototype.operationForChild=function(t){if(re(this.path)){if(null!=this.affectedTree.value)return Object(o["e"])(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new K(t));return new e(G(),n,this.revert)}return Object(o["e"])(Y(this.path)===t,"operationForChild called for unrelated child."),new e(X(this.path),this.affectedTree,this.revert)},e}(),Sn=function(){return Cn||(Cn=new bt(k)),Cn},Tn=function(){function e(e,t){void 0===t&&(t=Sn()),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return D(t,(function(e,t){n=n.set(new K(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:G(),value:this.value};if(re(e))return null;var n=Y(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(X(e),t);if(null!=i){var o=ne(new K(n),i.path);return{path:o,value:i.value}}return null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(re(t))return this;var n=Y(t),r=this.children.get(n);return null!==r?r.subtree(X(t)):new e(null)},e.prototype.set=function(t,n){if(re(t))return new e(n,this.children);var r=Y(t),i=this.children.get(r)||new e(null),o=i.set(X(t),n),s=this.children.insert(r,o);return new e(this.value,s)},e.prototype.remove=function(t){if(re(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=Y(t),r=this.children.get(n);if(r){var i=r.remove(X(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(re(e))return this.value;var t=Y(e),n=this.children.get(t);return n?n.get(X(e)):null},e.prototype.setTree=function(t,n){if(re(t))return n;var r=Y(t),i=this.children.get(r)||new e(null),o=i.setTree(X(t),n),s=void 0;return s=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new e(this.value,s)},e.prototype.fold=function(e){return this.fold_(G(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(ne(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,G(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(re(e))return null;var i=Y(e),o=this.children.get(i);return o?o.findOnPath_(X(e),ne(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,G(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(re(t))return this;this.value&&r(n,this.value);var i=Y(t),o=this.children.get(i);return o?o.foreachOnPath_(X(t),ne(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(G(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(ne(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),xn=function(){function e(e,t){this.source=e,this.path=t,this.type=gn.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return re(this.path)?new e(this.source,G()):new e(this.source,X(this.path))},e}(),jn=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=gn.OVERWRITE}return e.prototype.operationForChild=function(t){return re(this.path)?new e(this.source,G(),this.snap.getImmediateChild(t)):new e(this.source,X(this.path),this.snap)},e}(),Rn=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=gn.MERGE}return e.prototype.operationForChild=function(t){if(re(this.path)){var n=this.children.subtree(new K(t));return n.isEmpty()?null:n.value?new jn(this.source,G(),n.value):new e(this.source,G(),n)}return Object(o["e"])(Y(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,X(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),Pn=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(re(e))return this.isFullyInitialized()&&!this.filtered_;var t=Y(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),kn=function(){function e(e,t){this.eventCache_=e,this.serverCache_=t}return e.prototype.updateEventSnap=function(t,n,r){return new e(new Pn(t,n,r),this.serverCache_)},e.prototype.updateServerSnap=function(t,n,r){return new e(this.eventCache_,new Pn(t,n,r))},e.prototype.getEventCache=function(){return this.eventCache_},e.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},e.prototype.getServerCache=function(){return this.serverCache_},e.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},e}(),In=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;Object(o["e"])("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Object(o["e"])(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Qt(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Vt(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Wt(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Object(o["f"])("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Qt(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),Nn=function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}(),An=new Nn,Dn=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.getEventCache();if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Pn(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,t,1,n,e);return 0===i.length?null:i[0]},e}(),Ln=function(){function e(e,t){this.viewCache=e,this.changes=t}return e}(),Fn=function(){function e(e){this.filter_=e}return e.prototype.assertIndexed=function(e){Object(o["e"])(e.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),Object(o["e"])(e.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},e.prototype.applyOperation=function(t,n,r,i){var s,a,c=new In;if(n.type===gn.OVERWRITE){var u=n;u.source.fromUser?s=this.applyUserOverwrite_(t,u.path,u.snap,r,i,c):(Object(o["e"])(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.getServerCache().isFiltered()&&!re(u.path),s=this.applyServerOverwrite_(t,u.path,u.snap,r,i,a,c))}else if(n.type===gn.MERGE){var l=n;l.source.fromUser?s=this.applyUserMerge_(t,l.path,l.children,r,i,c):(Object(o["e"])(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.getServerCache().isFiltered(),s=this.applyServerMerge_(t,l.path,l.children,r,i,a,c))}else if(n.type===gn.ACK_USER_WRITE){var h=n;s=h.revert?this.revertUserWrite_(t,h.path,r,i,c):this.ackUserWrite_(t,h.path,h.affectedTree,r,i,c)}else{if(n.type!==gn.LISTEN_COMPLETE)throw Object(o["f"])("Unknown operation type: "+n.type);s=this.listenComplete_(t,n.path,r,c)}var p=c.getChanges();return e.maybeAddValueEvent_(t,s,p),new Ln(s,p)},e.maybeAddValueEvent_=function(e,t,n){var r=t.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=e.getCompleteEventSnap();(n.length>0||!e.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Bt(t.getCompleteEventSnap()))}},e.prototype.generateEventCacheAfterServerEvent_=function(e,t,n,r,i){var s=e.getEventCache();if(null!=n.shadowingWrite(t))return e;var a=void 0,c=void 0;if(re(t))if(Object(o["e"])(e.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),e.getServerCache().isFiltered()){var u=e.getCompleteServerSnap(),l=u instanceof jt?u:jt.EMPTY_NODE,h=n.calcCompleteEventChildren(l);a=this.filter_.updateFullNode(e.getEventCache().getNode(),h,i)}else{var p=n.calcCompleteEventCache(e.getCompleteServerSnap());a=this.filter_.updateFullNode(e.getEventCache().getNode(),p,i)}else{var f=Y(t);if(".priority"===f){Object(o["e"])(1===$(t),"Can't have a priority with additional path components");var d=s.getNode();c=e.getServerCache().getNode();var v=n.calcEventCacheAfterServerOverwrite(t,d,c);a=null!=v?this.filter_.updatePriority(d,v):s.getNode()}else{var y=X(t),_=void 0;if(s.isCompleteForChild(f)){c=e.getServerCache().getNode();var g=n.calcEventCacheAfterServerOverwrite(t,s.getNode(),c);_=null!=g?s.getNode().getImmediateChild(f).updateChild(y,g):s.getNode().getImmediateChild(f)}else _=n.calcCompleteChild(f,e.getServerCache());a=null!=_?this.filter_.updateChild(s.getNode(),f,_,y,r,i):s.getNode()}}return e.updateEventSnap(a,s.isFullyInitialized()||re(t),this.filter_.filtersNodes())},e.prototype.applyServerOverwrite_=function(e,t,n,r,i,o,s){var a,c=e.getServerCache(),u=o?this.filter_:this.filter_.getIndexedFilter();if(re(t))a=u.updateFullNode(c.getNode(),n,null);else if(u.filtersNodes()&&!c.isFiltered()){var l=c.getNode().updateChild(t,n);a=u.updateFullNode(c.getNode(),l,null)}else{var h=Y(t);if(!c.isCompleteForPath(t)&&$(t)>1)return e;var p=X(t),f=c.getNode().getImmediateChild(h),d=f.updateChild(p,n);a=".priority"===h?u.updatePriority(c.getNode(),d):u.updateChild(c.getNode(),h,d,p,An,null)}var v=e.updateServerSnap(a,c.isFullyInitialized()||re(t),u.filtersNodes()),y=new Dn(r,v,i);return this.generateEventCacheAfterServerEvent_(v,t,r,y,s)},e.prototype.applyUserOverwrite_=function(e,t,n,r,i,o){var s,a,c=e.getEventCache(),u=new Dn(r,e,i);if(re(t))a=this.filter_.updateFullNode(e.getEventCache().getNode(),n,o),s=e.updateEventSnap(a,!0,this.filter_.filtersNodes());else{var l=Y(t);if(".priority"===l)a=this.filter_.updatePriority(e.getEventCache().getNode(),n),s=e.updateEventSnap(a,c.isFullyInitialized(),c.isFiltered());else{var h=X(t),p=c.getNode().getImmediateChild(l),f=void 0;if(re(h))f=n;else{var d=u.getCompleteChild(l);f=null!=d?".priority"===J(h)&&d.getChild(te(h)).isEmpty()?d:d.updateChild(h,n):jt.EMPTY_NODE}if(p.equals(f))s=e;else{var v=this.filter_.updateChild(c.getNode(),l,f,h,u,o);s=e.updateEventSnap(v,c.isFullyInitialized(),this.filter_.filtersNodes())}}}return s},e.cacheHasChild_=function(e,t){return e.getEventCache().isCompleteForChild(t)},e.prototype.applyUserMerge_=function(t,n,r,i,o,s){var a=this,c=t;return r.foreach((function(r,u){var l=ne(n,r);e.cacheHasChild_(t,Y(l))&&(c=a.applyUserOverwrite_(c,l,u,i,o,s))})),r.foreach((function(r,u){var l=ne(n,r);e.cacheHasChild_(t,Y(l))||(c=a.applyUserOverwrite_(c,l,u,i,o,s))})),c},e.prototype.applyMerge_=function(e,t){return t.foreach((function(t,n){e=e.updateChild(t,n)})),e},e.prototype.applyServerMerge_=function(e,t,n,r,i,o,s){var a=this;if(e.getServerCache().getNode().isEmpty()&&!e.getServerCache().isFullyInitialized())return e;var c,u=e;c=re(t)?n:new Tn(null).setTree(t,n);var l=e.getServerCache().getNode();return c.children.inorderTraversal((function(t,n){if(l.hasChild(t)){var c=e.getServerCache().getNode().getImmediateChild(t),h=a.applyMerge_(c,n);u=a.applyServerOverwrite_(u,new K(t),h,r,i,o,s)}})),c.children.inorderTraversal((function(t,n){var c=!e.getServerCache().isCompleteForChild(t)&&null==n.value;if(!l.hasChild(t)&&!c){var h=e.getServerCache().getNode().getImmediateChild(t),p=a.applyMerge_(h,n);u=a.applyServerOverwrite_(u,new K(t),p,r,i,o,s)}})),u},e.prototype.ackUserWrite_=function(e,t,n,r,i,o){if(null!=r.shadowingWrite(t))return e;var s=e.getServerCache().isFiltered(),a=e.getServerCache();if(null!=n.value){if(re(t)&&a.isFullyInitialized()||a.isCompleteForPath(t))return this.applyServerOverwrite_(e,t,a.getNode().getChild(t),r,i,s,o);if(re(t)){var c=new Tn(null);return a.getNode().forEachChild(rt,(function(e,t){c=c.set(new K(e),t)})),this.applyServerMerge_(e,t,c,r,i,s,o)}return e}var u=new Tn(null);return n.foreach((function(e,n){var r=ne(t,e);a.isCompleteForPath(r)&&(u=u.set(e,a.getNode().getChild(r)))})),this.applyServerMerge_(e,t,u,r,i,s,o)},e.prototype.listenComplete_=function(e,t,n,r){var i=e.getServerCache(),o=e.updateServerSnap(i.getNode(),i.isFullyInitialized()||re(t),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,t,n,An,r)},e.prototype.revertUserWrite_=function(e,t,n,r,i){var s;if(null!=n.shadowingWrite(t))return e;var a=new Dn(n,e,r),c=e.getEventCache().getNode(),u=void 0;if(re(t)||".priority"===Y(t)){var l=void 0;if(e.getServerCache().isFullyInitialized())l=n.calcCompleteEventCache(e.getCompleteServerSnap());else{var h=e.getServerCache().getNode();Object(o["e"])(h instanceof jt,"serverChildren would be complete if leaf node"),l=n.calcCompleteEventChildren(h)}l=l,u=this.filter_.updateFullNode(c,l,i)}else{var p=Y(t),f=n.calcCompleteChild(p,e.getServerCache());null==f&&e.getServerCache().isCompleteForChild(p)&&(f=c.getImmediateChild(p)),u=null!=f?this.filter_.updateChild(c,p,f,X(t),a,i):e.getEventCache().getNode().hasChild(p)?this.filter_.updateChild(c,p,jt.EMPTY_NODE,X(t),a,i):c,u.isEmpty()&&e.getServerCache().isFullyInitialized()&&(s=n.calcCompleteEventCache(e.getCompleteServerSnap()),s.isLeafNode()&&(u=this.filter_.updateFullNode(u,s,i)))}return s=e.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(G()),e.updateEventSnap(u,s,this.filter_.filtersNodes())},e}(),Mn=function(){function e(e){this.query_=e,this.index_=this.query_.getQueryParams().getIndex()}return e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(e,t,n,r){var i=[],o=[];return t.forEach((function(t){"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(Ht(t.childName,t.snapshotNode))})),qn(e,i,"child_removed",t,r,n),qn(e,i,"child_added",t,r,n),qn(e,i,"child_moved",o,r,n),qn(e,i,"child_changed",t,r,n),qn(e,i,"value",t,r,n),i}function qn(e,t,n,r,i,o){var s=r.filter((function(e){return e.type===n}));s.sort((function(t,n){return Wn(e,t,n)})),s.forEach((function(n){var r=Bn(e,n,o);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Bn(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function Wn(e,t,n){if(null==t.childName||null==n.childName)throw Object(o["f"])("Should only compare child_ events.");var r=new et(t.childName,t.snapshotNode),i=new et(n.childName,n.snapshotNode);return e.index_.compare(r,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vn,Qn=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new Kt(n.getIndex()),i=Xt(n);this.processor_=new Fn(i);var o=t.getServerCache(),s=t.getEventCache(),a=r.updateFullNode(jt.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(jt.EMPTY_NODE,s.getNode(),null),u=new Pn(a,o.isFullyInitialized(),r.filtersNodes()),l=new Pn(c,s.isFullyInitialized(),i.filtersNodes());this.viewCache_=new kn(l,u),this.eventGenerator_=new Mn(this.query_)}return e.prototype.getQuery=function(){return this.query_},e.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},e.prototype.getCompleteNode=function(){return this.viewCache_.getCompleteEventSnap()},e.prototype.getCompleteServerCache=function(e){var t=this.viewCache_.getCompleteServerSnap();return t&&(this.query_.getQueryParams().loadsAllData()||!re(e)&&!t.getImmediateChild(Y(e)).isEmpty())?t.getChild(e):null},e.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},e.prototype.addEventRegistration=function(e){this.eventRegistrations_.push(e)},e.prototype.removeEventRegistration=function(e,t){var n=[];if(t){Object(o["e"])(null==e,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach((function(e){var i=e.createCancelEvent(t,r);i&&n.push(i)}))}if(e){for(var i=[],s=0;s<this.eventRegistrations_.length;++s){var a=this.eventRegistrations_[s];if(a.matches(e)){if(e.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(s+1));break}}else i.push(a)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},e.prototype.applyOperation=function(e,t,n){e.type===gn.MERGE&&null!==e.source.queryId&&(Object(o["e"])(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),Object(o["e"])(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,e,t,n);return this.processor_.assertIndexed(i.viewCache),Object(o["e"])(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},e.prototype.getInitialEvents=function(e){var t=this.viewCache_.getEventCache(),n=[];if(!t.getNode().isLeafNode()){var r=t.getNode();r.forEachChild(yt,(function(e,t){n.push(Wt(e,t))}))}return t.isFullyInitialized()&&n.push(Bt(t.getNode())),this.generateEventsForChanges_(n,t.getNode(),e)},e.prototype.generateEventsForChanges_=function(e,t,n){var r=n?[n]:this.eventRegistrations_;return Un(this.eventGenerator_,e,t,r)},e}(),Hn=function(){function e(){this.views=new Map}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return Object(o["e"])(Vn,"Reference.ts has not been loaded"),Vn},set:function(e){Object(o["e"])(!Vn,"__referenceConstructor has already been defined"),Vn=e},enumerable:!1,configurable:!0}),e.prototype.isEmpty=function(){return 0===this.views.size},e.prototype.applyOperation=function(e,t,n){var r,s,a=e.source.queryId;if(null!==a){var c=this.views.get(a);return Object(o["e"])(null!=c,"SyncTree gave us an op for an invalid query."),c.applyOperation(e,t,n)}var u=[];try{for(var l=Object(i["h"])(this.views.values()),h=l.next();!h.done;h=l.next()){c=h.value;u=u.concat(c.applyOperation(e,t,n))}}catch(p){r={error:p}}finally{try{h&&!h.done&&(s=l.return)&&s.call(l)}finally{if(r)throw r.error}}return u},e.prototype.getView=function(e,t,n,r){var i=e.queryIdentifier(),o=this.views.get(i);if(!o){var s=t.calcCompleteEventCache(r?n:null),a=!1;s?a=!0:n instanceof jt?(s=t.calcCompleteEventChildren(n),a=!1):(s=jt.EMPTY_NODE,a=!1);var c=new kn(new Pn(s,a,!1),new Pn(n,r,!1));return new Qn(e,c)}return o},e.prototype.addEventRegistration=function(e,t,n,r,i){var o=this.getView(e,n,r,i);return this.views.has(e.queryIdentifier())||this.views.set(e.queryIdentifier(),o),o.addEventRegistration(t),o.getInitialEvents(t)},e.prototype.removeEventRegistration=function(t,n,r){var o,s,a=t.queryIdentifier(),c=[],u=[],l=this.hasCompleteView();if("default"===a)try{for(var h=Object(i["h"])(this.views.entries()),p=h.next();!p.done;p=h.next()){var f=Object(i["e"])(p.value,2),d=f[0],v=f[1];u=u.concat(v.removeEventRegistration(n,r)),v.isEmpty()&&(this.views.delete(d),v.getQuery().getQueryParams().loadsAllData()||c.push(v.getQuery()))}}catch(y){o={error:y}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(o)throw o.error}}else{v=this.views.get(a);v&&(u=u.concat(v.removeEventRegistration(n,r)),v.isEmpty()&&(this.views.delete(a),v.getQuery().getQueryParams().loadsAllData()||c.push(v.getQuery())))}return l&&!this.hasCompleteView()&&c.push(new e.__referenceConstructor(t.repo,t.path)),{removed:c,events:u}},e.prototype.getQueryViews=function(){var e,t,n=[];try{for(var r=Object(i["h"])(this.views.values()),o=r.next();!o.done;o=r.next()){var s=o.value;s.getQuery().getQueryParams().loadsAllData()||n.push(s)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e.prototype.getCompleteServerCache=function(e){var t,n,r=null;try{for(var o=Object(i["h"])(this.views.values()),s=o.next();!s.done;s=o.next()){var a=s.value;r=r||a.getCompleteServerCache(e)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r},e.prototype.viewForQuery=function(e){var t=e.getQueryParams();if(t.loadsAllData())return this.getCompleteView();var n=e.queryIdentifier();return this.views.get(n)},e.prototype.viewExistsForQuery=function(e){return null!=this.viewForQuery(e)},e.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},e.prototype.getCompleteView=function(){var e,t;try{for(var n=Object(i["h"])(this.views.values()),r=n.next();!r.done;r=n.next()){var o=r.value;if(o.getQuery().getQueryParams().loadsAllData())return o}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return null},e}(),zn=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new Tn(null))},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(e,t,n){if(re(t))return new zn(new Tn(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,s=ie(i,t);return o=o.updateChild(s,n),new zn(e.writeTree_.set(i,o))}var a=new Tn(n),c=e.writeTree_.setTree(t,a);return new zn(c)}function Gn(e,t,n){var r=e;return D(n,(function(e,n){r=Kn(r,ne(t,e),n)})),r}function Yn(e,t){if(re(t))return zn.empty();var n=e.writeTree_.setTree(t,new Tn(null));return new zn(n)}function $n(e,t){return null!=Xn(e,t)}function Xn(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(ie(n.path,t)):null}function Jn(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(yt,(function(e,n){t.push(new et(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new et(e,n.value))})),t}function Zn(e,t){if(re(t))return e;var n=Xn(e,t);return new zn(null!=n?new Tn(n):e.writeTree_.subtree(t))}function er(e){return e.writeTree_.isEmpty()}function tr(e,t){return nr(G(),e.writeTree_,t)}function nr(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(Object(o["e"])(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=nr(ne(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(ne(e,".priority"),r)),n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rr=function(){function e(){this.visibleWrites_=zn.empty(),this.allWrites_=[],this.lastWriteId_=-1}return e.prototype.childWrites=function(e){return new ir(e,this)},e.prototype.addOverwrite=function(e,t,n,r){Object(o["e"])(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:e,snap:t,writeId:n,visible:r}),r&&(this.visibleWrites_=Kn(this.visibleWrites_,e,t)),this.lastWriteId_=n},e.prototype.addMerge=function(e,t,n){Object(o["e"])(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:e,children:t,writeId:n,visible:!0}),this.visibleWrites_=Gn(this.visibleWrites_,e,t),this.lastWriteId_=n},e.prototype.getWrite=function(e){for(var t=0;t<this.allWrites_.length;t++){var n=this.allWrites_[t];if(n.writeId===e)return n}return null},e.prototype.removeWrite=function(e){var t=this,n=this.allWrites_.findIndex((function(t){return t.writeId===e}));Object(o["e"])(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);var i=r.visible,s=!1,a=this.allWrites_.length-1;while(i&&a>=0){var c=this.allWrites_[a];c.visible&&(a>=n&&this.recordContainsPath_(c,r.path)?i=!1:ae(r.path,c.path)&&(s=!0)),a--}if(i){if(s)return this.resetTree_(),!0;if(r.snap)this.visibleWrites_=Yn(this.visibleWrites_,r.path);else{var u=r.children;D(u,(function(e){t.visibleWrites_=Yn(t.visibleWrites_,ne(r.path,e))}))}return!0}return!1},e.prototype.getCompleteWriteData=function(e){return Xn(this.visibleWrites_,e)},e.prototype.calcCompleteEventCache=function(t,n,r,i){if(r||i){var o=Zn(this.visibleWrites_,t);if(!i&&er(o))return n;if(i||null!=n||$n(o,G())){var s=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(ae(e.path,t)||ae(t,e.path))},a=e.layerTree_(this.allWrites_,s,t);l=n||jt.EMPTY_NODE;return tr(a,l)}return null}var c=Xn(this.visibleWrites_,t);if(null!=c)return c;var u=Zn(this.visibleWrites_,t);if(er(u))return n;if(null!=n||$n(u,G())){var l=n||jt.EMPTY_NODE;return tr(u,l)}return null},e.prototype.calcCompleteEventChildren=function(e,t){var n=jt.EMPTY_NODE,r=Xn(this.visibleWrites_,e);if(r)return r.isLeafNode()||r.forEachChild(yt,(function(e,t){n=n.updateImmediateChild(e,t)})),n;if(t){var i=Zn(this.visibleWrites_,e);return t.forEachChild(yt,(function(e,t){var r=tr(Zn(i,new K(e)),t);n=n.updateImmediateChild(e,r)})),Jn(i).forEach((function(e){n=n.updateImmediateChild(e.name,e.node)})),n}var o=Zn(this.visibleWrites_,e);return Jn(o).forEach((function(e){n=n.updateImmediateChild(e.name,e.node)})),n},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n,r){Object(o["e"])(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=ne(e,t);if($n(this.visibleWrites_,i))return null;var s=Zn(this.visibleWrites_,i);return er(s)?r.getChild(t):tr(s,r.getChild(t))},e.prototype.calcCompleteChild=function(e,t,n){var r=ne(e,t),i=Xn(this.visibleWrites_,r);if(null!=i)return i;if(n.isCompleteForChild(t)){var o=Zn(this.visibleWrites_,r);return tr(o,n.getNode().getImmediateChild(t))}return null},e.prototype.shadowingWrite=function(e){return Xn(this.visibleWrites_,e)},e.prototype.calcIndexedSlice=function(e,t,n,r,i,o){var s,a=Zn(this.visibleWrites_,e),c=Xn(a,G());if(null!=c)s=c;else{if(null==t)return[];s=tr(a,t)}if(s=s.withIndex(o),s.isEmpty()||s.isLeafNode())return[];var u=[],l=o.getCompare(),h=i?s.getReverseIteratorFrom(n,o):s.getIteratorFrom(n,o),p=h.getNext();while(p&&u.length<r)0!==l(p,n)&&u.push(p),p=h.getNext();return u},e.prototype.recordContainsPath_=function(e,t){if(e.snap)return ae(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&ae(ne(e.path,n),t))return!0;return!1},e.prototype.resetTree_=function(){this.visibleWrites_=e.layerTree_(this.allWrites_,e.DefaultFilter_,G()),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},e.DefaultFilter_=function(e){return e.visible},e.layerTree_=function(e,t,n){for(var r=zn.empty(),i=0;i<e.length;++i){var s=e[i];if(t(s)){var a=s.path,c=void 0;if(s.snap)ae(n,a)?(c=ie(n,a),r=Kn(r,c,s.snap)):ae(a,n)&&(c=ie(a,n),r=Kn(r,G(),s.snap.getChild(c)));else{if(!s.children)throw Object(o["f"])("WriteRecord should have .snap or .children");if(ae(n,a))c=ie(n,a),r=Gn(r,c,s.children);else if(ae(a,n))if(c=ie(a,n),re(c))r=Gn(r,G(),s.children);else{var u=Object(o["y"])(s.children,Y(c));if(u){var l=u.getChild(X(c));r=Kn(r,G(),l)}}}}}return r},e}(),ir=function(){function e(e,t){this.treePath_=e,this.writeTree_=t}return e.prototype.calcCompleteEventCache=function(e,t,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,e,t,n)},e.prototype.calcCompleteEventChildren=function(e){return this.writeTree_.calcCompleteEventChildren(this.treePath_,e)},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,e,t,n)},e.prototype.shadowingWrite=function(e){return this.writeTree_.shadowingWrite(ne(this.treePath_,e))},e.prototype.calcIndexedSlice=function(e,t,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,e,t,n,r,i)},e.prototype.calcCompleteChild=function(e,t){return this.writeTree_.calcCompleteChild(this.treePath_,e,t)},e.prototype.child=function(t){return new e(ne(this.treePath_,t),this.writeTree_)},e}(),or=function(){function e(e){this.listenProvider_=e,this.syncPointTree_=new Tn(null),this.pendingWriteTree_=new rr,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return e.prototype.applyUserOverwrite=function(e,t,n,r){return this.pendingWriteTree_.addOverwrite(e,t,n,r),r?this.applyOperationToSyncPoints_(new jn(bn(),e,t)):[]},e.prototype.applyUserMerge=function(e,t,n){this.pendingWriteTree_.addMerge(e,t,n);var r=Tn.fromObject(t);return this.applyOperationToSyncPoints_(new Rn(bn(),e,r))},e.prototype.ackUserWrite=function(e,t){void 0===t&&(t=!1);var n=this.pendingWriteTree_.getWrite(e),r=this.pendingWriteTree_.removeWrite(e);if(r){var i=new Tn(null);return null!=n.snap?i=i.set(G(),!0):D(n.children,(function(e){i=i.set(new K(e),!0)})),this.applyOperationToSyncPoints_(new En(n.path,i,t))}return[]},e.prototype.applyServerOverwrite=function(e,t){return this.applyOperationToSyncPoints_(new jn(wn(),e,t))},e.prototype.applyServerMerge=function(e,t){var n=Tn.fromObject(t);return this.applyOperationToSyncPoints_(new Rn(wn(),e,n))},e.prototype.applyListenComplete=function(e){return this.applyOperationToSyncPoints_(new xn(wn(),e))},e.prototype.applyTaggedQueryOverwrite=function(t,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=e.parseQueryKey_(i),s=o.path,a=o.queryId,c=ie(s,t),u=new jn(On(a),c,n);return this.applyTaggedOperation_(s,u)}return[]},e.prototype.applyTaggedQueryMerge=function(t,n,r){var i=this.queryKeyForTag_(r);if(i){var o=e.parseQueryKey_(i),s=o.path,a=o.queryId,c=ie(s,t),u=Tn.fromObject(n),l=new Rn(On(a),c,u);return this.applyTaggedOperation_(s,l)}return[]},e.prototype.applyTaggedListenComplete=function(t,n){var r=this.queryKeyForTag_(n);if(r){var i=e.parseQueryKey_(r),o=i.path,s=i.queryId,a=ie(o,t),c=new xn(On(s),a);return this.applyTaggedOperation_(o,c)}return[]},e.prototype.addEventRegistration=function(t,n){var r=t.path,i=null,s=!1;this.syncPointTree_.foreachOnPath(r,(function(e,t){var n=ie(e,r);i=i||t.getCompleteServerCache(n),s=s||t.hasCompleteView()}));var a,c=this.syncPointTree_.get(r);if(c?(s=s||c.hasCompleteView(),i=i||c.getCompleteServerCache(G())):(c=new Hn,this.syncPointTree_=this.syncPointTree_.set(r,c)),null!=i)a=!0;else{a=!1,i=jt.EMPTY_NODE;var u=this.syncPointTree_.subtree(r);u.foreachChild((function(e,t){var n=t.getCompleteServerCache(G());n&&(i=i.updateImmediateChild(e,n))}))}var l=c.viewExistsForQuery(t);if(!l&&!t.getQueryParams().loadsAllData()){var h=e.makeQueryKey_(t);Object(o["e"])(!this.queryToTagMap.has(h),"View does not exist, but we have a tag");var p=e.getNextQueryTag_();this.queryToTagMap.set(h,p),this.tagToQueryMap.set(p,h)}var f=this.pendingWriteTree_.childWrites(r),d=c.addEventRegistration(t,n,f,i,a);if(!l&&!s){var v=c.viewForQuery(t);d=d.concat(this.setupListener_(t,v))}return d},e.prototype.removeEventRegistration=function(t,n,r){var i=this,o=t.path,s=this.syncPointTree_.get(o),a=[];if(s&&("default"===t.queryIdentifier()||s.viewExistsForQuery(t))){var c=s.removeEventRegistration(t,n,r);s.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var u=c.removed;a=c.events;var l=-1!==u.findIndex((function(e){return e.getQueryParams().loadsAllData()})),h=this.syncPointTree_.findOnPath(o,(function(e,t){return t.hasCompleteView()}));if(l&&!h){var p=this.syncPointTree_.subtree(o);if(!p.isEmpty())for(var f=this.collectDistinctViewsForSubTree_(p),d=0;d<f.length;++d){var v=f[d],y=v.getQuery(),_=this.createListenerForView_(v);this.listenProvider_.startListening(e.queryForListening_(y),this.tagForQuery_(y),_.hashFn,_.onComplete)}}if(!h&&u.length>0&&!r)if(l){var g=null;this.listenProvider_.stopListening(e.queryForListening_(t),g)}else u.forEach((function(t){var n=i.queryToTagMap.get(e.makeQueryKey_(t));i.listenProvider_.stopListening(e.queryForListening_(t),n)}));this.removeTags_(u)}return a},e.prototype.calcCompleteEventCache=function(e,t){var n=!0,r=this.pendingWriteTree_,i=this.syncPointTree_.findOnPath(e,(function(t,n){var r=ie(t,e),i=n.getCompleteServerCache(r);if(i)return i}));return r.calcCompleteEventCache(e,i,t,n)},e.prototype.getServerValue=function(e){var t=e.path,n=null;this.syncPointTree_.foreachOnPath(t,(function(e,r){var i=ie(e,t);n=n||r.getCompleteServerCache(i)}));var r=this.syncPointTree_.get(t);r?n=n||r.getCompleteServerCache(G()):(r=new Hn,this.syncPointTree_=this.syncPointTree_.set(t,r));var i=null!=n,o=i?new Pn(n,!0,!1):null,s=this.pendingWriteTree_.childWrites(e.path),a=r.getView(e,s,i?o.getNode():jt.EMPTY_NODE,i);return a.getCompleteNode()},e.prototype.collectDistinctViewsForSubTree_=function(e){return e.fold((function(e,t,n){if(t&&t.hasCompleteView()){var r=t.getCompleteView();return[r]}var i=[];return t&&(i=t.getQueryViews()),D(n,(function(e,t){i=i.concat(t)})),i}))},e.prototype.removeTags_=function(t){for(var n=0;n<t.length;++n){var r=t[n];if(!r.getQueryParams().loadsAllData()){var i=e.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},e.queryForListening_=function(e){return e.getQueryParams().loadsAllData()&&!e.getQueryParams().isDefault()?e.getRef():e},e.prototype.setupListener_=function(t,n){var r=t.path,i=this.tagForQuery_(t),s=this.createListenerForView_(n),a=this.listenProvider_.startListening(e.queryForListening_(t),i,s.hashFn,s.onComplete),c=this.syncPointTree_.subtree(r);if(i)Object(o["e"])(!c.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var u=c.fold((function(e,t,n){if(!re(e)&&t&&t.hasCompleteView())return[t.getCompleteView().getQuery()];var r=[];return t&&(r=r.concat(t.getQueryViews().map((function(e){return e.getQuery()})))),D(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<u.length;++l){var h=u[l];this.listenProvider_.stopListening(e.queryForListening_(h),this.tagForQuery_(h))}return a},e.prototype.createListenerForView_=function(e){var t=this,n=e.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){var t=e.getServerCache()||jt.EMPTY_NODE;return t.hash()},onComplete:function(e){if("ok"===e)return r?t.applyTaggedListenComplete(n.path,r):t.applyListenComplete(n.path);var i=U(e,n);return t.removeEventRegistration(n,null,i)}}},e.makeQueryKey_=function(e){return e.path.toString()+"$"+e.queryIdentifier()},e.parseQueryKey_=function(e){var t=e.indexOf("$");return Object(o["e"])(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new K(e.substr(0,t))}},e.prototype.queryKeyForTag_=function(e){return this.tagToQueryMap.get(e)},e.prototype.tagForQuery_=function(t){var n=e.makeQueryKey_(t);return this.queryToTagMap.get(n)},e.getNextQueryTag_=function(){return e.nextQueryTag_++},e.prototype.applyTaggedOperation_=function(e,t){var n=this.syncPointTree_.get(e);Object(o["e"])(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(e);return n.applyOperation(t,r,null)},e.prototype.applyOperationToSyncPoints_=function(e){return this.applyOperationHelper_(e,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(G()))},e.prototype.applyOperationHelper_=function(e,t,n,r){if(re(e.path))return this.applyOperationDescendantsHelper_(e,t,n,r);var i=t.get(G());null==n&&null!=i&&(n=i.getCompleteServerCache(G()));var o=[],s=Y(e.path),a=e.operationForChild(s),c=t.children.get(s);if(c&&a){var u=n?n.getImmediateChild(s):null,l=r.child(s);o=o.concat(this.applyOperationHelper_(a,c,u,l))}return i&&(o=o.concat(i.applyOperation(e,r,n))),o},e.prototype.applyOperationDescendantsHelper_=function(e,t,n,r){var i=this,o=t.get(G());null==n&&null!=o&&(n=o.getCompleteServerCache(G()));var s=[];return t.children.inorderTraversal((function(t,o){var a=n?n.getImmediateChild(t):null,c=r.child(t),u=e.operationForChild(t);u&&(s=s.concat(i.applyOperationDescendantsHelper_(u,o,a,c)))})),o&&(s=s.concat(o.applyOperation(e,r,n))),s},e.nextQueryTag_=1,e}(),sr=function(){function e(){this.rootNode_=jt.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}(),ar=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),Object(o["i"])(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return Object(o["k"])(this.counters_)},e}(),cr=function(){function e(){}return e.getCollection=function(e){var t=e.toString();return this.collections_[t]||(this.collections_[t]=new ar),this.collections_[t]},e.getOrCreateReporter=function(e,t){var n=e.toString();return this.reporters_[n]||(this.reporters_[n]=t()),this.reporters_[n]},e.collections_={},e.reporters_={},e}(),ur=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=Object(i["a"])({},e);return this.last_&&D(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),lr=1e4,hr=3e4,pr=3e5,fr=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new ur(e);var n=lr+(hr-lr)*Math.random();z(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.includeStat=function(e){this.statsToReport_[e]=!0},e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;D(t,(function(t,i){i>0&&Object(o["i"])(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),z(this.reportStats_.bind(this),Math.floor(2*Math.random()*pr))},e}(),dr=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e}();function vr(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||se(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function yr(e,t,n){vr(e,n),gr(e,(function(e){return se(e,t)}))}function _r(e,t,n){vr(e,n),gr(e,(function(e){return ae(e,t)||ae(t,e)}))}function gr(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i){var o=i.path;t(o)?(mr(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function mr(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();_&&b("event: "+n.toString()),Q(r)}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var br=function(){function e(e){this.allowedEvents_=e,this.listeners_={},Object(o["e"])(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=Object(i["f"])(this.listeners_[e]),o=0;o<r.length;o++)r[o].callback.apply(r[o].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){Object(o["e"])(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),wr=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document["hidden"]?(n="visibilitychange",t="hidden"):"undefined"!==typeof document["mozHidden"]?(n="mozvisibilitychange",t="mozHidden"):"undefined"!==typeof document["msHidden"]?(n="msvisibilitychange",t="msHidden"):"undefined"!==typeof document["webkitHidden"]&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return Object(i["c"])(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return Object(o["e"])("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(br),Or=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Object(o["q"])()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return Object(i["c"])(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return Object(o["e"])("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(br),Cr=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&Q((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;while(this.pendingResponses[this.currentResponseNum]){var o=r();if("break"===o)break}},e}(),Er="start",Sr="close",Tr="pLPCommand",xr="pRTLPCB",jr="id",Rr="pw",Pr="ser",kr="cb",Ir="seg",Nr="ts",Ar="d",Dr="dframe",Lr=1870,Fr=30,Mr=Lr-Fr,Ur=25e3,qr=3e4,Br=function(){function e(e,t,n,r,i){this.connId=e,this.repoInfo=t,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=w(e),this.stats_=cr.getCollection(t),this.urlFn=function(e){return t.connectionURL(ge,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Cr(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(qr)),x((function(){if(!n.isClosed_){n.scriptTagHolder=new Wr((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Object(i["e"])(e,5),o=r[0],s=r[1],a=r[2];r[3],r[4];if(n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,o===Er)n.id=s,n.password=a;else{if(o!==Sr)throw new Error("Unrecognized command received: "+o);s?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(s,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Object(i["e"])(e,2),o=r[0],s=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(o,s)}),(function(){n.onClosed_()}),n.urlFn);var e={};e[Er]="t",e[Pr]=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e[kr]=n.scriptTagHolder.uniqueCallbackIdentifier),e[le]=ue,n.transportSessionId&&(e[he]=n.transportSessionId),n.lastSessionId&&(e[ve]=n.lastSessionId),n.applicationId&&(e[ye]=n.applicationId),"undefined"!==typeof location&&location.hostname&&de.test(location.hostname)&&(e[pe]=fe);var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!Object(o["s"])()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!F()&&!M())},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=Object(o["B"])(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Object(o["h"])(t),r=A(n,Mr),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!Object(o["s"])()){this.myDisconnFrame=document.createElement("iframe");var n={};n[Dr]="t",n[jr]=e,n[Rr]=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=Object(o["B"])(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),Wr=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(o["s"])())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=d(),window[Tr+this.uniqueCallbackIdentifier]=t,window[xr+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var s="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)){var a=document.domain;s='<script>document.domain="'+a+'";<\/script>'}var c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(u){b("frame writing exception"),u.stack&&b(u.stack),b(u)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{var t=e.contentWindow.document;t||b("No IE domain setting required")}catch(r){var n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){this.myID=e,this.myPW=t,this.alive=!0;while(this.newRequest_());},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e[jr]=this.myID,e[Rr]=this.myPW,e[Pr]=this.currentSerial;var t=this.urlFn(e),n="",r=0;while(this.pendingSegs.length>0){var i=this.pendingSegs[0];if(!(i.d.length+Fr+n.length<=Lr))break;var o=this.pendingSegs.shift();n=n+"&"+Ir+r+"="+o.seg+"&"+Nr+r+"="+o.ts+"&"+Ar+r+"="+o.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(Ur)),o=function(){clearTimeout(i),r()};this.addTag(e,o)},e.prototype.addTag=function(e,t){var n=this;Object(o["s"])()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){b("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},e}(),Vr="";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(e){Vr=e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hr=16384,zr=45e3,Kr=null;"undefined"!==typeof MozWebSocket?Kr=MozWebSocket:"undefined"!==typeof WebSocket&&(Kr=WebSocket);var Gr,Yr=function(){function t(e,n,r,i,o){this.connId=e,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=w(this.connId),this.stats_=cr.getCollection(n),this.connURL=t.connectionURL_(n,i,o),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(e,t,n){var r={};return r[le]=ue,!Object(o["s"])()&&"undefined"!==typeof location&&location.hostname&&de.test(location.hostname)&&(r[pe]=fe),t&&(r[he]=t),n&&(r[ve]=n),e.connectionURL(_e,r)},t.prototype.open=function(t,n){var r=this;this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,h.set("previous_websocket_failure",!0);try{if(Object(o["s"])()){var i=this.nodeAdmin?"AdminNode":"Node",s={headers:{"User-Agent":"Firebase/"+ue+"/"+Vr+"/"+e.platform+"/"+i,"X-Firebase-GMPID":this.applicationId||""}},a=Object({NODE_ENV:"production",BASE_URL:"/"}),c=0===this.connURL.indexOf("wss://")?a["HTTPS_PROXY"]||a["https_proxy"]:a["HTTP_PROXY"]||a["http_proxy"];c&&(s["proxy"]={origin:c}),this.mySock=new Kr(this.connURL,[],s)}else{s={headers:{"X-Firebase-GMPID":this.applicationId||""}};this.mySock=new Kr(this.connURL,[],s)}}catch(l){this.log_("Error instantiating WebSocket.");var u=l.message||l.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(e){r.handleIncomingFrame(e)},this.mySock.onerror=function(e){r.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&r.log_(t),r.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==Kr&&!t.forceDisallow_},t.previouslyFailed=function(){return h.isInMemoryStorage||!0===h.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){h.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Object(o["v"])(t);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},t.prototype.extractFrameCount_=function(e){if(Object(o["e"])(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},t.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e["data"];if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(e){this.resetKeepAlive();var t=Object(o["B"])(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=A(t,Hr);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(zr))},t.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),$r=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[Br,Yr]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,o=Yr&&Yr["isAvailable"](),s=o&&!Yr.previouslyFailed();if(t.webSocketOnly&&(o||E("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Yr];else{var a=this.transports_=[];try{for(var c=Object(i["h"])(e.ALL_TRANSPORTS),u=c.next();!u.done;u=c.next()){var l=u.value;l&&l["isAvailable"]()&&a.push(l)}}catch(h){n={error:h}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),Xr=6e4,Jr=5e3,Zr=10240,ei=102400,ti="t",ni="d",ri="s",ii="r",oi="e",si="o",ai="a",ci="n",ui="p",li="h",hi=function(){function e(e,t,n,r,i,o,s,a){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=s,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=w("c:"+this.id+":"),this.transportManager_=new $r(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=t["responsesRequiredToBeHealthy"]||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t["healthyTimeout"]||0;i>0&&(this.healthyTimeout_=z((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>ei?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>Zr?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if(ti in e){var t=e[ti];t===ai?this.upgradeIfSecondaryHealthy_():t===ii?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):t===si&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=I("t",e),n=I("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ui,d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ai,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ci,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=I("t",e),n=I("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=I(ti,e);if(ni in e){var n=e[ni];if(t===li)this.onHandshake_(n);else if(t===ci){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===ri?this.onConnectionShutdown_(n):t===ii?this.onReset_(n):t===oi?O("Server Error: "+n):t===si?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):O("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),ue!==n&&E("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=e["responsesRequiredToBeHealthy"]||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),z((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(Xr))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.updateHost(e),1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):z((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(Jr))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ui,d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(h.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),pi=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),fi=1e3,di=3e5,vi=3e3,yi=3e4,_i=1.3,gi=3e4,mi="server_kill",bi=3,wi=function(e){function t(n,r,i,s,a,c,u){var l=e.call(this)||this;if(l.repoInfo_=n,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=s,l.onServerInfoUpdate_=a,l.authTokenProvider_=c,l.authOverride_=u,l.id=t.nextPersistentConnectionId_++,l.log_=w("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=fi,l.maxReconnectDelay_=di,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,u&&!Object(o["s"])())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return l.scheduleConnect_(0),wr.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&Or.getInstance().on("online",l.onOnline_,l),l}return Object(i["c"])(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Object(o["B"])(i)),Object(o["e"])(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this,n=new o["a"],r={p:e.path.toString(),q:e.queryObject()},i={action:"g",request:r,onComplete:function(e){var i=e["d"];"ok"===e["s"]?(t.onDataUpdate_(r["p"],i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var s=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[s];void 0!==e&&i===e&&(delete t.outstandingGets_[s],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+s+" timed out on connection"),n.reject(new Error("Client is offline.")))}),vi),this.connected_&&this.sendGet_(s),n.promise},t.prototype.listen=function(e,t,n,r){var i=e.queryIdentifier(),s=e.path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),Object(o["e"])(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),Object(o["e"])(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(s).set(i,a),this.connected_&&this.sendListen_(a)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var s={p:i},a="q";e.tag&&(s["q"]=r.queryObject(),s["t"]=e.tag),s["h"]=e.hashFn(),this.sendRequest(a,s,(function(s){var a=s["d"],c=s["s"];t.warnOnListenWarnings_(a,r);var u=n.listens.get(i)&&n.listens.get(i).get(o);u===e&&(n.log_("listen response",s),"ok"!==c&&n.removeListen_(i,o),e.onComplete&&e.onComplete(c,a))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"===typeof e&&Object(o["i"])(e,"w")){var n=Object(o["y"])(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t.getQueryParams().getIndex().toString()+'"',i=t.path.toString();E("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){var t=e&&40===e.length;(t||Object(o["n"])(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=yi)},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=Object(o["u"])(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r["noauth"]=!0:"object"===typeof this.authOverride_&&(r["authvar"]=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n["s"],i=n["d"]||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.unlisten=function(e,t){var n=e.path.toString(),r=e.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),Object(o["e"])(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query");var i=this.removeListen_(n,r);i&&this.connected_&&this.sendUnlisten_(n,r,e.queryObject(),t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e},o="n";r&&(i["q"]=n,i["t"]=r),this.sendRequest(o,i)},t.prototype.onDisconnectPut=function(e,t,n){this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e["s"],e["d"])}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){var o={p:t,d:n};void 0!==i&&(o["h"]=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r["s"],r["d"])}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){var n=e["s"];if("ok"!==n){var r=e["d"];t.log_("reportStats","Error sending stats: "+r)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+Object(o["B"])(e));var t=e["r"],n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e["b"]))}else{if("error"in e)throw"A server-side error has occurred: "+e["error"];"a"in e&&this.onDataPush_(e["a"],e["b"])}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t["p"],t["d"],!1,t["t"]):"m"===e?this.onDataUpdate_(t["p"],t["d"],!0,t["t"]):"c"===e?this.onListenRevoked_(t["p"],t["q"]):"ac"===e?this.onAuthRevoked_(t["s"],t["d"]):"sd"===e?this.onSecurityDebugPacket_(t):O("Unrecognized action received from server: "+Object(o["B"])(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;Object(o["e"])(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=fi,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=fi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){var e=(new Date).getTime()-this.lastConnectionEstablishedTime_;e>gi&&(this.reconnectDelay_=fi),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var t=(new Date).getTime()-this.lastConnectionAttemptTime_,n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*_i)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){var e=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,a=this,c=this.lastSessionId,u=!1,l=null,h=function(){l?l.close():(u=!0,i())},p=function(e){Object(o["e"])(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(e)};this.realtime_={close:h,sendRequest:p};var f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(f).then((function(e){u?b("getToken() completed but was canceled"):(b("getToken() completed. Creating connection."),a.authToken_=e&&e.accessToken,l=new hi(s,a.repoInfo_,a.applicationId_,n,r,i,(function(e){E(e+" ("+a.repoInfo_.toString()+")"),a.interrupt(mi)}),c))})).then(null,(function(t){a.log_("Failed to get token: "+t),u||(e.repoInfo_.nodeAdmin&&E(t),h())}))}},t.prototype.interrupt=function(e){b("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){b("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Object(o["p"])(this.interruptReasons_)&&(this.reconnectDelay_=fi,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return N(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new K(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){b("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=bi&&(this.reconnectDelay_=yi,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e["msg"].replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth();try{for(var o=Object(i["h"])(this.listens.values()),s=o.next();!s.done;s=o.next()){var a=s.value;try{for(var c=(n=void 0,Object(i["h"])(a.values())),u=c.next();!u.done;u=c.next()){var l=u.value;this.sendListen_(l)}}catch(f){n={error:f}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}}catch(d){e={error:d}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}for(var h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);while(this.onDisconnectRequestQueue_.length){var p=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(p.action,p.pathString,p.data,p.onComplete)}for(h=0;h<this.outstandingGets_.length;h++)this.outstandingGets_[h]&&this.sendGet_(h)},t.prototype.sendConnectStats_=function(){var e={},t="js";Object(o["s"])()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Vr.replace(/\./g,"-")]=1,Object(o["q"])()?e["framework.cordova"]=1:Object(o["t"])()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=Or.getInstance().currentlyOnline();return Object(o["p"])(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(pi),Oi=function(e){function t(t,n,r){var i=e.call(this)||this;return i.repoInfo_=t,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=w("p:rest:"),i.listens_={},i}return Object(i["c"])(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(Object(o["e"])(e.getQueryParams().isDefault(),"should have a tag if it's not a default query."),e.path.toString())},t.prototype.listen=function(e,n,r,i){var s=this,a=e.path.toString();this.log_("Listen called for "+a+" "+e.queryIdentifier());var c=t.getListenId_(e,r),u={};this.listens_[c]=u;var l=sn(e.getQueryParams());this.restRequest_(a+".json",l,(function(e,t){var n,l=t;(404===e&&(l=null,e=null),null===e&&s.onDataUpdate_(a,l,!1,r),Object(o["y"])(s.listens_,c)===u)&&(n=e?401===e?"permission_denied":"rest_error:"+e:"ok",i(n,null))}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=sn(e.getQueryParams()),r=e.path.toString(),i=new o["a"];return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;void 0===t&&(t={}),t["format"]="export",this.authTokenProvider_.getToken(!1).then((function(i){var s=i&&i.accessToken;s&&(t["auth"]=s);var a=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+Object(o["x"])(t);r.log_("Sending REST request for "+a);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(n&&4===c.readyState){r.log_("REST Response for "+a+" received. status:",c.status,"response:",c.responseText);var e=null;if(c.status>=200&&c.status<300){try{e=Object(o["v"])(c.responseText)}catch(t){E("Failed to parse JSON response for "+a+": "+c.responseText)}n(null,e)}else 401!==c.status&&404!==c.status&&E("Got unsuccessful REST response for "+a+" Status: "+c.status),n(c.status);n=null}},c.open("GET",a,!0),c.send()}))},t}(pi),Ci=function(){function e(){this.children={},this.childCount=0,this.value=null}return e}(),Ei=function(){function e(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n=new Ci),this.name_=e,this.parent_=t,this.node_=n}return e.prototype.subTree=function(t){var n=t instanceof K?t:new K(t),r=this,i=Y(n);while(null!==i){var s=Object(o["y"])(r.node_.children,i)||new Ci;r=new e(i,r,s),n=X(n),i=Y(n)}return r},e.prototype.getValue=function(){return this.node_.value},e.prototype.setValue=function(e){Object(o["e"])("undefined"!==typeof e,"Cannot set value to undefined"),this.node_.value=e,this.updateParents_()},e.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},e.prototype.hasChildren=function(){return this.node_.childCount>0},e.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},e.prototype.forEachChild=function(t){var n=this;D(this.node_.children,(function(r,i){t(new e(r,n,i))}))},e.prototype.forEachDescendant=function(e,t,n){t&&!n&&e(this),this.forEachChild((function(t){t.forEachDescendant(e,!0,n)})),t&&n&&e(this)},e.prototype.forEachAncestor=function(e,t){var n=t?this:this.parent();while(null!==n){if(e(n))return!0;n=n.parent()}return!1},e.prototype.forEachImmediateDescendantWithValue=function(e){this.forEachChild((function(t){null!==t.getValue()?e(t):t.forEachImmediateDescendantWithValue(e)}))},e.prototype.path=function(){return new K(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},e.prototype.name=function(){return this.name_},e.prototype.parent=function(){return this.parent_},e.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},e.prototype.updateChild_=function(e,t){var n=t.isEmpty(),r=Object(o["i"])(this.node_.children,e);n&&r?(delete this.node_.children[e],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[e]=t.node_,this.node_.childCount++,this.updateParents_())},e}(),Si="repo_interrupt",Ti=25;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(e){e[e["RUN"]=0]="RUN",e[e["SENT"]=1]="SENT",e[e["COMPLETED"]=2]="COMPLETED",e[e["SENT_NEEDS_ABORT"]=3]="SENT_NEEDS_ABORT",e[e["NEEDS_ABORT"]=4]="NEEDS_ABORT"})(Gr||(Gr={}));var xi=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.app=n,this.authTokenProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new dr,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new mn,this.transactionQueueTree_=new Ei,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.start=function(){var e=this;if(this.stats_=cr.getCollection(this.repoInfo_),this.forceRestClient_||H())this.server_=new Oi(this.repoInfo_,this.onDataUpdate_.bind(this),this.authTokenProvider_),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var t=this.app.options["databaseAuthVariableOverride"];if("undefined"!==typeof t&&null!==t){if("object"!==typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(o["B"])(t)}catch(n){throw new Error("Invalid authOverride provided: "+n)}}this.persistentConnection_=new wi(this.repoInfo_,this.app.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),this.authTokenProvider_,t),this.server_=this.persistentConnection_}this.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),this.statsReporter_=cr.getOrCreateReporter(this.repoInfo_,(function(){return new fr(e.stats_,e.server_)})),this.infoData_=new sr,this.infoSyncTree_=new or({startListening:function(t,n,r,i){var o=[],s=e.infoData_.getNode(t.path);return s.isEmpty()||(o=e.infoSyncTree_.applyServerOverwrite(t.path,s),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new or({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);_r(e.eventQueue_,t.path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})},e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e.prototype.name=function(){return this.repoInfo_.namespace},e.prototype.serverTime=function(){var e=this.infoData_.getNode(new K(".info/serverTimeOffset")),t=e.val()||0;return(new Date).getTime()+t},e.prototype.generateServerValues=function(){return hn({timestamp:this.serverTime()})},e.prototype.onDataUpdate_=function(e,t,n,r){this.dataUpdateCount++;var i=new K(e);t=this.interceptServerDataCallback_?this.interceptServerDataCallback_(e,t):t;var s=[];if(r)if(n){var a=Object(o["w"])(t,(function(e){return It(e)}));s=this.serverSyncTree_.applyTaggedQueryMerge(i,a,r)}else{var c=It(t);s=this.serverSyncTree_.applyTaggedQueryOverwrite(i,c,r)}else if(n){var u=Object(o["w"])(t,(function(e){return It(e)}));s=this.serverSyncTree_.applyServerMerge(i,u)}else{var l=It(t);s=this.serverSyncTree_.applyServerOverwrite(i,l)}var h=i;s.length>0&&(h=this.rerunTransactions_(i)),_r(this.eventQueue_,h,s)},e.prototype.interceptServerData_=function(e){this.interceptServerDataCallback_=e},e.prototype.onConnectStatus_=function(e){this.updateInfo_("connected",e),!1===e&&this.runOnDisconnectEvents_()},e.prototype.onServerInfoUpdate_=function(e){var t=this;D(e,(function(e,n){t.updateInfo_(e,n)}))},e.prototype.updateInfo_=function(e,t){var n=new K("/.info/"+e),r=It(t);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);_r(this.eventQueue_,n,i)},e.prototype.getNextWriteId_=function(){return this.nextWriteId_++},e.prototype.getValue=function(e){var t=this,n=this.serverSyncTree_.getServerValue(e);return null!=n?Promise.resolve(new Lt(n,e.getRef(),e.getQueryParams().getIndex())):this.server_.get(e).then((function(n){var r=It(n),i=t.serverSyncTree_.applyServerOverwrite(e.path,r);return yr(t.eventQueue_,e.path,i),Promise.resolve(new Lt(r,e.getRef(),e.getQueryParams().getIndex()))}),(function(n){return t.log_("get for query "+Object(o["B"])(e)+" failed: "+n),Promise.reject(new Error(n))}))},e.prototype.setWithPriority=function(e,t,n,r){var i=this;this.log_("set",{path:e.toString(),value:t,priority:n});var o=this.generateServerValues(),s=It(t,n),a=this.serverSyncTree_.calcCompleteEventCache(e),c=yn(s,a,o),u=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserOverwrite(e,c,u,!0);vr(this.eventQueue_,l),this.server_.put(e.toString(),s.val(!0),(function(t,n){var o="ok"===t;o||E("set at "+e+" failed: "+t);var s=i.serverSyncTree_.ackUserWrite(u,!o);_r(i.eventQueue_,e,s),i.callOnCompleteCallback(r,t,n)}));var h=this.abortTransactions_(e);this.rerunTransactions_(h),_r(this.eventQueue_,h,[])},e.prototype.update=function(e,t,n){var r=this;this.log_("update",{path:e.toString(),value:t});var i=!0,o=this.generateServerValues(),s={};if(D(t,(function(t,n){i=!1,s[t]=vn(ne(e,t),It(n),r.serverSyncTree_,o)})),i)b("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var a=this.getNextWriteId_(),c=this.serverSyncTree_.applyUserMerge(e,s,a);vr(this.eventQueue_,c),this.server_.merge(e.toString(),t,(function(t,i){var o="ok"===t;o||E("update at "+e+" failed: "+t);var s=r.serverSyncTree_.ackUserWrite(a,!o),c=s.length>0?r.rerunTransactions_(e):e;_r(r.eventQueue_,c,s),r.callOnCompleteCallback(n,t,i)})),D(t,(function(t){var n=r.abortTransactions_(ne(e,t));r.rerunTransactions_(n)})),_r(this.eventQueue_,e,[])}},e.prototype.runOnDisconnectEvents_=function(){var e=this;this.log_("onDisconnectEvents");var t=this.generateServerValues(),n=new mn;this.onDisconnect_.forEachTree(G(),(function(r,i){var o=vn(r,i,e.serverSyncTree_,t);n.remember(r,o)}));var r=[];n.forEachTree(G(),(function(t,n){r=r.concat(e.serverSyncTree_.applyServerOverwrite(t,n));var i=e.abortTransactions_(t);e.rerunTransactions_(i)})),this.onDisconnect_=new mn,_r(this.eventQueue_,G(),r)},e.prototype.onDisconnectCancel=function(e,t){var n=this;this.server_.onDisconnectCancel(e.toString(),(function(r,i){"ok"===r&&n.onDisconnect_.forget(e),n.callOnCompleteCallback(t,r,i)}))},e.prototype.onDisconnectSet=function(e,t,n){var r=this,i=It(t);this.server_.onDisconnectPut(e.toString(),i.val(!0),(function(t,o){"ok"===t&&r.onDisconnect_.remember(e,i),r.callOnCompleteCallback(n,t,o)}))},e.prototype.onDisconnectSetWithPriority=function(e,t,n,r){var i=this,o=It(t,n);this.server_.onDisconnectPut(e.toString(),o.val(!0),(function(t,n){"ok"===t&&i.onDisconnect_.remember(e,o),i.callOnCompleteCallback(r,t,n)}))},e.prototype.onDisconnectUpdate=function(e,t,n){var r=this;if(Object(o["p"])(t))return b("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(e.toString(),t,(function(i,o){"ok"===i&&D(t,(function(t,n){var i=It(n);r.onDisconnect_.remember(ne(e,t),i)})),r.callOnCompleteCallback(n,i,o)}))},e.prototype.addEventCallbackForQuery=function(e,t){var n;n=".info"===Y(e.path)?this.infoSyncTree_.addEventRegistration(e,t):this.serverSyncTree_.addEventRegistration(e,t),yr(this.eventQueue_,e.path,n)},e.prototype.removeEventCallbackForQuery=function(e,t){var n;n=".info"===Y(e.path)?this.infoSyncTree_.removeEventRegistration(e,t):this.serverSyncTree_.removeEventRegistration(e,t),yr(this.eventQueue_,e.path,n)},e.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(Si)},e.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(Si)},e.prototype.stats=function(e){if(void 0===e&&(e=!1),"undefined"!==typeof console){var t;e?(this.statsListener_||(this.statsListener_=new ur(this.stats_)),t=this.statsListener_.get()):t=this.stats_.get();var n=Object.keys(t).reduce((function(e,t){return Math.max(t.length,e)}),0);D(t,(function(e,t){for(var r=e,i=e.length;i<n+2;i++)r+=" ";console.log(r+t)}))}},e.prototype.statsIncrementCounter=function(e){this.stats_.incrementCounter(e),this.statsReporter_.includeStat(e)},e.prototype.log_=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),b.apply(void 0,Object(i["f"])([n],e))},e.prototype.callOnCompleteCallback=function(e,t,n){e&&Q((function(){if("ok"===t)e(null);else{var r=(t||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,e(o)}}))},Object.defineProperty(e.prototype,"database",{get:function(){return this.__database||(this.__database=new Ai(this))},enumerable:!1,configurable:!0}),e.prototype.startTransaction=function(e,t,n,r){this.log_("transaction on "+e);var i=function(){},s=new ji(this,e);s.on("value",i);var a=function(){s.off("value",i)},c={path:e,update:t,onComplete:n,status:null,order:d(),applyLocally:r,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=this.getLatestState_(e);c.currentInputSnapshot=u;var l=c.update(u.val());if(void 0===l){if(c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete){var h=new Lt(c.currentInputSnapshot,new ji(this,c.path),yt);c.onComplete(null,!1,h)}}else{Ae("transaction failed: Data returned ",l,c.path),c.status=Gr.RUN;var p=this.transactionQueueTree_.subTree(e),f=p.getValue()||[];f.push(c),p.setValue(f);var v=void 0;if("object"===typeof l&&null!==l&&Object(o["i"])(l,".priority"))v=Object(o["y"])(l,".priority"),Object(o["e"])(Ie(v),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var y=this.serverSyncTree_.calcCompleteEventCache(e)||jt.EMPTY_NODE;v=y.getPriority().val()}var _=this.generateServerValues(),g=It(l,v),m=yn(g,u,_);c.currentOutputSnapshotRaw=g,c.currentOutputSnapshotResolved=m,c.currentWriteId=this.getNextWriteId_();var b=this.serverSyncTree_.applyUserOverwrite(e,m,c.currentWriteId,c.applyLocally);_r(this.eventQueue_,e,b),this.sendReadyTransactions_()}},e.prototype.getLatestState_=function(e,t){return this.serverSyncTree_.calcCompleteEventCache(e,t)||jt.EMPTY_NODE},e.prototype.sendReadyTransactions_=function(e){var t=this;if(void 0===e&&(e=this.transactionQueueTree_),e||this.pruneCompletedTransactionsBelowNode_(e),null!==e.getValue()){var n=this.buildTransactionQueue_(e);Object(o["e"])(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return e.status===Gr.RUN}));r&&this.sendTransactionQueue_(e.path(),n)}else e.hasChildren()&&e.forEachChild((function(e){t.sendReadyTransactions_(e)}))},e.prototype.sendTransactionQueue_=function(e,t){for(var n=this,r=t.map((function(e){return e.currentWriteId})),i=this.getLatestState_(e,r),s=i,a=i.hash(),c=0;c<t.length;c++){var u=t[c];Object(o["e"])(u.status===Gr.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=Gr.SENT,u.retryCount++;var l=ie(e,u.path);s=s.updateChild(l,u.currentOutputSnapshotRaw)}var h=s.val(!0),p=e;this.server_.put(p.toString(),h,(function(r){n.log_("transaction put response",{path:p.toString(),status:r});var i=[];if("ok"===r){for(var o=[],s=0;s<t.length;s++){if(t[s].status=Gr.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(t[s].currentWriteId)),t[s].onComplete){var a=t[s].currentOutputSnapshotResolved,c=new ji(n,t[s].path),u=new Lt(a,c,yt);o.push(t[s].onComplete.bind(null,null,!0,u))}t[s].unwatcher()}n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(e)),n.sendReadyTransactions_(),_r(n.eventQueue_,e,i);for(s=0;s<o.length;s++)Q(o[s])}else{if("datastale"===r)for(s=0;s<t.length;s++)t[s].status===Gr.SENT_NEEDS_ABORT?t[s].status=Gr.NEEDS_ABORT:t[s].status=Gr.RUN;else{E("transaction at "+p.toString()+" failed: "+r);for(s=0;s<t.length;s++)t[s].status=Gr.NEEDS_ABORT,t[s].abortReason=r}n.rerunTransactions_(e)}}),a)},e.prototype.rerunTransactions_=function(e){var t=this.getAncestorTransactionNode_(e),n=t.path(),r=this.buildTransactionQueue_(t);return this.rerunTransactionQueue_(r,n),n},e.prototype.rerunTransactionQueue_=function(e,t){if(0!==e.length){for(var n=[],r=[],i=e.filter((function(e){return e.status===Gr.RUN})),s=i.map((function(e){return e.currentWriteId})),a=0;a<e.length;a++){var c=e[a],u=ie(t,c.path),l=!1,h=void 0;if(Object(o["e"])(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===Gr.NEEDS_ABORT)l=!0,h=c.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(c.currentWriteId,!0));else if(c.status===Gr.RUN)if(c.retryCount>=Ti)l=!0,h="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(c.currentWriteId,!0));else{var p=this.getLatestState_(c.path,s);c.currentInputSnapshot=p;var f=e[a].update(p.val());if(void 0!==f){Ae("transaction failed: Data returned ",f,c.path);var d=It(f),v="object"===typeof f&&null!=f&&Object(o["i"])(f,".priority");v||(d=d.updatePriority(p.getPriority()));var y=c.currentWriteId,_=this.generateServerValues(),g=yn(d,p,_);c.currentOutputSnapshotRaw=d,c.currentOutputSnapshotResolved=g,c.currentWriteId=this.getNextWriteId_(),s.splice(s.indexOf(y),1),r=r.concat(this.serverSyncTree_.applyUserOverwrite(c.path,g,c.currentWriteId,c.applyLocally)),r=r.concat(this.serverSyncTree_.ackUserWrite(y,!0))}else l=!0,h="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(c.currentWriteId,!0))}if(_r(this.eventQueue_,t,r),r=[],l&&(e[a].status=Gr.COMPLETED,function(e){setTimeout(e,Math.floor(0))}(e[a].unwatcher),e[a].onComplete))if("nodata"===h){var m=new ji(this,e[a].path),b=e[a].currentInputSnapshot,w=new Lt(b,m,yt);n.push(e[a].onComplete.bind(null,null,!1,w))}else n.push(e[a].onComplete.bind(null,new Error(h),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(a=0;a<n.length;a++)Q(n[a]);this.sendReadyTransactions_()}},e.prototype.getAncestorTransactionNode_=function(e){var t,n=this.transactionQueueTree_;t=Y(e);while(null!==t&&null===n.getValue())n=n.subTree(t),e=X(e),t=Y(e);return n},e.prototype.buildTransactionQueue_=function(e){var t=[];return this.aggregateTransactionQueuesForNode_(e,t),t.sort((function(e,t){return e.order-t.order})),t},e.prototype.aggregateTransactionQueuesForNode_=function(e,t){var n=this,r=e.getValue();if(null!==r)for(var i=0;i<r.length;i++)t.push(r[i]);e.forEachChild((function(e){n.aggregateTransactionQueuesForNode_(e,t)}))},e.prototype.pruneCompletedTransactionsBelowNode_=function(e){var t=this,n=e.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==Gr.COMPLETED&&(n[r]=n[i],r++);n.length=r,e.setValue(n.length>0?n:null)}e.forEachChild((function(e){t.pruneCompletedTransactionsBelowNode_(e)}))},e.prototype.abortTransactions_=function(e){var t=this,n=this.getAncestorTransactionNode_(e).path(),r=this.transactionQueueTree_.subTree(e);return r.forEachAncestor((function(e){t.abortTransactionsOnNode_(e)})),this.abortTransactionsOnNode_(r),r.forEachDescendant((function(e){t.abortTransactionsOnNode_(e)})),n},e.prototype.abortTransactionsOnNode_=function(e){var t=e.getValue();if(null!==t){for(var n=[],r=[],i=-1,s=0;s<t.length;s++)if(t[s].status===Gr.SENT_NEEDS_ABORT);else if(t[s].status===Gr.SENT)Object(o["e"])(i===s-1,"All SENT items should be at beginning of queue."),i=s,t[s].status=Gr.SENT_NEEDS_ABORT,t[s].abortReason="set";else if(Object(o["e"])(t[s].status===Gr.RUN,"Unexpected transaction status in abort"),t[s].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(t[s].currentWriteId,!0)),t[s].onComplete){var a=null;n.push(t[s].onComplete.bind(null,new Error("set"),!1,a))}-1===i?e.setValue(null):t.length=i+1,_r(this.eventQueue_,e.path(),r);for(s=0;s<n.length;s++)Q(n[s])}},e}(),ji=function(e){function t(t,n){var r=this;if(!(t instanceof xi))throw new Error("new Reference() no longer supported - use app.database().");return r=e.call(this,t,n,new $t,!1)||this,r}return Object(i["c"])(t,e),t.prototype.getKey=function(){return Object(o["C"])("Reference.key",0,0,arguments.length),re(this.path)?null:J(this.path)},t.prototype.child=function(e){return Object(o["C"])("Reference.child",1,1,arguments.length),"number"===typeof e?e=String(e):e instanceof K||(null===Y(this.path)?Be("Reference.child",1,e,!1):qe("Reference.child",1,e,!1)),new t(this.repo,ne(this.path,e))},t.prototype.getParent=function(){Object(o["C"])("Reference.parent",0,0,arguments.length);var e=te(this.path);return null===e?null:new t(this.repo,e)},t.prototype.getRoot=function(){Object(o["C"])("Reference.root",0,0,arguments.length);var e=this;while(null!==e.getParent())e=e.getParent();return e},t.prototype.databaseProp=function(){return this.repo.database},t.prototype.set=function(e,t){Object(o["C"])("Reference.set",1,2,arguments.length),We("Reference.set",this.path),Ne("Reference.set",1,e,this.path,!1),Object(o["D"])("Reference.set",2,t,!0);var n=new o["a"];return this.repo.setWithPriority(this.path,e,null,n.wrapCallback(t)),n.promise},t.prototype.update=function(e,t){if(Object(o["C"])("Reference.update",1,2,arguments.length),We("Reference.update",this.path),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,E("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Le("Reference.update",1,e,this.path,!1),Object(o["D"])("Reference.update",2,t,!0);var i=new o["a"];return this.repo.update(this.path,e,i.wrapCallback(t)),i.promise},t.prototype.setWithPriority=function(e,t,n){if(Object(o["C"])("Reference.setWithPriority",2,3,arguments.length),We("Reference.setWithPriority",this.path),Ne("Reference.setWithPriority",1,e,this.path,!1),Fe("Reference.setWithPriority",2,t,!1),Object(o["D"])("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new o["a"];return this.repo.setWithPriority(this.path,e,t,r.wrapCallback(n)),r.promise},t.prototype.remove=function(e){return Object(o["C"])("Reference.remove",0,1,arguments.length),We("Reference.remove",this.path),Object(o["D"])("Reference.remove",1,e,!0),this.set(null,e)},t.prototype.transaction=function(e,t,n){if(Object(o["C"])("Reference.transaction",1,3,arguments.length),We("Reference.transaction",this.path),Object(o["D"])("Reference.transaction",1,e,!1),Object(o["D"])("Reference.transaction",2,t,!0),Qe("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new o["a"];"function"===typeof t&&r.promise.catch((function(){}));var i=function(e,n,i){e?r.reject(e):r.resolve(new ze(n,i)),"function"===typeof t&&t(e,n,i)};return this.repo.startTransaction(this.path,e,i,n),r.promise},t.prototype.setPriority=function(e,t){Object(o["C"])("Reference.setPriority",1,2,arguments.length),We("Reference.setPriority",this.path),Fe("Reference.setPriority",1,e,!1),Object(o["D"])("Reference.setPriority",2,t,!0);var n=new o["a"];return this.repo.setWithPriority(ne(this.path,".priority"),e,null,n.wrapCallback(t)),n.promise},t.prototype.push=function(e,t){Object(o["C"])("Reference.push",0,2,arguments.length),We("Reference.push",this.path),Ne("Reference.push",1,e,this.path,!0),Object(o["D"])("Reference.push",2,t,!0);var n,r=this.repo.serverTime(),i=Xe(r),s=this.child(i),a=this.child(i);return n=null!=e?s.set(e,t).then((function(){return a})):Promise.resolve(a),s.then=n.then.bind(n),s.catch=n.then.bind(n,void 0),"function"===typeof t&&n.catch((function(){})),s},t.prototype.onDisconnect=function(){return We("Reference.onDisconnect",this.path),new He(this.repo,this.path)},Object.defineProperty(t.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(cn);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.__referenceConstructor=ji,Hn.__referenceConstructor=ji;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ri,Pi=function(){function e(e,t){var n=this;this.app_=e,this.authProvider_=t,this.auth_=null,this.auth_=t.getImmediate({optional:!0}),this.auth_||t.get().then((function(e){return n.auth_=e}))}return e.prototype.getToken=function(e){return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(b("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):Promise.resolve(null)},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):(setTimeout((function(){return e(null)}),0),this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)})))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',E(e)},e}(),ki=function(){function e(){}return e.prototype.getToken=function(t){return Promise.resolve({accessToken:e.EMULATOR_AUTH_TOKEN})},e.prototype.addTokenChangeListener=function(t){t(e.EMULATOR_AUTH_TOKEN)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.EMULATOR_AUTH_TOKEN="owner",e}(),Ii="FIREBASE_DATABASE_EMULATOR_HOST",Ni=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return Ri||(Ri=new t),Ri},t.prototype.interrupt=function(){var e,t,n,r;try{for(var o=Object(i["h"])(Object.keys(this.repos_)),s=o.next();!s.done;s=o.next()){var a=s.value;try{for(var c=(n=void 0,Object(i["h"])(Object.keys(this.repos_[a]))),u=c.next();!u.done;u=c.next()){var l=u.value;this.repos_[a][l].interrupt()}}catch(h){n={error:h}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}}catch(p){e={error:p}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}},t.prototype.resume=function(){var e,t,n,r;try{for(var o=Object(i["h"])(Object.keys(this.repos_)),s=o.next();!s.done;s=o.next()){var a=s.value;try{for(var c=(n=void 0,Object(i["h"])(Object.keys(this.repos_[a]))),u=c.next();!u.done;u=c.next()){var l=u.value;this.repos_[a][l].resume()}}catch(h){n={error:h}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}}catch(p){e={error:p}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}},t.prototype.applyEmulatorSettings=function(e,t,n){e.repoInfo_=new me(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),e.repoInfo_.nodeAdmin&&(e.authTokenProvider_=new ki)},t.prototype.databaseFromApp=function(t,n,r,i){var o=r||t.options.databaseURL;void 0===o&&(t.options.projectId||C("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),b("Using default host for project ",t.options.projectId),o=t.options.projectId+"-default-rtdb.firebaseio.com");var s,a=Ee(o,i),c=a.repoInfo,u=void 0;"undefined"!==typeof e&&(u=Object({NODE_ENV:"production",BASE_URL:"/"})[Ii]),u?(s=!0,o="http://"+u+"?ns="+c.namespace,a=Ee(o,i),c=a.repoInfo):s=!a.repoInfo.secure;var l=i&&s?new ki:new Pi(t,n);Ve("Invalid Firebase Database URL",1,a),re(a.path)||C("Database URL must point to the root of a Firebase Database (not including a child path).");var h=this.createRepo(c,t,l);return h.database},t.prototype.deleteRepo=function(e){var t=Object(o["y"])(this.repos_,e.app.name);t&&Object(o["y"])(t,e.key)===e||C("Database "+e.app.name+"("+e.repoInfo_+") has already been deleted."),e.interrupt(),delete t[e.key]},t.prototype.createRepo=function(e,t,n){var r=Object(o["y"])(this.repos_,t.name);r||(r={},this.repos_[t.name]=r);var i=Object(o["y"])(r,e.toURLString());return i&&C("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new xi(e,this.useRestClient_,t,n),r[e.toURLString()]=i,i},t.prototype.forceRestClient=function(e){this.useRestClient_=e},t}(),Ai=function(){function e(e){var t=this;this.repoInternal_=e,this.instanceStarted_=!1,this.INTERNAL={delete:function(){return Object(i["b"])(t,void 0,void 0,(function(){return Object(i["d"])(this,(function(e){return this.checkDeleted_("delete"),Ni.getInstance().deleteRepo(this.repo_),this.repoInternal_=null,this.rootInternal_=null,[2]}))}))}},e instanceof xi||C("Don't call new Database() directly - please use firebase.database().")}return Object.defineProperty(e.prototype,"repo_",{get:function(){return this.instanceStarted_||(this.repoInternal_.start(),this.instanceStarted_=!0),this.repoInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root_",{get:function(){return this.rootInternal_||(this.rootInternal_=new ji(this.repo_,G())),this.rootInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),e.prototype.useEmulator=function(e,t){this.checkDeleted_("useEmulator"),this.instanceStarted_?C("Cannot call useEmulator() after instance has already been initialized."):Ni.getInstance().applyEmulatorSettings(this.repoInternal_,e,t)},e.prototype.ref=function(e){return this.checkDeleted_("ref"),Object(o["C"])("database.ref",0,1,arguments.length),e instanceof ji?this.refFromURL(e.toString()):void 0!==e?this.root_.child(e):this.root_},e.prototype.refFromURL=function(e){var t="database.refFromURL";this.checkDeleted_(t),Object(o["C"])(t,1,1,arguments.length);var n=Ee(e,this.repo_.repoInfo_.nodeAdmin);Ve(t,1,n);var r=n.repoInfo;return this.repo_.repoInfo_.isCustomHost()||r.host===this.repo_.repoInfo_.host||C(t+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},e.prototype.checkDeleted_=function(e){null===this.repoInternal_&&C("Cannot call "+e+" on a deleted database.")},e.prototype.goOffline=function(){Object(o["C"])("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},e.prototype.goOnline=function(){Object(o["C"])("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},e.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(e){return{".sv":{increment:e}}}},e}(),Di=function(){Yr.forceDisallow(),Br.forceAllow()},Li=function(){Br.forceDisallow()},Fi=function(){return Yr["isAvailable"]()},Mi=function(e,t){e.repo.persistentConnection_.securityDebugCallback_=t},Ui=function(e,t){e.repo.stats(t)},qi=function(e,t){e.repo.statsIncrementCounter(t)},Bi=function(e){return e.repo.dataUpdateCount},Wi=function(e,t){return e.repo.interceptServerData_(t)};function Vi(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,o=e.namespace,s=e.nodeAdmin,c=void 0!==s&&s;Qr(r);var u=new a["c"]("auth-internal",new a["b"]("database-standalone"));return u.setComponent(new a["a"]("auth-internal",(function(){return i}),"PRIVATE")),{instance:Ni.getInstance().databaseFromApp(t,u,n,c),namespace:o}}var Qi=Object.freeze({__proto__:null,forceLongPolling:Di,forceWebSockets:Li,isWebSocketsAvailable:Fi,setSecurityDebugCallback:Mi,stats:Ui,statsIncrementCounter:qi,dataUpdateCount:Bi,interceptServerData:Wi,initStandalone:Vi}),Hi=wi;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wi.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},wi.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var zi=hi,Ki=function(e){var t=wi.prototype.put;return wi.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){wi.prototype.put=t}},Gi=me,Yi=function(e){return e.queryIdentifier()},$i=function(e){Ni.getInstance().forceRestClient(e)},Xi=Object.freeze({__proto__:null,DataConnection:Hi,RealTimeConnection:zi,hijackHash:Ki,ConnectionTarget:Gi,queryIdentifier:Yi,forceRestClient:$i}),Ji="@firebase/database",Zi="0.9.4",eo=Ai.ServerValue;function to(e){Qr(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new a["a"]("database",(function(e,t){var n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal");return Ni.getInstance().databaseFromApp(n,r,t)}),"PUBLIC").setServiceProps({Reference:ji,Query:cn,Database:Ai,DataSnapshot:Lt,enableLogging:m,INTERNAL:Qi,ServerValue:eo,TEST_ACCESS:Xi}).setMultipleInstances(!0));e.registerVersion(Ji,Zi),Object(o["s"])()&&(t.exports=n)}to(r["a"])}).call(this,n("4362"),n("dd40")(e))},e95a:function(e,t,n){var r=n("b622"),i=n("3f8c"),o=r("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||s[o]===e)}},f069:function(e,t,n){"use strict";var r=n("1c0b"),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},f5df:function(e,t,n){var r=n("00ee"),i=n("c6b6"),o=n("b622"),s=o("toStringTag"),a="Arguments"==i(function(){return arguments}()),c=function(e,t){try{return e[t]}catch(n){}};e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=c(t=Object(e),s))?n:a?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},f772:function(e,t,n){var r=n("5692"),i=n("90e3"),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},fc6a:function(e,t,n){var r=n("44ad"),i=n("1d80");e.exports=function(e){return r(i(e))}},fdbf:function(e,t,n){var r=n("4930");e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},fea9:function(e,t,n){var r=n("da84");e.exports=r.Promise},ffa6:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return a}));var r=n("9ab4"),i=n("a8e9"),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e}(),s="[DEFAULT]",a=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(e){void 0===e&&(e=s);var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i["a"];this.instancesDeferred.set(t,n);try{var r=this.getOrInitializeService(t);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=Object(r["a"])({identifier:s,optional:!1},e),n=t.identifier,i=t.optional,o=this.normalizeInstanceIdentifier(n);try{var a=this.getOrInitializeService(o);if(!a){if(i)return null;throw Error("Service "+this.name+" is not available")}return a}catch(c){if(i)return null;throw c}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,u(e))try{this.getOrInitializeService(s)}catch(f){}try{for(var i=Object(r["h"])(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r["e"])(o.value,2),c=a[0],l=a[1],h=this.normalizeInstanceIdentifier(c);try{var p=this.getOrInitializeService(h);l.resolve(p)}catch(f){}}}catch(d){t={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.clearInstance=function(e){void 0===e&&(e=s),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Object(r["f"])(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})),e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()}))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=s),this.instances.has(e)},e.prototype.getOrInitializeService=function(e){var t=this.instances.get(e);return!t&&this.component&&(t=this.component.instanceFactory(this.container,c(e)),this.instances.set(e,t)),t||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:s:e},e}();function c(e){return e===s?void 0:e}function u(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){var t=this.getProvider(e.name);t.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new a(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()}}]);
//# sourceMappingURL=chunk-vendors.b53730b3.js.map